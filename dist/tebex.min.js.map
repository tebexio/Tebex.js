{"version":3,"file":"tebex.min.js","sources":["../node_modules/tslib/tslib.es6.js","../node_modules/rollup-plugin-node-globals/src/global.js","../node_modules/process-es6/browser.js","../src/utils/err.ts","../src/utils/is.ts","../node_modules/bowser/src/constants.js","../node_modules/bowser/src/utils.js","../node_modules/bowser/src/parser-browsers.js","../node_modules/bowser/src/parser-os.js","../node_modules/bowser/src/parser-platforms.js","../node_modules/bowser/src/parser-engines.js","../node_modules/bowser/src/parser.js","../node_modules/bowser/src/bowser.js","../src/utils/detect.ts","../src/utils/dom.ts","../src/utils/css.ts","../src/stubs/window.ts","../node_modules/buffer-es6/base64.js","../node_modules/buffer-es6/ieee754.js","../node_modules/buffer-es6/isArray.js","../node_modules/buffer-es6/index.js","../node_modules/zoid/dist/zoid.frame.js","../node_modules/zoid/dist/zoid.js","../node_modules/zoid/index.js","../node_modules/nanoevents/index.js","../src/lightbox.tsx","../src/spinner.tsx","../src/checkout.ts","../src/legacy/events.ts","../src/index.ts"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    function next() {\r\n        while (env.stack.length) {\r\n            var rec = env.stack.pop();\r\n            try {\r\n                var result = rec.dispose && rec.dispose.call(rec.value);\r\n                if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n};\r\n","export default (typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {});\n","// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\nif (typeof global.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout;\n}\nif (typeof global.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nexport function nextTick(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nexport var title = 'browser';\nexport var platform = 'browser';\nexport var browser = true;\nexport var env = {};\nexport var argv = [];\nexport var version = ''; // empty string to avoid regexp issues\nexport var versions = {};\nexport var release = {};\nexport var config = {};\n\nfunction noop() {}\n\nexport var on = noop;\nexport var addListener = noop;\nexport var once = noop;\nexport var off = noop;\nexport var removeListener = noop;\nexport var removeAllListeners = noop;\nexport var emit = noop;\n\nexport function binding(name) {\n    throw new Error('process.binding is not supported');\n}\n\nexport function cwd () { return '/' }\nexport function chdir (dir) {\n    throw new Error('process.chdir is not supported');\n};\nexport function umask() { return 0; }\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance = global.performance || {}\nvar performanceNow =\n  performance.now        ||\n  performance.mozNow     ||\n  performance.msNow      ||\n  performance.oNow       ||\n  performance.webkitNow  ||\n  function(){ return (new Date()).getTime() }\n\n// generate timestamp or delta\n// see http://nodejs.org/api/process.html#process_process_hrtime\nexport function hrtime(previousTimestamp){\n  var clocktime = performanceNow.call(performance)*1e-3\n  var seconds = Math.floor(clocktime)\n  var nanoseconds = Math.floor((clocktime%1)*1e9)\n  if (previousTimestamp) {\n    seconds = seconds - previousTimestamp[0]\n    nanoseconds = nanoseconds - previousTimestamp[1]\n    if (nanoseconds<0) {\n      seconds--\n      nanoseconds += 1e9\n    }\n  }\n  return [seconds,nanoseconds]\n}\n\nvar startTime = new Date();\nexport function uptime() {\n  var currentTime = new Date();\n  var dif = currentTime - startTime;\n  return dif / 1000;\n}\n\nexport default {\n  nextTick: nextTick,\n  title: title,\n  browser: browser,\n  env: env,\n  argv: argv,\n  version: version,\n  versions: versions,\n  on: on,\n  addListener: addListener,\n  once: once,\n  off: off,\n  removeListener: removeListener,\n  removeAllListeners: removeAllListeners,\n  emit: emit,\n  binding: binding,\n  cwd: cwd,\n  chdir: chdir,\n  umask: umask,\n  hrtime: hrtime,\n  platform: platform,\n  release: release,\n  config: config,\n  uptime: uptime\n};\n",null,null,"// NOTE: this list must be up-to-date with browsers listed in\n// test/acceptance/useragentstrings.yml\nexport const BROWSER_ALIASES_MAP = {\n  'Amazon Silk': 'amazon_silk',\n  'Android Browser': 'android',\n  Bada: 'bada',\n  BlackBerry: 'blackberry',\n  Chrome: 'chrome',\n  Chromium: 'chromium',\n  Electron: 'electron',\n  Epiphany: 'epiphany',\n  Firefox: 'firefox',\n  Focus: 'focus',\n  Generic: 'generic',\n  'Google Search': 'google_search',\n  Googlebot: 'googlebot',\n  'Internet Explorer': 'ie',\n  'K-Meleon': 'k_meleon',\n  Maxthon: 'maxthon',\n  'Microsoft Edge': 'edge',\n  'MZ Browser': 'mz',\n  'NAVER Whale Browser': 'naver',\n  Opera: 'opera',\n  'Opera Coast': 'opera_coast',\n  PhantomJS: 'phantomjs',\n  Puffin: 'puffin',\n  QupZilla: 'qupzilla',\n  QQ: 'qq',\n  QQLite: 'qqlite',\n  Safari: 'safari',\n  Sailfish: 'sailfish',\n  'Samsung Internet for Android': 'samsung_internet',\n  SeaMonkey: 'seamonkey',\n  Sleipnir: 'sleipnir',\n  Swing: 'swing',\n  Tizen: 'tizen',\n  'UC Browser': 'uc',\n  Vivaldi: 'vivaldi',\n  'WebOS Browser': 'webos',\n  WeChat: 'wechat',\n  'Yandex Browser': 'yandex',\n  Roku: 'roku',\n};\n\nexport const BROWSER_MAP = {\n  amazon_silk: 'Amazon Silk',\n  android: 'Android Browser',\n  bada: 'Bada',\n  blackberry: 'BlackBerry',\n  chrome: 'Chrome',\n  chromium: 'Chromium',\n  electron: 'Electron',\n  epiphany: 'Epiphany',\n  firefox: 'Firefox',\n  focus: 'Focus',\n  generic: 'Generic',\n  googlebot: 'Googlebot',\n  google_search: 'Google Search',\n  ie: 'Internet Explorer',\n  k_meleon: 'K-Meleon',\n  maxthon: 'Maxthon',\n  edge: 'Microsoft Edge',\n  mz: 'MZ Browser',\n  naver: 'NAVER Whale Browser',\n  opera: 'Opera',\n  opera_coast: 'Opera Coast',\n  phantomjs: 'PhantomJS',\n  puffin: 'Puffin',\n  qupzilla: 'QupZilla',\n  qq: 'QQ Browser',\n  qqlite: 'QQ Browser Lite',\n  safari: 'Safari',\n  sailfish: 'Sailfish',\n  samsung_internet: 'Samsung Internet for Android',\n  seamonkey: 'SeaMonkey',\n  sleipnir: 'Sleipnir',\n  swing: 'Swing',\n  tizen: 'Tizen',\n  uc: 'UC Browser',\n  vivaldi: 'Vivaldi',\n  webos: 'WebOS Browser',\n  wechat: 'WeChat',\n  yandex: 'Yandex Browser',\n};\n\nexport const PLATFORMS_MAP = {\n  tablet: 'tablet',\n  mobile: 'mobile',\n  desktop: 'desktop',\n  tv: 'tv',\n};\n\nexport const OS_MAP = {\n  WindowsPhone: 'Windows Phone',\n  Windows: 'Windows',\n  MacOS: 'macOS',\n  iOS: 'iOS',\n  Android: 'Android',\n  WebOS: 'WebOS',\n  BlackBerry: 'BlackBerry',\n  Bada: 'Bada',\n  Tizen: 'Tizen',\n  Linux: 'Linux',\n  ChromeOS: 'Chrome OS',\n  PlayStation4: 'PlayStation 4',\n  Roku: 'Roku',\n};\n\nexport const ENGINE_MAP = {\n  EdgeHTML: 'EdgeHTML',\n  Blink: 'Blink',\n  Trident: 'Trident',\n  Presto: 'Presto',\n  Gecko: 'Gecko',\n  WebKit: 'WebKit',\n};\n","import { BROWSER_MAP, BROWSER_ALIASES_MAP } from './constants.js';\n\nexport default class Utils {\n  /**\n   * Get first matched item for a string\n   * @param {RegExp} regexp\n   * @param {String} ua\n   * @return {Array|{index: number, input: string}|*|boolean|string}\n   */\n  static getFirstMatch(regexp, ua) {\n    const match = ua.match(regexp);\n    return (match && match.length > 0 && match[1]) || '';\n  }\n\n  /**\n   * Get second matched item for a string\n   * @param regexp\n   * @param {String} ua\n   * @return {Array|{index: number, input: string}|*|boolean|string}\n   */\n  static getSecondMatch(regexp, ua) {\n    const match = ua.match(regexp);\n    return (match && match.length > 1 && match[2]) || '';\n  }\n\n  /**\n   * Match a regexp and return a constant or undefined\n   * @param {RegExp} regexp\n   * @param {String} ua\n   * @param {*} _const Any const that will be returned if regexp matches the string\n   * @return {*}\n   */\n  static matchAndReturnConst(regexp, ua, _const) {\n    if (regexp.test(ua)) {\n      return _const;\n    }\n    return void (0);\n  }\n\n  static getWindowsVersionName(version) {\n    switch (version) {\n      case 'NT': return 'NT';\n      case 'XP': return 'XP';\n      case 'NT 5.0': return '2000';\n      case 'NT 5.1': return 'XP';\n      case 'NT 5.2': return '2003';\n      case 'NT 6.0': return 'Vista';\n      case 'NT 6.1': return '7';\n      case 'NT 6.2': return '8';\n      case 'NT 6.3': return '8.1';\n      case 'NT 10.0': return '10';\n      default: return undefined;\n    }\n  }\n\n  /**\n   * Get macOS version name\n   *    10.5 - Leopard\n   *    10.6 - Snow Leopard\n   *    10.7 - Lion\n   *    10.8 - Mountain Lion\n   *    10.9 - Mavericks\n   *    10.10 - Yosemite\n   *    10.11 - El Capitan\n   *    10.12 - Sierra\n   *    10.13 - High Sierra\n   *    10.14 - Mojave\n   *    10.15 - Catalina\n   *\n   * @example\n   *   getMacOSVersionName(\"10.14\") // 'Mojave'\n   *\n   * @param  {string} version\n   * @return {string} versionName\n   */\n  static getMacOSVersionName(version) {\n    const v = version.split('.').splice(0, 2).map(s => parseInt(s, 10) || 0);\n    v.push(0);\n    if (v[0] !== 10) return undefined;\n    switch (v[1]) {\n      case 5: return 'Leopard';\n      case 6: return 'Snow Leopard';\n      case 7: return 'Lion';\n      case 8: return 'Mountain Lion';\n      case 9: return 'Mavericks';\n      case 10: return 'Yosemite';\n      case 11: return 'El Capitan';\n      case 12: return 'Sierra';\n      case 13: return 'High Sierra';\n      case 14: return 'Mojave';\n      case 15: return 'Catalina';\n      default: return undefined;\n    }\n  }\n\n  /**\n   * Get Android version name\n   *    1.5 - Cupcake\n   *    1.6 - Donut\n   *    2.0 - Eclair\n   *    2.1 - Eclair\n   *    2.2 - Froyo\n   *    2.x - Gingerbread\n   *    3.x - Honeycomb\n   *    4.0 - Ice Cream Sandwich\n   *    4.1 - Jelly Bean\n   *    4.4 - KitKat\n   *    5.x - Lollipop\n   *    6.x - Marshmallow\n   *    7.x - Nougat\n   *    8.x - Oreo\n   *    9.x - Pie\n   *\n   * @example\n   *   getAndroidVersionName(\"7.0\") // 'Nougat'\n   *\n   * @param  {string} version\n   * @return {string} versionName\n   */\n  static getAndroidVersionName(version) {\n    const v = version.split('.').splice(0, 2).map(s => parseInt(s, 10) || 0);\n    v.push(0);\n    if (v[0] === 1 && v[1] < 5) return undefined;\n    if (v[0] === 1 && v[1] < 6) return 'Cupcake';\n    if (v[0] === 1 && v[1] >= 6) return 'Donut';\n    if (v[0] === 2 && v[1] < 2) return 'Eclair';\n    if (v[0] === 2 && v[1] === 2) return 'Froyo';\n    if (v[0] === 2 && v[1] > 2) return 'Gingerbread';\n    if (v[0] === 3) return 'Honeycomb';\n    if (v[0] === 4 && v[1] < 1) return 'Ice Cream Sandwich';\n    if (v[0] === 4 && v[1] < 4) return 'Jelly Bean';\n    if (v[0] === 4 && v[1] >= 4) return 'KitKat';\n    if (v[0] === 5) return 'Lollipop';\n    if (v[0] === 6) return 'Marshmallow';\n    if (v[0] === 7) return 'Nougat';\n    if (v[0] === 8) return 'Oreo';\n    if (v[0] === 9) return 'Pie';\n    return undefined;\n  }\n\n  /**\n   * Get version precisions count\n   *\n   * @example\n   *   getVersionPrecision(\"1.10.3\") // 3\n   *\n   * @param  {string} version\n   * @return {number}\n   */\n  static getVersionPrecision(version) {\n    return version.split('.').length;\n  }\n\n  /**\n   * Calculate browser version weight\n   *\n   * @example\n   *   compareVersions('1.10.2.1',  '1.8.2.1.90')    // 1\n   *   compareVersions('1.010.2.1', '1.09.2.1.90');  // 1\n   *   compareVersions('1.10.2.1',  '1.10.2.1');     // 0\n   *   compareVersions('1.10.2.1',  '1.0800.2');     // -1\n   *   compareVersions('1.10.2.1',  '1.10',  true);  // 0\n   *\n   * @param {String} versionA versions versions to compare\n   * @param {String} versionB versions versions to compare\n   * @param {boolean} [isLoose] enable loose comparison\n   * @return {Number} comparison result: -1 when versionA is lower,\n   * 1 when versionA is bigger, 0 when both equal\n   */\n  /* eslint consistent-return: 1 */\n  static compareVersions(versionA, versionB, isLoose = false) {\n    // 1) get common precision for both versions, for example for \"10.0\" and \"9\" it should be 2\n    const versionAPrecision = Utils.getVersionPrecision(versionA);\n    const versionBPrecision = Utils.getVersionPrecision(versionB);\n\n    let precision = Math.max(versionAPrecision, versionBPrecision);\n    let lastPrecision = 0;\n\n    const chunks = Utils.map([versionA, versionB], (version) => {\n      const delta = precision - Utils.getVersionPrecision(version);\n\n      // 2) \"9\" -> \"9.0\" (for precision = 2)\n      const _version = version + new Array(delta + 1).join('.0');\n\n      // 3) \"9.0\" -> [\"000000000\"\", \"000000009\"]\n      return Utils.map(_version.split('.'), chunk => new Array(20 - chunk.length).join('0') + chunk).reverse();\n    });\n\n    // adjust precision for loose comparison\n    if (isLoose) {\n      lastPrecision = precision - Math.min(versionAPrecision, versionBPrecision);\n    }\n\n    // iterate in reverse order by reversed chunks array\n    precision -= 1;\n    while (precision >= lastPrecision) {\n      // 4) compare: \"000000009\" > \"000000010\" = false (but \"9\" > \"10\" = true)\n      if (chunks[0][precision] > chunks[1][precision]) {\n        return 1;\n      }\n\n      if (chunks[0][precision] === chunks[1][precision]) {\n        if (precision === lastPrecision) {\n          // all version chunks are same\n          return 0;\n        }\n\n        precision -= 1;\n      } else if (chunks[0][precision] < chunks[1][precision]) {\n        return -1;\n      }\n    }\n\n    return undefined;\n  }\n\n  /**\n   * Array::map polyfill\n   *\n   * @param  {Array} arr\n   * @param  {Function} iterator\n   * @return {Array}\n   */\n  static map(arr, iterator) {\n    const result = [];\n    let i;\n    if (Array.prototype.map) {\n      return Array.prototype.map.call(arr, iterator);\n    }\n    for (i = 0; i < arr.length; i += 1) {\n      result.push(iterator(arr[i]));\n    }\n    return result;\n  }\n\n  /**\n   * Array::find polyfill\n   *\n   * @param  {Array} arr\n   * @param  {Function} predicate\n   * @return {Array}\n   */\n  static find(arr, predicate) {\n    let i;\n    let l;\n    if (Array.prototype.find) {\n      return Array.prototype.find.call(arr, predicate);\n    }\n    for (i = 0, l = arr.length; i < l; i += 1) {\n      const value = arr[i];\n      if (predicate(value, i)) {\n        return value;\n      }\n    }\n    return undefined;\n  }\n\n  /**\n   * Object::assign polyfill\n   *\n   * @param  {Object} obj\n   * @param  {Object} ...objs\n   * @return {Object}\n   */\n  static assign(obj, ...assigners) {\n    const result = obj;\n    let i;\n    let l;\n    if (Object.assign) {\n      return Object.assign(obj, ...assigners);\n    }\n    for (i = 0, l = assigners.length; i < l; i += 1) {\n      const assigner = assigners[i];\n      if (typeof assigner === 'object' && assigner !== null) {\n        const keys = Object.keys(assigner);\n        keys.forEach((key) => {\n          result[key] = assigner[key];\n        });\n      }\n    }\n    return obj;\n  }\n\n  /**\n   * Get short version/alias for a browser name\n   *\n   * @example\n   *   getBrowserAlias('Microsoft Edge') // edge\n   *\n   * @param  {string} browserName\n   * @return {string}\n   */\n  static getBrowserAlias(browserName) {\n    return BROWSER_ALIASES_MAP[browserName];\n  }\n\n  /**\n   * Get short version/alias for a browser name\n   *\n   * @example\n   *   getBrowserAlias('edge') // Microsoft Edge\n   *\n   * @param  {string} browserAlias\n   * @return {string}\n   */\n  static getBrowserTypeByAlias(browserAlias) {\n    return BROWSER_MAP[browserAlias] || '';\n  }\n}\n","/**\n * Browsers' descriptors\n *\n * The idea of descriptors is simple. You should know about them two simple things:\n * 1. Every descriptor has a method or property called `test` and a `describe` method.\n * 2. Order of descriptors is important.\n *\n * More details:\n * 1. Method or property `test` serves as a way to detect whether the UA string\n * matches some certain browser or not. The `describe` method helps to make a result\n * object with params that show some browser-specific things: name, version, etc.\n * 2. Order of descriptors is important because a Parser goes through them one by one\n * in course. For example, if you insert Chrome's descriptor as the first one,\n * more then a half of browsers will be described as Chrome, because they will pass\n * the Chrome descriptor's test.\n *\n * Descriptor's `test` could be a property with an array of RegExps, where every RegExp\n * will be applied to a UA string to test it whether it matches or not.\n * If a descriptor has two or more regexps in the `test` array it tests them one by one\n * with a logical sum operation. Parser stops if it has found any RegExp that matches the UA.\n *\n * Or `test` could be a method. In that case it gets a Parser instance and should\n * return true/false to get the Parser know if this browser descriptor matches the UA or not.\n */\n\nimport Utils from './utils.js';\n\nconst commonVersionIdentifier = /version\\/(\\d+(\\.?_?\\d+)+)/i;\n\nconst browsersList = [\n  /* Googlebot */\n  {\n    test: [/googlebot/i],\n    describe(ua) {\n      const browser = {\n        name: 'Googlebot',\n      };\n      const version = Utils.getFirstMatch(/googlebot\\/(\\d+(\\.\\d+))/i, ua) || Utils.getFirstMatch(commonVersionIdentifier, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n\n  /* Opera < 13.0 */\n  {\n    test: [/opera/i],\n    describe(ua) {\n      const browser = {\n        name: 'Opera',\n      };\n      const version = Utils.getFirstMatch(commonVersionIdentifier, ua) || Utils.getFirstMatch(/(?:opera)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n\n  /* Opera > 13.0 */\n  {\n    test: [/opr\\/|opios/i],\n    describe(ua) {\n      const browser = {\n        name: 'Opera',\n      };\n      const version = Utils.getFirstMatch(/(?:opr|opios)[\\s/](\\S+)/i, ua) || Utils.getFirstMatch(commonVersionIdentifier, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/SamsungBrowser/i],\n    describe(ua) {\n      const browser = {\n        name: 'Samsung Internet for Android',\n      };\n      const version = Utils.getFirstMatch(commonVersionIdentifier, ua) || Utils.getFirstMatch(/(?:SamsungBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/Whale/i],\n    describe(ua) {\n      const browser = {\n        name: 'NAVER Whale Browser',\n      };\n      const version = Utils.getFirstMatch(commonVersionIdentifier, ua) || Utils.getFirstMatch(/(?:whale)[\\s/](\\d+(?:\\.\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/MZBrowser/i],\n    describe(ua) {\n      const browser = {\n        name: 'MZ Browser',\n      };\n      const version = Utils.getFirstMatch(/(?:MZBrowser)[\\s/](\\d+(?:\\.\\d+)+)/i, ua) || Utils.getFirstMatch(commonVersionIdentifier, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/focus/i],\n    describe(ua) {\n      const browser = {\n        name: 'Focus',\n      };\n      const version = Utils.getFirstMatch(/(?:focus)[\\s/](\\d+(?:\\.\\d+)+)/i, ua) || Utils.getFirstMatch(commonVersionIdentifier, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/swing/i],\n    describe(ua) {\n      const browser = {\n        name: 'Swing',\n      };\n      const version = Utils.getFirstMatch(/(?:swing)[\\s/](\\d+(?:\\.\\d+)+)/i, ua) || Utils.getFirstMatch(commonVersionIdentifier, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/coast/i],\n    describe(ua) {\n      const browser = {\n        name: 'Opera Coast',\n      };\n      const version = Utils.getFirstMatch(commonVersionIdentifier, ua) || Utils.getFirstMatch(/(?:coast)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/opt\\/\\d+(?:.?_?\\d+)+/i],\n    describe(ua) {\n      const browser = {\n        name: 'Opera Touch',\n      };\n      const version = Utils.getFirstMatch(/(?:opt)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua) || Utils.getFirstMatch(commonVersionIdentifier, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/yabrowser/i],\n    describe(ua) {\n      const browser = {\n        name: 'Yandex Browser',\n      };\n      const version = Utils.getFirstMatch(/(?:yabrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua) || Utils.getFirstMatch(commonVersionIdentifier, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/ucbrowser/i],\n    describe(ua) {\n      const browser = {\n        name: 'UC Browser',\n      };\n      const version = Utils.getFirstMatch(commonVersionIdentifier, ua) || Utils.getFirstMatch(/(?:ucbrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/Maxthon|mxios/i],\n    describe(ua) {\n      const browser = {\n        name: 'Maxthon',\n      };\n      const version = Utils.getFirstMatch(commonVersionIdentifier, ua) || Utils.getFirstMatch(/(?:Maxthon|mxios)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/epiphany/i],\n    describe(ua) {\n      const browser = {\n        name: 'Epiphany',\n      };\n      const version = Utils.getFirstMatch(commonVersionIdentifier, ua) || Utils.getFirstMatch(/(?:epiphany)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/puffin/i],\n    describe(ua) {\n      const browser = {\n        name: 'Puffin',\n      };\n      const version = Utils.getFirstMatch(commonVersionIdentifier, ua) || Utils.getFirstMatch(/(?:puffin)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/sleipnir/i],\n    describe(ua) {\n      const browser = {\n        name: 'Sleipnir',\n      };\n      const version = Utils.getFirstMatch(commonVersionIdentifier, ua) || Utils.getFirstMatch(/(?:sleipnir)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/k-meleon/i],\n    describe(ua) {\n      const browser = {\n        name: 'K-Meleon',\n      };\n      const version = Utils.getFirstMatch(commonVersionIdentifier, ua) || Utils.getFirstMatch(/(?:k-meleon)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/micromessenger/i],\n    describe(ua) {\n      const browser = {\n        name: 'WeChat',\n      };\n      const version = Utils.getFirstMatch(/(?:micromessenger)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua) || Utils.getFirstMatch(commonVersionIdentifier, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/qqbrowser/i],\n    describe(ua) {\n      const browser = {\n        name: (/qqbrowserlite/i).test(ua) ? 'QQ Browser Lite' : 'QQ Browser',\n      };\n      const version = Utils.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\\d+(\\.?_?\\d+)+)/i, ua) || Utils.getFirstMatch(commonVersionIdentifier, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/msie|trident/i],\n    describe(ua) {\n      const browser = {\n        name: 'Internet Explorer',\n      };\n      const version = Utils.getFirstMatch(/(?:msie |rv:)(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/\\sedg\\//i],\n    describe(ua) {\n      const browser = {\n        name: 'Microsoft Edge',\n      };\n\n      const version = Utils.getFirstMatch(/\\sedg\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/edg([ea]|ios)/i],\n    describe(ua) {\n      const browser = {\n        name: 'Microsoft Edge',\n      };\n\n      const version = Utils.getSecondMatch(/edg([ea]|ios)\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/vivaldi/i],\n    describe(ua) {\n      const browser = {\n        name: 'Vivaldi',\n      };\n      const version = Utils.getFirstMatch(/vivaldi\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/seamonkey/i],\n    describe(ua) {\n      const browser = {\n        name: 'SeaMonkey',\n      };\n      const version = Utils.getFirstMatch(/seamonkey\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/sailfish/i],\n    describe(ua) {\n      const browser = {\n        name: 'Sailfish',\n      };\n\n      const version = Utils.getFirstMatch(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/silk/i],\n    describe(ua) {\n      const browser = {\n        name: 'Amazon Silk',\n      };\n      const version = Utils.getFirstMatch(/silk\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/phantom/i],\n    describe(ua) {\n      const browser = {\n        name: 'PhantomJS',\n      };\n      const version = Utils.getFirstMatch(/phantomjs\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/slimerjs/i],\n    describe(ua) {\n      const browser = {\n        name: 'SlimerJS',\n      };\n      const version = Utils.getFirstMatch(/slimerjs\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/blackberry|\\bbb\\d+/i, /rim\\stablet/i],\n    describe(ua) {\n      const browser = {\n        name: 'BlackBerry',\n      };\n      const version = Utils.getFirstMatch(commonVersionIdentifier, ua) || Utils.getFirstMatch(/blackberry[\\d]+\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/(web|hpw)[o0]s/i],\n    describe(ua) {\n      const browser = {\n        name: 'WebOS Browser',\n      };\n      const version = Utils.getFirstMatch(commonVersionIdentifier, ua) || Utils.getFirstMatch(/w(?:eb)?[o0]sbrowser\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/bada/i],\n    describe(ua) {\n      const browser = {\n        name: 'Bada',\n      };\n      const version = Utils.getFirstMatch(/dolfin\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/tizen/i],\n    describe(ua) {\n      const browser = {\n        name: 'Tizen',\n      };\n      const version = Utils.getFirstMatch(/(?:tizen\\s?)?browser\\/(\\d+(\\.?_?\\d+)+)/i, ua) || Utils.getFirstMatch(commonVersionIdentifier, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/qupzilla/i],\n    describe(ua) {\n      const browser = {\n        name: 'QupZilla',\n      };\n      const version = Utils.getFirstMatch(/(?:qupzilla)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua) || Utils.getFirstMatch(commonVersionIdentifier, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/firefox|iceweasel|fxios/i],\n    describe(ua) {\n      const browser = {\n        name: 'Firefox',\n      };\n      const version = Utils.getFirstMatch(/(?:firefox|iceweasel|fxios)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/electron/i],\n    describe(ua) {\n      const browser = {\n        name: 'Electron',\n      };\n      const version = Utils.getFirstMatch(/(?:electron)\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/MiuiBrowser/i],\n    describe(ua) {\n      const browser = {\n        name: 'Miui',\n      };\n      const version = Utils.getFirstMatch(/(?:MiuiBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/chromium/i],\n    describe(ua) {\n      const browser = {\n        name: 'Chromium',\n      };\n      const version = Utils.getFirstMatch(/(?:chromium)[\\s/](\\d+(\\.?_?\\d+)+)/i, ua) || Utils.getFirstMatch(commonVersionIdentifier, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/chrome|crios|crmo/i],\n    describe(ua) {\n      const browser = {\n        name: 'Chrome',\n      };\n      const version = Utils.getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n  {\n    test: [/GSA/i],\n    describe(ua) {\n      const browser = {\n        name: 'Google Search',\n      };\n      const version = Utils.getFirstMatch(/(?:GSA)\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n\n  /* Android Browser */\n  {\n    test(parser) {\n      const notLikeAndroid = !parser.test(/like android/i);\n      const butAndroid = parser.test(/android/i);\n      return notLikeAndroid && butAndroid;\n    },\n    describe(ua) {\n      const browser = {\n        name: 'Android Browser',\n      };\n      const version = Utils.getFirstMatch(commonVersionIdentifier, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n\n  /* PlayStation 4 */\n  {\n    test: [/playstation 4/i],\n    describe(ua) {\n      const browser = {\n        name: 'PlayStation 4',\n      };\n      const version = Utils.getFirstMatch(commonVersionIdentifier, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n\n  /* Safari */\n  {\n    test: [/safari|applewebkit/i],\n    describe(ua) {\n      const browser = {\n        name: 'Safari',\n      };\n      const version = Utils.getFirstMatch(commonVersionIdentifier, ua);\n\n      if (version) {\n        browser.version = version;\n      }\n\n      return browser;\n    },\n  },\n\n  /* Something else */\n  {\n    test: [/.*/i],\n    describe(ua) {\n      /* Here we try to make sure that there are explicit details about the device\n       * in order to decide what regexp exactly we want to apply\n       * (as there is a specific decision based on that conclusion)\n       */\n      const regexpWithoutDeviceSpec = /^(.*)\\/(.*) /;\n      const regexpWithDeviceSpec = /^(.*)\\/(.*)[ \\t]\\((.*)/;\n      const hasDeviceSpec = ua.search('\\\\(') !== -1;\n      const regexp = hasDeviceSpec ? regexpWithDeviceSpec : regexpWithoutDeviceSpec;\n      return {\n        name: Utils.getFirstMatch(regexp, ua),\n        version: Utils.getSecondMatch(regexp, ua),\n      };\n    },\n  },\n];\n\nexport default browsersList;\n","import Utils from './utils.js';\nimport { OS_MAP } from './constants.js';\n\nexport default [\n  /* Roku */\n  {\n    test: [/Roku\\/DVP/],\n    describe(ua) {\n      const version = Utils.getFirstMatch(/Roku\\/DVP-(\\d+\\.\\d+)/i, ua);\n      return {\n        name: OS_MAP.Roku,\n        version,\n      };\n    },\n  },\n\n  /* Windows Phone */\n  {\n    test: [/windows phone/i],\n    describe(ua) {\n      const version = Utils.getFirstMatch(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i, ua);\n      return {\n        name: OS_MAP.WindowsPhone,\n        version,\n      };\n    },\n  },\n\n  /* Windows */\n  {\n    test: [/windows /i],\n    describe(ua) {\n      const version = Utils.getFirstMatch(/Windows ((NT|XP)( \\d\\d?.\\d)?)/i, ua);\n      const versionName = Utils.getWindowsVersionName(version);\n\n      return {\n        name: OS_MAP.Windows,\n        version,\n        versionName,\n      };\n    },\n  },\n\n  /* Firefox on iPad */\n  {\n    test: [/Macintosh(.*?) FxiOS(.*?)\\//],\n    describe(ua) {\n      const result = {\n        name: OS_MAP.iOS,\n      };\n      const version = Utils.getSecondMatch(/(Version\\/)(\\d[\\d.]+)/, ua);\n      if (version) {\n        result.version = version;\n      }\n      return result;\n    },\n  },\n\n  /* macOS */\n  {\n    test: [/macintosh/i],\n    describe(ua) {\n      const version = Utils.getFirstMatch(/mac os x (\\d+(\\.?_?\\d+)+)/i, ua).replace(/[_\\s]/g, '.');\n      const versionName = Utils.getMacOSVersionName(version);\n\n      const os = {\n        name: OS_MAP.MacOS,\n        version,\n      };\n      if (versionName) {\n        os.versionName = versionName;\n      }\n      return os;\n    },\n  },\n\n  /* iOS */\n  {\n    test: [/(ipod|iphone|ipad)/i],\n    describe(ua) {\n      const version = Utils.getFirstMatch(/os (\\d+([_\\s]\\d+)*) like mac os x/i, ua).replace(/[_\\s]/g, '.');\n\n      return {\n        name: OS_MAP.iOS,\n        version,\n      };\n    },\n  },\n\n  /* Android */\n  {\n    test(parser) {\n      const notLikeAndroid = !parser.test(/like android/i);\n      const butAndroid = parser.test(/android/i);\n      return notLikeAndroid && butAndroid;\n    },\n    describe(ua) {\n      const version = Utils.getFirstMatch(/android[\\s/-](\\d+(\\.\\d+)*)/i, ua);\n      const versionName = Utils.getAndroidVersionName(version);\n      const os = {\n        name: OS_MAP.Android,\n        version,\n      };\n      if (versionName) {\n        os.versionName = versionName;\n      }\n      return os;\n    },\n  },\n\n  /* WebOS */\n  {\n    test: [/(web|hpw)[o0]s/i],\n    describe(ua) {\n      const version = Utils.getFirstMatch(/(?:web|hpw)[o0]s\\/(\\d+(\\.\\d+)*)/i, ua);\n      const os = {\n        name: OS_MAP.WebOS,\n      };\n\n      if (version && version.length) {\n        os.version = version;\n      }\n      return os;\n    },\n  },\n\n  /* BlackBerry */\n  {\n    test: [/blackberry|\\bbb\\d+/i, /rim\\stablet/i],\n    describe(ua) {\n      const version = Utils.getFirstMatch(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i, ua)\n        || Utils.getFirstMatch(/blackberry\\d+\\/(\\d+([_\\s]\\d+)*)/i, ua)\n        || Utils.getFirstMatch(/\\bbb(\\d+)/i, ua);\n\n      return {\n        name: OS_MAP.BlackBerry,\n        version,\n      };\n    },\n  },\n\n  /* Bada */\n  {\n    test: [/bada/i],\n    describe(ua) {\n      const version = Utils.getFirstMatch(/bada\\/(\\d+(\\.\\d+)*)/i, ua);\n\n      return {\n        name: OS_MAP.Bada,\n        version,\n      };\n    },\n  },\n\n  /* Tizen */\n  {\n    test: [/tizen/i],\n    describe(ua) {\n      const version = Utils.getFirstMatch(/tizen[/\\s](\\d+(\\.\\d+)*)/i, ua);\n\n      return {\n        name: OS_MAP.Tizen,\n        version,\n      };\n    },\n  },\n\n  /* Linux */\n  {\n    test: [/linux/i],\n    describe() {\n      return {\n        name: OS_MAP.Linux,\n      };\n    },\n  },\n\n  /* Chrome OS */\n  {\n    test: [/CrOS/],\n    describe() {\n      return {\n        name: OS_MAP.ChromeOS,\n      };\n    },\n  },\n\n  /* Playstation 4 */\n  {\n    test: [/PlayStation 4/],\n    describe(ua) {\n      const version = Utils.getFirstMatch(/PlayStation 4[/\\s](\\d+(\\.\\d+)*)/i, ua);\n      return {\n        name: OS_MAP.PlayStation4,\n        version,\n      };\n    },\n  },\n];\n","import Utils from './utils.js';\nimport { PLATFORMS_MAP } from './constants.js';\n\n/*\n * Tablets go first since usually they have more specific\n * signs to detect.\n */\n\nexport default [\n  /* Googlebot */\n  {\n    test: [/googlebot/i],\n    describe() {\n      return {\n        type: 'bot',\n        vendor: 'Google',\n      };\n    },\n  },\n\n  /* Huawei */\n  {\n    test: [/huawei/i],\n    describe(ua) {\n      const model = Utils.getFirstMatch(/(can-l01)/i, ua) && 'Nova';\n      const platform = {\n        type: PLATFORMS_MAP.mobile,\n        vendor: 'Huawei',\n      };\n      if (model) {\n        platform.model = model;\n      }\n      return platform;\n    },\n  },\n\n  /* Nexus Tablet */\n  {\n    test: [/nexus\\s*(?:7|8|9|10).*/i],\n    describe() {\n      return {\n        type: PLATFORMS_MAP.tablet,\n        vendor: 'Nexus',\n      };\n    },\n  },\n\n  /* iPad */\n  {\n    test: [/ipad/i],\n    describe() {\n      return {\n        type: PLATFORMS_MAP.tablet,\n        vendor: 'Apple',\n        model: 'iPad',\n      };\n    },\n  },\n\n  /* Firefox on iPad */\n  {\n    test: [/Macintosh(.*?) FxiOS(.*?)\\//],\n    describe() {\n      return {\n        type: PLATFORMS_MAP.tablet,\n        vendor: 'Apple',\n        model: 'iPad',\n      };\n    },\n  },\n\n  /* Amazon Kindle Fire */\n  {\n    test: [/kftt build/i],\n    describe() {\n      return {\n        type: PLATFORMS_MAP.tablet,\n        vendor: 'Amazon',\n        model: 'Kindle Fire HD 7',\n      };\n    },\n  },\n\n  /* Another Amazon Tablet with Silk */\n  {\n    test: [/silk/i],\n    describe() {\n      return {\n        type: PLATFORMS_MAP.tablet,\n        vendor: 'Amazon',\n      };\n    },\n  },\n\n  /* Tablet */\n  {\n    test: [/tablet(?! pc)/i],\n    describe() {\n      return {\n        type: PLATFORMS_MAP.tablet,\n      };\n    },\n  },\n\n  /* iPod/iPhone */\n  {\n    test(parser) {\n      const iDevice = parser.test(/ipod|iphone/i);\n      const likeIDevice = parser.test(/like (ipod|iphone)/i);\n      return iDevice && !likeIDevice;\n    },\n    describe(ua) {\n      const model = Utils.getFirstMatch(/(ipod|iphone)/i, ua);\n      return {\n        type: PLATFORMS_MAP.mobile,\n        vendor: 'Apple',\n        model,\n      };\n    },\n  },\n\n  /* Nexus Mobile */\n  {\n    test: [/nexus\\s*[0-6].*/i, /galaxy nexus/i],\n    describe() {\n      return {\n        type: PLATFORMS_MAP.mobile,\n        vendor: 'Nexus',\n      };\n    },\n  },\n\n  /* Mobile */\n  {\n    test: [/[^-]mobi/i],\n    describe() {\n      return {\n        type: PLATFORMS_MAP.mobile,\n      };\n    },\n  },\n\n  /* BlackBerry */\n  {\n    test(parser) {\n      return parser.getBrowserName(true) === 'blackberry';\n    },\n    describe() {\n      return {\n        type: PLATFORMS_MAP.mobile,\n        vendor: 'BlackBerry',\n      };\n    },\n  },\n\n  /* Bada */\n  {\n    test(parser) {\n      return parser.getBrowserName(true) === 'bada';\n    },\n    describe() {\n      return {\n        type: PLATFORMS_MAP.mobile,\n      };\n    },\n  },\n\n  /* Windows Phone */\n  {\n    test(parser) {\n      return parser.getBrowserName() === 'windows phone';\n    },\n    describe() {\n      return {\n        type: PLATFORMS_MAP.mobile,\n        vendor: 'Microsoft',\n      };\n    },\n  },\n\n  /* Android Tablet */\n  {\n    test(parser) {\n      const osMajorVersion = Number(String(parser.getOSVersion()).split('.')[0]);\n      return parser.getOSName(true) === 'android' && (osMajorVersion >= 3);\n    },\n    describe() {\n      return {\n        type: PLATFORMS_MAP.tablet,\n      };\n    },\n  },\n\n  /* Android Mobile */\n  {\n    test(parser) {\n      return parser.getOSName(true) === 'android';\n    },\n    describe() {\n      return {\n        type: PLATFORMS_MAP.mobile,\n      };\n    },\n  },\n\n  /* desktop */\n  {\n    test(parser) {\n      return parser.getOSName(true) === 'macos';\n    },\n    describe() {\n      return {\n        type: PLATFORMS_MAP.desktop,\n        vendor: 'Apple',\n      };\n    },\n  },\n\n  /* Windows */\n  {\n    test(parser) {\n      return parser.getOSName(true) === 'windows';\n    },\n    describe() {\n      return {\n        type: PLATFORMS_MAP.desktop,\n      };\n    },\n  },\n\n  /* Linux */\n  {\n    test(parser) {\n      return parser.getOSName(true) === 'linux';\n    },\n    describe() {\n      return {\n        type: PLATFORMS_MAP.desktop,\n      };\n    },\n  },\n\n  /* PlayStation 4 */\n  {\n    test(parser) {\n      return parser.getOSName(true) === 'playstation 4';\n    },\n    describe() {\n      return {\n        type: PLATFORMS_MAP.tv,\n      };\n    },\n  },\n\n  /* Roku */\n  {\n    test(parser) {\n      return parser.getOSName(true) === 'roku';\n    },\n    describe() {\n      return {\n        type: PLATFORMS_MAP.tv,\n      };\n    },\n  },\n];\n","import Utils from './utils.js';\nimport { ENGINE_MAP } from './constants.js';\n\n/*\n * More specific goes first\n */\nexport default [\n  /* EdgeHTML */\n  {\n    test(parser) {\n      return parser.getBrowserName(true) === 'microsoft edge';\n    },\n    describe(ua) {\n      const isBlinkBased = /\\sedg\\//i.test(ua);\n\n      // return blink if it's blink-based one\n      if (isBlinkBased) {\n        return {\n          name: ENGINE_MAP.Blink,\n        };\n      }\n\n      // otherwise match the version and return EdgeHTML\n      const version = Utils.getFirstMatch(/edge\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      return {\n        name: ENGINE_MAP.EdgeHTML,\n        version,\n      };\n    },\n  },\n\n  /* Trident */\n  {\n    test: [/trident/i],\n    describe(ua) {\n      const engine = {\n        name: ENGINE_MAP.Trident,\n      };\n\n      const version = Utils.getFirstMatch(/trident\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        engine.version = version;\n      }\n\n      return engine;\n    },\n  },\n\n  /* Presto */\n  {\n    test(parser) {\n      return parser.test(/presto/i);\n    },\n    describe(ua) {\n      const engine = {\n        name: ENGINE_MAP.Presto,\n      };\n\n      const version = Utils.getFirstMatch(/presto\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        engine.version = version;\n      }\n\n      return engine;\n    },\n  },\n\n  /* Gecko */\n  {\n    test(parser) {\n      const isGecko = parser.test(/gecko/i);\n      const likeGecko = parser.test(/like gecko/i);\n      return isGecko && !likeGecko;\n    },\n    describe(ua) {\n      const engine = {\n        name: ENGINE_MAP.Gecko,\n      };\n\n      const version = Utils.getFirstMatch(/gecko\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        engine.version = version;\n      }\n\n      return engine;\n    },\n  },\n\n  /* Blink */\n  {\n    test: [/(apple)?webkit\\/537\\.36/i],\n    describe() {\n      return {\n        name: ENGINE_MAP.Blink,\n      };\n    },\n  },\n\n  /* WebKit */\n  {\n    test: [/(apple)?webkit/i],\n    describe(ua) {\n      const engine = {\n        name: ENGINE_MAP.WebKit,\n      };\n\n      const version = Utils.getFirstMatch(/webkit\\/(\\d+(\\.?_?\\d+)+)/i, ua);\n\n      if (version) {\n        engine.version = version;\n      }\n\n      return engine;\n    },\n  },\n];\n","import browserParsersList from './parser-browsers.js';\nimport osParsersList from './parser-os.js';\nimport platformParsersList from './parser-platforms.js';\nimport enginesParsersList from './parser-engines.js';\nimport Utils from './utils.js';\n\n/**\n * The main class that arranges the whole parsing process.\n */\nclass Parser {\n  /**\n   * Create instance of Parser\n   *\n   * @param {String} UA User-Agent string\n   * @param {Boolean} [skipParsing=false] parser can skip parsing in purpose of performance\n   * improvements if you need to make a more particular parsing\n   * like {@link Parser#parseBrowser} or {@link Parser#parsePlatform}\n   *\n   * @throw {Error} in case of empty UA String\n   *\n   * @constructor\n   */\n  constructor(UA, skipParsing = false) {\n    if (UA === void (0) || UA === null || UA === '') {\n      throw new Error(\"UserAgent parameter can't be empty\");\n    }\n\n    this._ua = UA;\n\n    /**\n     * @typedef ParsedResult\n     * @property {Object} browser\n     * @property {String|undefined} [browser.name]\n     * Browser name, like `\"Chrome\"` or `\"Internet Explorer\"`\n     * @property {String|undefined} [browser.version] Browser version as a String `\"12.01.45334.10\"`\n     * @property {Object} os\n     * @property {String|undefined} [os.name] OS name, like `\"Windows\"` or `\"macOS\"`\n     * @property {String|undefined} [os.version] OS version, like `\"NT 5.1\"` or `\"10.11.1\"`\n     * @property {String|undefined} [os.versionName] OS name, like `\"XP\"` or `\"High Sierra\"`\n     * @property {Object} platform\n     * @property {String|undefined} [platform.type]\n     * platform type, can be either `\"desktop\"`, `\"tablet\"` or `\"mobile\"`\n     * @property {String|undefined} [platform.vendor] Vendor of the device,\n     * like `\"Apple\"` or `\"Samsung\"`\n     * @property {String|undefined} [platform.model] Device model,\n     * like `\"iPhone\"` or `\"Kindle Fire HD 7\"`\n     * @property {Object} engine\n     * @property {String|undefined} [engine.name]\n     * Can be any of this: `WebKit`, `Blink`, `Gecko`, `Trident`, `Presto`, `EdgeHTML`\n     * @property {String|undefined} [engine.version] String version of the engine\n     */\n    this.parsedResult = {};\n\n    if (skipParsing !== true) {\n      this.parse();\n    }\n  }\n\n  /**\n   * Get UserAgent string of current Parser instance\n   * @return {String} User-Agent String of the current <Parser> object\n   *\n   * @public\n   */\n  getUA() {\n    return this._ua;\n  }\n\n  /**\n   * Test a UA string for a regexp\n   * @param {RegExp} regex\n   * @return {Boolean}\n   */\n  test(regex) {\n    return regex.test(this._ua);\n  }\n\n  /**\n   * Get parsed browser object\n   * @return {Object}\n   */\n  parseBrowser() {\n    this.parsedResult.browser = {};\n\n    const browserDescriptor = Utils.find(browserParsersList, (_browser) => {\n      if (typeof _browser.test === 'function') {\n        return _browser.test(this);\n      }\n\n      if (_browser.test instanceof Array) {\n        return _browser.test.some(condition => this.test(condition));\n      }\n\n      throw new Error(\"Browser's test function is not valid\");\n    });\n\n    if (browserDescriptor) {\n      this.parsedResult.browser = browserDescriptor.describe(this.getUA());\n    }\n\n    return this.parsedResult.browser;\n  }\n\n  /**\n   * Get parsed browser object\n   * @return {Object}\n   *\n   * @public\n   */\n  getBrowser() {\n    if (this.parsedResult.browser) {\n      return this.parsedResult.browser;\n    }\n\n    return this.parseBrowser();\n  }\n\n  /**\n   * Get browser's name\n   * @return {String} Browser's name or an empty string\n   *\n   * @public\n   */\n  getBrowserName(toLowerCase) {\n    if (toLowerCase) {\n      return String(this.getBrowser().name).toLowerCase() || '';\n    }\n    return this.getBrowser().name || '';\n  }\n\n\n  /**\n   * Get browser's version\n   * @return {String} version of browser\n   *\n   * @public\n   */\n  getBrowserVersion() {\n    return this.getBrowser().version;\n  }\n\n  /**\n   * Get OS\n   * @return {Object}\n   *\n   * @example\n   * this.getOS();\n   * {\n   *   name: 'macOS',\n   *   version: '10.11.12'\n   * }\n   */\n  getOS() {\n    if (this.parsedResult.os) {\n      return this.parsedResult.os;\n    }\n\n    return this.parseOS();\n  }\n\n  /**\n   * Parse OS and save it to this.parsedResult.os\n   * @return {*|{}}\n   */\n  parseOS() {\n    this.parsedResult.os = {};\n\n    const os = Utils.find(osParsersList, (_os) => {\n      if (typeof _os.test === 'function') {\n        return _os.test(this);\n      }\n\n      if (_os.test instanceof Array) {\n        return _os.test.some(condition => this.test(condition));\n      }\n\n      throw new Error(\"Browser's test function is not valid\");\n    });\n\n    if (os) {\n      this.parsedResult.os = os.describe(this.getUA());\n    }\n\n    return this.parsedResult.os;\n  }\n\n  /**\n   * Get OS name\n   * @param {Boolean} [toLowerCase] return lower-cased value\n   * @return {String} name of the OS — macOS, Windows, Linux, etc.\n   */\n  getOSName(toLowerCase) {\n    const { name } = this.getOS();\n\n    if (toLowerCase) {\n      return String(name).toLowerCase() || '';\n    }\n\n    return name || '';\n  }\n\n  /**\n   * Get OS version\n   * @return {String} full version with dots ('10.11.12', '5.6', etc)\n   */\n  getOSVersion() {\n    return this.getOS().version;\n  }\n\n  /**\n   * Get parsed platform\n   * @return {{}}\n   */\n  getPlatform() {\n    if (this.parsedResult.platform) {\n      return this.parsedResult.platform;\n    }\n\n    return this.parsePlatform();\n  }\n\n  /**\n   * Get platform name\n   * @param {Boolean} [toLowerCase=false]\n   * @return {*}\n   */\n  getPlatformType(toLowerCase = false) {\n    const { type } = this.getPlatform();\n\n    if (toLowerCase) {\n      return String(type).toLowerCase() || '';\n    }\n\n    return type || '';\n  }\n\n  /**\n   * Get parsed platform\n   * @return {{}}\n   */\n  parsePlatform() {\n    this.parsedResult.platform = {};\n\n    const platform = Utils.find(platformParsersList, (_platform) => {\n      if (typeof _platform.test === 'function') {\n        return _platform.test(this);\n      }\n\n      if (_platform.test instanceof Array) {\n        return _platform.test.some(condition => this.test(condition));\n      }\n\n      throw new Error(\"Browser's test function is not valid\");\n    });\n\n    if (platform) {\n      this.parsedResult.platform = platform.describe(this.getUA());\n    }\n\n    return this.parsedResult.platform;\n  }\n\n  /**\n   * Get parsed engine\n   * @return {{}}\n   */\n  getEngine() {\n    if (this.parsedResult.engine) {\n      return this.parsedResult.engine;\n    }\n\n    return this.parseEngine();\n  }\n\n  /**\n   * Get engines's name\n   * @return {String} Engines's name or an empty string\n   *\n   * @public\n   */\n  getEngineName(toLowerCase) {\n    if (toLowerCase) {\n      return String(this.getEngine().name).toLowerCase() || '';\n    }\n    return this.getEngine().name || '';\n  }\n\n  /**\n   * Get parsed platform\n   * @return {{}}\n   */\n  parseEngine() {\n    this.parsedResult.engine = {};\n\n    const engine = Utils.find(enginesParsersList, (_engine) => {\n      if (typeof _engine.test === 'function') {\n        return _engine.test(this);\n      }\n\n      if (_engine.test instanceof Array) {\n        return _engine.test.some(condition => this.test(condition));\n      }\n\n      throw new Error(\"Browser's test function is not valid\");\n    });\n\n    if (engine) {\n      this.parsedResult.engine = engine.describe(this.getUA());\n    }\n\n    return this.parsedResult.engine;\n  }\n\n  /**\n   * Parse full information about the browser\n   * @returns {Parser}\n   */\n  parse() {\n    this.parseBrowser();\n    this.parseOS();\n    this.parsePlatform();\n    this.parseEngine();\n\n    return this;\n  }\n\n  /**\n   * Get parsed result\n   * @return {ParsedResult}\n   */\n  getResult() {\n    return Utils.assign({}, this.parsedResult);\n  }\n\n  /**\n   * Check if parsed browser matches certain conditions\n   *\n   * @param {Object} checkTree It's one or two layered object,\n   * which can include a platform or an OS on the first layer\n   * and should have browsers specs on the bottom-laying layer\n   *\n   * @returns {Boolean|undefined} Whether the browser satisfies the set conditions or not.\n   * Returns `undefined` when the browser is no described in the checkTree object.\n   *\n   * @example\n   * const browser = Bowser.getParser(window.navigator.userAgent);\n   * if (browser.satisfies({chrome: '>118.01.1322' }))\n   * // or with os\n   * if (browser.satisfies({windows: { chrome: '>118.01.1322' } }))\n   * // or with platforms\n   * if (browser.satisfies({desktop: { chrome: '>118.01.1322' } }))\n   */\n  satisfies(checkTree) {\n    const platformsAndOSes = {};\n    let platformsAndOSCounter = 0;\n    const browsers = {};\n    let browsersCounter = 0;\n\n    const allDefinitions = Object.keys(checkTree);\n\n    allDefinitions.forEach((key) => {\n      const currentDefinition = checkTree[key];\n      if (typeof currentDefinition === 'string') {\n        browsers[key] = currentDefinition;\n        browsersCounter += 1;\n      } else if (typeof currentDefinition === 'object') {\n        platformsAndOSes[key] = currentDefinition;\n        platformsAndOSCounter += 1;\n      }\n    });\n\n    if (platformsAndOSCounter > 0) {\n      const platformsAndOSNames = Object.keys(platformsAndOSes);\n      const OSMatchingDefinition = Utils.find(platformsAndOSNames, name => (this.isOS(name)));\n\n      if (OSMatchingDefinition) {\n        const osResult = this.satisfies(platformsAndOSes[OSMatchingDefinition]);\n\n        if (osResult !== void 0) {\n          return osResult;\n        }\n      }\n\n      const platformMatchingDefinition = Utils.find(\n        platformsAndOSNames,\n        name => (this.isPlatform(name)),\n      );\n      if (platformMatchingDefinition) {\n        const platformResult = this.satisfies(platformsAndOSes[platformMatchingDefinition]);\n\n        if (platformResult !== void 0) {\n          return platformResult;\n        }\n      }\n    }\n\n    if (browsersCounter > 0) {\n      const browserNames = Object.keys(browsers);\n      const matchingDefinition = Utils.find(browserNames, name => (this.isBrowser(name, true)));\n\n      if (matchingDefinition !== void 0) {\n        return this.compareVersion(browsers[matchingDefinition]);\n      }\n    }\n\n    return undefined;\n  }\n\n  /**\n   * Check if the browser name equals the passed string\n   * @param browserName The string to compare with the browser name\n   * @param [includingAlias=false] The flag showing whether alias will be included into comparison\n   * @returns {boolean}\n   */\n  isBrowser(browserName, includingAlias = false) {\n    const defaultBrowserName = this.getBrowserName().toLowerCase();\n    let browserNameLower = browserName.toLowerCase();\n    const alias = Utils.getBrowserTypeByAlias(browserNameLower);\n\n    if (includingAlias && alias) {\n      browserNameLower = alias.toLowerCase();\n    }\n    return browserNameLower === defaultBrowserName;\n  }\n\n  compareVersion(version) {\n    let expectedResults = [0];\n    let comparableVersion = version;\n    let isLoose = false;\n\n    const currentBrowserVersion = this.getBrowserVersion();\n\n    if (typeof currentBrowserVersion !== 'string') {\n      return void 0;\n    }\n\n    if (version[0] === '>' || version[0] === '<') {\n      comparableVersion = version.substr(1);\n      if (version[1] === '=') {\n        isLoose = true;\n        comparableVersion = version.substr(2);\n      } else {\n        expectedResults = [];\n      }\n      if (version[0] === '>') {\n        expectedResults.push(1);\n      } else {\n        expectedResults.push(-1);\n      }\n    } else if (version[0] === '=') {\n      comparableVersion = version.substr(1);\n    } else if (version[0] === '~') {\n      isLoose = true;\n      comparableVersion = version.substr(1);\n    }\n\n    return expectedResults.indexOf(\n      Utils.compareVersions(currentBrowserVersion, comparableVersion, isLoose),\n    ) > -1;\n  }\n\n  isOS(osName) {\n    return this.getOSName(true) === String(osName).toLowerCase();\n  }\n\n  isPlatform(platformType) {\n    return this.getPlatformType(true) === String(platformType).toLowerCase();\n  }\n\n  isEngine(engineName) {\n    return this.getEngineName(true) === String(engineName).toLowerCase();\n  }\n\n  /**\n   * Is anything? Check if the browser is called \"anything\",\n   * the OS called \"anything\" or the platform called \"anything\"\n   * @param {String} anything\n   * @param [includingAlias=false] The flag showing whether alias will be included into comparison\n   * @returns {Boolean}\n   */\n  is(anything, includingAlias = false) {\n    return this.isBrowser(anything, includingAlias) || this.isOS(anything)\n      || this.isPlatform(anything);\n  }\n\n  /**\n   * Check if any of the given values satisfies this.is(anything)\n   * @param {String[]} anythings\n   * @returns {Boolean}\n   */\n  some(anythings = []) {\n    return anythings.some(anything => this.is(anything));\n  }\n}\n\nexport default Parser;\n","/*!\n * Bowser - a browser detector\n * https://github.com/lancedikson/bowser\n * MIT License | (c) Dustin Diaz 2012-2015\n * MIT License | (c) Denis Demchenko 2015-2019\n */\nimport Parser from './parser.js';\nimport {\n  BROWSER_MAP,\n  ENGINE_MAP,\n  OS_MAP,\n  PLATFORMS_MAP,\n} from './constants.js';\n\n/**\n * Bowser class.\n * Keep it simple as much as it can be.\n * It's supposed to work with collections of {@link Parser} instances\n * rather then solve one-instance problems.\n * All the one-instance stuff is located in Parser class.\n *\n * @class\n * @classdesc Bowser is a static object, that provides an API to the Parsers\n * @hideconstructor\n */\nclass Bowser {\n  /**\n   * Creates a {@link Parser} instance\n   *\n   * @param {String} UA UserAgent string\n   * @param {Boolean} [skipParsing=false] Will make the Parser postpone parsing until you ask it\n   * explicitly. Same as `skipParsing` for {@link Parser}.\n   * @returns {Parser}\n   * @throws {Error} when UA is not a String\n   *\n   * @example\n   * const parser = Bowser.getParser(window.navigator.userAgent);\n   * const result = parser.getResult();\n   */\n  static getParser(UA, skipParsing = false) {\n    if (typeof UA !== 'string') {\n      throw new Error('UserAgent should be a string');\n    }\n    return new Parser(UA, skipParsing);\n  }\n\n  /**\n   * Creates a {@link Parser} instance and runs {@link Parser.getResult} immediately\n   *\n   * @param UA\n   * @return {ParsedResult}\n   *\n   * @example\n   * const result = Bowser.parse(window.navigator.userAgent);\n   */\n  static parse(UA) {\n    return (new Parser(UA)).getResult();\n  }\n\n  static get BROWSER_MAP() {\n    return BROWSER_MAP;\n  }\n\n  static get ENGINE_MAP() {\n    return ENGINE_MAP;\n  }\n\n  static get OS_MAP() {\n    return OS_MAP;\n  }\n\n  static get PLATFORMS_MAP() {\n    return PLATFORMS_MAP;\n  }\n}\n\nexport default Bowser;\n",null,null,null,null,"\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\nvar inited = false;\nfunction init () {\n  inited = true;\n  var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\n  for (var i = 0, len = code.length; i < len; ++i) {\n    lookup[i] = code[i]\n    revLookup[code.charCodeAt(i)] = i\n  }\n\n  revLookup['-'.charCodeAt(0)] = 62\n  revLookup['_'.charCodeAt(0)] = 63\n}\n\nexport function toByteArray (b64) {\n  if (!inited) {\n    init();\n  }\n  var i, j, l, tmp, placeHolders, arr\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  placeHolders = b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n\n  // base64 is 4/3 + up to two characters of the original data\n  arr = new Arr(len * 3 / 4 - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0, j = 0; i < l; i += 4, j += 3) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nexport function fromByteArray (uint8) {\n  if (!inited) {\n    init();\n  }\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n","\nexport function read (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexport function write (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nexport default Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n\nimport * as base64 from './base64'\nimport * as ieee754 from './ieee754'\nimport isArray from './isArray'\n\nexport var INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : true\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nvar _kMaxLength = kMaxLength()\nexport {_kMaxLength as kMaxLength};\nfunction typedArraySupport () {\n  return true;\n  // rollup issues\n  // try {\n  //   var arr = new Uint8Array(1)\n  //   arr.__proto__ = {\n  //     __proto__: Uint8Array.prototype,\n  //     foo: function () { return 42 }\n  //   }\n  //   return arr.foo() === 42 && // typed array instances can be augmented\n  //       typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n  //       arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  // } catch (e) {\n  //   return false\n  // }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nexport function Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    // Object.defineProperty(Buffer, Symbol.species, {\n    //   value: null,\n    //   configurable: true\n    // })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (internalIsBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nexport function SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\nBuffer.isBuffer = isBuffer;\nfunction internalIsBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!internalIsBuffer(a) || !internalIsBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!internalIsBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (internalIsBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!internalIsBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!internalIsBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (internalIsBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!internalIsBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = internalIsBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n// the following is from is-buffer, also by Feross Aboukhadijeh and with same lisence\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nexport function isBuffer(obj) {\n  return obj != null && (!!obj._isBuffer || isFastBuffer(obj) || isSlowBuffer(obj))\n}\n\nfunction isFastBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isFastBuffer(obj.slice(0, 0))\n}\n","!function(root, factory) {\n    \"object\" == typeof exports && \"object\" == typeof module ? module.exports = factory() : \"function\" == typeof define && define.amd ? define(\"zoid\", [], factory) : \"object\" == typeof exports ? exports.zoid = factory() : root.zoid = factory();\n}(\"undefined\" != typeof self ? self : this, (function() {\n    return function(modules) {\n        var installedModules = {};\n        function __webpack_require__(moduleId) {\n            if (installedModules[moduleId]) return installedModules[moduleId].exports;\n            var module = installedModules[moduleId] = {\n                i: moduleId,\n                l: !1,\n                exports: {}\n            };\n            modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n            module.l = !0;\n            return module.exports;\n        }\n        __webpack_require__.m = modules;\n        __webpack_require__.c = installedModules;\n        __webpack_require__.d = function(exports, name, getter) {\n            __webpack_require__.o(exports, name) || Object.defineProperty(exports, name, {\n                enumerable: !0,\n                get: getter\n            });\n        };\n        __webpack_require__.r = function(exports) {\n            \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(exports, Symbol.toStringTag, {\n                value: \"Module\"\n            });\n            Object.defineProperty(exports, \"__esModule\", {\n                value: !0\n            });\n        };\n        __webpack_require__.t = function(value, mode) {\n            1 & mode && (value = __webpack_require__(value));\n            if (8 & mode) return value;\n            if (4 & mode && \"object\" == typeof value && value && value.__esModule) return value;\n            var ns = Object.create(null);\n            __webpack_require__.r(ns);\n            Object.defineProperty(ns, \"default\", {\n                enumerable: !0,\n                value: value\n            });\n            if (2 & mode && \"string\" != typeof value) for (var key in value) __webpack_require__.d(ns, key, function(key) {\n                return value[key];\n            }.bind(null, key));\n            return ns;\n        };\n        __webpack_require__.n = function(module) {\n            var getter = module && module.__esModule ? function() {\n                return module.default;\n            } : function() {\n                return module;\n            };\n            __webpack_require__.d(getter, \"a\", getter);\n            return getter;\n        };\n        __webpack_require__.o = function(object, property) {\n            return {}.hasOwnProperty.call(object, property);\n        };\n        __webpack_require__.p = \"\";\n        return __webpack_require__(__webpack_require__.s = 0);\n    }([ function(module, __webpack_exports__, __webpack_require__) {\n        \"use strict\";\n        __webpack_require__.r(__webpack_exports__);\n        __webpack_require__.d(__webpack_exports__, \"PopupOpenError\", (function() {\n            return dom_PopupOpenError;\n        }));\n        __webpack_require__.d(__webpack_exports__, \"create\", (function() {\n            return component_create;\n        }));\n        __webpack_require__.d(__webpack_exports__, \"destroy\", (function() {\n            return component_destroy;\n        }));\n        __webpack_require__.d(__webpack_exports__, \"destroyComponents\", (function() {\n            return destroyComponents;\n        }));\n        __webpack_require__.d(__webpack_exports__, \"destroyAll\", (function() {\n            return destroyAll;\n        }));\n        __webpack_require__.d(__webpack_exports__, \"PROP_TYPE\", (function() {\n            return PROP_TYPE;\n        }));\n        __webpack_require__.d(__webpack_exports__, \"PROP_SERIALIZATION\", (function() {\n            return PROP_SERIALIZATION;\n        }));\n        __webpack_require__.d(__webpack_exports__, \"CONTEXT\", (function() {\n            return CONTEXT;\n        }));\n        __webpack_require__.d(__webpack_exports__, \"EVENT\", (function() {\n            return EVENT;\n        }));\n        function _setPrototypeOf(o, p) {\n            return (_setPrototypeOf = Object.setPrototypeOf || function(o, p) {\n                o.__proto__ = p;\n                return o;\n            })(o, p);\n        }\n        function _inheritsLoose(subClass, superClass) {\n            subClass.prototype = Object.create(superClass.prototype);\n            subClass.prototype.constructor = subClass;\n            _setPrototypeOf(subClass, superClass);\n        }\n        function _extends() {\n            return (_extends = Object.assign || function(target) {\n                for (var i = 1; i < arguments.length; i++) {\n                    var source = arguments[i];\n                    for (var key in source) ({}).hasOwnProperty.call(source, key) && (target[key] = source[key]);\n                }\n                return target;\n            }).apply(this, arguments);\n        }\n        function utils_isPromise(item) {\n            try {\n                if (!item) return !1;\n                if (\"undefined\" != typeof Promise && item instanceof Promise) return !0;\n                if (\"undefined\" != typeof window && \"function\" == typeof window.Window && item instanceof window.Window) return !1;\n                if (\"undefined\" != typeof window && \"function\" == typeof window.constructor && item instanceof window.constructor) return !1;\n                var _toString = {}.toString;\n                if (_toString) {\n                    var name = _toString.call(item);\n                    if (\"[object Window]\" === name || \"[object global]\" === name || \"[object DOMWindow]\" === name) return !1;\n                }\n                if (\"function\" == typeof item.then) return !0;\n            } catch (err) {\n                return !1;\n            }\n            return !1;\n        }\n        var dispatchedErrors = [];\n        var possiblyUnhandledPromiseHandlers = [];\n        var activeCount = 0;\n        var flushPromise;\n        function flushActive() {\n            if (!activeCount && flushPromise) {\n                var promise = flushPromise;\n                flushPromise = null;\n                promise.resolve();\n            }\n        }\n        function startActive() {\n            activeCount += 1;\n        }\n        function endActive() {\n            activeCount -= 1;\n            flushActive();\n        }\n        var promise_ZalgoPromise = function() {\n            function ZalgoPromise(handler) {\n                var _this = this;\n                this.resolved = void 0;\n                this.rejected = void 0;\n                this.errorHandled = void 0;\n                this.value = void 0;\n                this.error = void 0;\n                this.handlers = void 0;\n                this.dispatching = void 0;\n                this.stack = void 0;\n                this.resolved = !1;\n                this.rejected = !1;\n                this.errorHandled = !1;\n                this.handlers = [];\n                if (handler) {\n                    var _result;\n                    var _error;\n                    var resolved = !1;\n                    var rejected = !1;\n                    var isAsync = !1;\n                    startActive();\n                    try {\n                        handler((function(res) {\n                            if (isAsync) _this.resolve(res); else {\n                                resolved = !0;\n                                _result = res;\n                            }\n                        }), (function(err) {\n                            if (isAsync) _this.reject(err); else {\n                                rejected = !0;\n                                _error = err;\n                            }\n                        }));\n                    } catch (err) {\n                        endActive();\n                        this.reject(err);\n                        return;\n                    }\n                    endActive();\n                    isAsync = !0;\n                    resolved ? this.resolve(_result) : rejected && this.reject(_error);\n                }\n            }\n            var _proto = ZalgoPromise.prototype;\n            _proto.resolve = function(result) {\n                if (this.resolved || this.rejected) return this;\n                if (utils_isPromise(result)) throw new Error(\"Can not resolve promise with another promise\");\n                this.resolved = !0;\n                this.value = result;\n                this.dispatch();\n                return this;\n            };\n            _proto.reject = function(error) {\n                var _this2 = this;\n                if (this.resolved || this.rejected) return this;\n                if (utils_isPromise(error)) throw new Error(\"Can not reject promise with another promise\");\n                if (!error) {\n                    var _err = error && \"function\" == typeof error.toString ? error.toString() : {}.toString.call(error);\n                    error = new Error(\"Expected reject to be called with Error, got \" + _err);\n                }\n                this.rejected = !0;\n                this.error = error;\n                this.errorHandled || setTimeout((function() {\n                    _this2.errorHandled || function(err, promise) {\n                        if (-1 === dispatchedErrors.indexOf(err)) {\n                            dispatchedErrors.push(err);\n                            setTimeout((function() {\n                                throw err;\n                            }), 1);\n                            for (var j = 0; j < possiblyUnhandledPromiseHandlers.length; j++) possiblyUnhandledPromiseHandlers[j](err, promise);\n                        }\n                    }(error, _this2);\n                }), 1);\n                this.dispatch();\n                return this;\n            };\n            _proto.asyncReject = function(error) {\n                this.errorHandled = !0;\n                this.reject(error);\n                return this;\n            };\n            _proto.dispatch = function() {\n                var resolved = this.resolved, rejected = this.rejected, handlers = this.handlers;\n                if (!this.dispatching && (resolved || rejected)) {\n                    this.dispatching = !0;\n                    startActive();\n                    var chain = function(firstPromise, secondPromise) {\n                        return firstPromise.then((function(res) {\n                            secondPromise.resolve(res);\n                        }), (function(err) {\n                            secondPromise.reject(err);\n                        }));\n                    };\n                    for (var i = 0; i < handlers.length; i++) {\n                        var _handlers$i = handlers[i], onSuccess = _handlers$i.onSuccess, onError = _handlers$i.onError, promise = _handlers$i.promise;\n                        var _result2 = void 0;\n                        if (resolved) try {\n                            _result2 = onSuccess ? onSuccess(this.value) : this.value;\n                        } catch (err) {\n                            promise.reject(err);\n                            continue;\n                        } else if (rejected) {\n                            if (!onError) {\n                                promise.reject(this.error);\n                                continue;\n                            }\n                            try {\n                                _result2 = onError(this.error);\n                            } catch (err) {\n                                promise.reject(err);\n                                continue;\n                            }\n                        }\n                        if (_result2 instanceof ZalgoPromise && (_result2.resolved || _result2.rejected)) {\n                            var promiseResult = _result2;\n                            promiseResult.resolved ? promise.resolve(promiseResult.value) : promise.reject(promiseResult.error);\n                            promiseResult.errorHandled = !0;\n                        } else utils_isPromise(_result2) ? _result2 instanceof ZalgoPromise && (_result2.resolved || _result2.rejected) ? _result2.resolved ? promise.resolve(_result2.value) : promise.reject(_result2.error) : chain(_result2, promise) : promise.resolve(_result2);\n                    }\n                    handlers.length = 0;\n                    this.dispatching = !1;\n                    endActive();\n                }\n            };\n            _proto.then = function(onSuccess, onError) {\n                if (onSuccess && \"function\" != typeof onSuccess && !onSuccess.call) throw new Error(\"Promise.then expected a function for success handler\");\n                if (onError && \"function\" != typeof onError && !onError.call) throw new Error(\"Promise.then expected a function for error handler\");\n                var promise = new ZalgoPromise;\n                this.handlers.push({\n                    promise: promise,\n                    onSuccess: onSuccess,\n                    onError: onError\n                });\n                this.errorHandled = !0;\n                this.dispatch();\n                return promise;\n            };\n            _proto.catch = function(onError) {\n                return this.then(void 0, onError);\n            };\n            _proto.finally = function(onFinally) {\n                if (onFinally && \"function\" != typeof onFinally && !onFinally.call) throw new Error(\"Promise.finally expected a function\");\n                return this.then((function(result) {\n                    return ZalgoPromise.try(onFinally).then((function() {\n                        return result;\n                    }));\n                }), (function(err) {\n                    return ZalgoPromise.try(onFinally).then((function() {\n                        throw err;\n                    }));\n                }));\n            };\n            _proto.timeout = function(time, err) {\n                var _this3 = this;\n                if (this.resolved || this.rejected) return this;\n                var timeout = setTimeout((function() {\n                    _this3.resolved || _this3.rejected || _this3.reject(err || new Error(\"Promise timed out after \" + time + \"ms\"));\n                }), time);\n                return this.then((function(result) {\n                    clearTimeout(timeout);\n                    return result;\n                }));\n            };\n            _proto.toPromise = function() {\n                if (\"undefined\" == typeof Promise) throw new TypeError(\"Could not find Promise\");\n                return Promise.resolve(this);\n            };\n            _proto.lazy = function() {\n                this.errorHandled = !0;\n                return this;\n            };\n            ZalgoPromise.resolve = function(value) {\n                return value instanceof ZalgoPromise ? value : utils_isPromise(value) ? new ZalgoPromise((function(resolve, reject) {\n                    return value.then(resolve, reject);\n                })) : (new ZalgoPromise).resolve(value);\n            };\n            ZalgoPromise.reject = function(error) {\n                return (new ZalgoPromise).reject(error);\n            };\n            ZalgoPromise.asyncReject = function(error) {\n                return (new ZalgoPromise).asyncReject(error);\n            };\n            ZalgoPromise.all = function(promises) {\n                var promise = new ZalgoPromise;\n                var count = promises.length;\n                var results = [].slice();\n                if (!count) {\n                    promise.resolve(results);\n                    return promise;\n                }\n                var chain = function(i, firstPromise, secondPromise) {\n                    return firstPromise.then((function(res) {\n                        results[i] = res;\n                        0 == (count -= 1) && promise.resolve(results);\n                    }), (function(err) {\n                        secondPromise.reject(err);\n                    }));\n                };\n                for (var i = 0; i < promises.length; i++) {\n                    var prom = promises[i];\n                    if (prom instanceof ZalgoPromise) {\n                        if (prom.resolved) {\n                            results[i] = prom.value;\n                            count -= 1;\n                            continue;\n                        }\n                    } else if (!utils_isPromise(prom)) {\n                        results[i] = prom;\n                        count -= 1;\n                        continue;\n                    }\n                    chain(i, ZalgoPromise.resolve(prom), promise);\n                }\n                0 === count && promise.resolve(results);\n                return promise;\n            };\n            ZalgoPromise.hash = function(promises) {\n                var result = {};\n                var awaitPromises = [];\n                var _loop = function(key) {\n                    if (promises.hasOwnProperty(key)) {\n                        var value = promises[key];\n                        utils_isPromise(value) ? awaitPromises.push(value.then((function(res) {\n                            result[key] = res;\n                        }))) : result[key] = value;\n                    }\n                };\n                for (var key in promises) _loop(key);\n                return ZalgoPromise.all(awaitPromises).then((function() {\n                    return result;\n                }));\n            };\n            ZalgoPromise.map = function(items, method) {\n                return ZalgoPromise.all(items.map(method));\n            };\n            ZalgoPromise.onPossiblyUnhandledException = function(handler) {\n                return function(handler) {\n                    possiblyUnhandledPromiseHandlers.push(handler);\n                    return {\n                        cancel: function() {\n                            possiblyUnhandledPromiseHandlers.splice(possiblyUnhandledPromiseHandlers.indexOf(handler), 1);\n                        }\n                    };\n                }(handler);\n            };\n            ZalgoPromise.try = function(method, context, args) {\n                if (method && \"function\" != typeof method && !method.call) throw new Error(\"Promise.try expected a function\");\n                var result;\n                startActive();\n                try {\n                    result = method.apply(context, args || []);\n                } catch (err) {\n                    endActive();\n                    return ZalgoPromise.reject(err);\n                }\n                endActive();\n                return ZalgoPromise.resolve(result);\n            };\n            ZalgoPromise.delay = function(_delay) {\n                return new ZalgoPromise((function(resolve) {\n                    setTimeout(resolve, _delay);\n                }));\n            };\n            ZalgoPromise.isPromise = function(value) {\n                return !!(value && value instanceof ZalgoPromise) || utils_isPromise(value);\n            };\n            ZalgoPromise.flush = function() {\n                return function(Zalgo) {\n                    var promise = flushPromise = flushPromise || new Zalgo;\n                    flushActive();\n                    return promise;\n                }(ZalgoPromise);\n            };\n            return ZalgoPromise;\n        }();\n        function isRegex(item) {\n            return \"[object RegExp]\" === {}.toString.call(item);\n        }\n        var WINDOW_TYPE = {\n            IFRAME: \"iframe\",\n            POPUP: \"popup\"\n        };\n        var IE_WIN_ACCESS_ERROR = \"Call was rejected by callee.\\r\\n\";\n        function getActualProtocol(win) {\n            void 0 === win && (win = window);\n            return win.location.protocol;\n        }\n        function getProtocol(win) {\n            void 0 === win && (win = window);\n            if (win.mockDomain) {\n                var protocol = win.mockDomain.split(\"//\")[0];\n                if (protocol) return protocol;\n            }\n            return getActualProtocol(win);\n        }\n        function isAboutProtocol(win) {\n            void 0 === win && (win = window);\n            return \"about:\" === getProtocol(win);\n        }\n        function utils_getParent(win) {\n            void 0 === win && (win = window);\n            if (win) try {\n                if (win.parent && win.parent !== win) return win.parent;\n            } catch (err) {}\n        }\n        function getOpener(win) {\n            void 0 === win && (win = window);\n            if (win && !utils_getParent(win)) try {\n                return win.opener;\n            } catch (err) {}\n        }\n        function canReadFromWindow(win) {\n            try {\n                return !0;\n            } catch (err) {}\n            return !1;\n        }\n        function getActualDomain(win) {\n            void 0 === win && (win = window);\n            var location = win.location;\n            if (!location) throw new Error(\"Can not read window location\");\n            var protocol = getActualProtocol(win);\n            if (!protocol) throw new Error(\"Can not read window protocol\");\n            if (\"file:\" === protocol) return \"file://\";\n            if (\"about:\" === protocol) {\n                var parent = utils_getParent(win);\n                return parent && canReadFromWindow() ? getActualDomain(parent) : \"about://\";\n            }\n            var host = location.host;\n            if (!host) throw new Error(\"Can not read window host\");\n            return protocol + \"//\" + host;\n        }\n        function getDomain(win) {\n            void 0 === win && (win = window);\n            var domain = getActualDomain(win);\n            return domain && win.mockDomain && 0 === win.mockDomain.indexOf(\"mock:\") ? win.mockDomain : domain;\n        }\n        function isSameDomain(win) {\n            if (!function(win) {\n                try {\n                    if (win === window) return !0;\n                } catch (err) {}\n                try {\n                    var desc = Object.getOwnPropertyDescriptor(win, \"location\");\n                    if (desc && !1 === desc.enumerable) return !1;\n                } catch (err) {}\n                try {\n                    if (isAboutProtocol(win) && canReadFromWindow()) return !0;\n                } catch (err) {}\n                try {\n                    if (function(win) {\n                        void 0 === win && (win = window);\n                        return \"mock:\" === getProtocol(win);\n                    }(win) && canReadFromWindow()) return !0;\n                } catch (err) {}\n                try {\n                    if (getActualDomain(win) === getActualDomain(window)) return !0;\n                } catch (err) {}\n                return !1;\n            }(win)) return !1;\n            try {\n                if (win === window) return !0;\n                if (isAboutProtocol(win) && canReadFromWindow()) return !0;\n                if (getDomain(window) === getDomain(win)) return !0;\n            } catch (err) {}\n            return !1;\n        }\n        function assertSameDomain(win) {\n            if (!isSameDomain(win)) throw new Error(\"Expected window to be same domain\");\n            return win;\n        }\n        function isAncestorParent(parent, child) {\n            if (!parent || !child) return !1;\n            var childParent = utils_getParent(child);\n            return childParent ? childParent === parent : -1 !== function(win) {\n                var result = [];\n                try {\n                    for (;win.parent !== win; ) {\n                        result.push(win.parent);\n                        win = win.parent;\n                    }\n                } catch (err) {}\n                return result;\n            }(child).indexOf(parent);\n        }\n        function getFrames(win) {\n            var result = [];\n            var frames;\n            try {\n                frames = win.frames;\n            } catch (err) {\n                frames = win;\n            }\n            var len;\n            try {\n                len = frames.length;\n            } catch (err) {}\n            if (0 === len) return result;\n            if (len) {\n                for (var i = 0; i < len; i++) {\n                    var frame = void 0;\n                    try {\n                        frame = frames[i];\n                    } catch (err) {\n                        continue;\n                    }\n                    result.push(frame);\n                }\n                return result;\n            }\n            for (var _i = 0; _i < 100; _i++) {\n                var _frame = void 0;\n                try {\n                    _frame = frames[_i];\n                } catch (err) {\n                    return result;\n                }\n                if (!_frame) return result;\n                result.push(_frame);\n            }\n            return result;\n        }\n        function getAllChildFrames(win) {\n            var result = [];\n            for (var _i3 = 0, _getFrames2 = getFrames(win); _i3 < _getFrames2.length; _i3++) {\n                var frame = _getFrames2[_i3];\n                result.push(frame);\n                for (var _i5 = 0, _getAllChildFrames2 = getAllChildFrames(frame); _i5 < _getAllChildFrames2.length; _i5++) result.push(_getAllChildFrames2[_i5]);\n            }\n            return result;\n        }\n        function getTop(win) {\n            void 0 === win && (win = window);\n            try {\n                if (win.top) return win.top;\n            } catch (err) {}\n            if (utils_getParent(win) === win) return win;\n            try {\n                if (isAncestorParent(window, win) && window.top) return window.top;\n            } catch (err) {}\n            try {\n                if (isAncestorParent(win, window) && window.top) return window.top;\n            } catch (err) {}\n            for (var _i7 = 0, _getAllChildFrames4 = getAllChildFrames(win); _i7 < _getAllChildFrames4.length; _i7++) {\n                var frame = _getAllChildFrames4[_i7];\n                try {\n                    if (frame.top) return frame.top;\n                } catch (err) {}\n                if (utils_getParent(frame) === frame) return frame;\n            }\n        }\n        function getAllFramesInWindow(win) {\n            var top = getTop(win);\n            if (!top) throw new Error(\"Can not determine top window\");\n            var result = [].concat(getAllChildFrames(top), [ top ]);\n            -1 === result.indexOf(win) && (result = [].concat(result, [ win ], getAllChildFrames(win)));\n            return result;\n        }\n        var iframeWindows = [];\n        var iframeFrames = [];\n        function isWindowClosed(win, allowMock) {\n            void 0 === allowMock && (allowMock = !0);\n            try {\n                if (win === window) return !1;\n            } catch (err) {\n                return !0;\n            }\n            try {\n                if (!win) return !0;\n            } catch (err) {\n                return !0;\n            }\n            try {\n                if (win.closed) return !0;\n            } catch (err) {\n                return !err || err.message !== IE_WIN_ACCESS_ERROR;\n            }\n            if (allowMock && isSameDomain(win)) try {\n                if (win.mockclosed) return !0;\n            } catch (err) {}\n            try {\n                if (!win.parent || !win.top) return !0;\n            } catch (err) {}\n            var iframeIndex = function(collection, item) {\n                for (var i = 0; i < collection.length; i++) try {\n                    if (collection[i] === item) return i;\n                } catch (err) {}\n                return -1;\n            }(iframeWindows, win);\n            if (-1 !== iframeIndex) {\n                var frame = iframeFrames[iframeIndex];\n                if (frame && function(frame) {\n                    if (!frame.contentWindow) return !0;\n                    if (!frame.parentNode) return !0;\n                    var doc = frame.ownerDocument;\n                    if (doc && doc.documentElement && !doc.documentElement.contains(frame)) {\n                        var parent = frame;\n                        for (;parent.parentNode && parent.parentNode !== parent; ) parent = parent.parentNode;\n                        if (!parent.host || !doc.documentElement.contains(parent.host)) return !0;\n                    }\n                    return !1;\n                }(frame)) return !0;\n            }\n            return !1;\n        }\n        function getFrameByName(win, name) {\n            var winFrames = getFrames(win);\n            for (var _i9 = 0; _i9 < winFrames.length; _i9++) {\n                var childFrame = winFrames[_i9];\n                try {\n                    if (isSameDomain(childFrame) && childFrame.name === name && -1 !== winFrames.indexOf(childFrame)) return childFrame;\n                } catch (err) {}\n            }\n            try {\n                if (-1 !== winFrames.indexOf(win.frames[name])) return win.frames[name];\n            } catch (err) {}\n            try {\n                if (-1 !== winFrames.indexOf(win[name])) return win[name];\n            } catch (err) {}\n        }\n        function getAncestor(win) {\n            void 0 === win && (win = window);\n            return getOpener(win = win || window) || utils_getParent(win) || void 0;\n        }\n        function anyMatch(collection1, collection2) {\n            for (var _i17 = 0; _i17 < collection1.length; _i17++) {\n                var item1 = collection1[_i17];\n                for (var _i19 = 0; _i19 < collection2.length; _i19++) if (item1 === collection2[_i19]) return !0;\n            }\n            return !1;\n        }\n        function getDistanceFromTop(win) {\n            void 0 === win && (win = window);\n            var distance = 0;\n            var parent = win;\n            for (;parent; ) (parent = utils_getParent(parent)) && (distance += 1);\n            return distance;\n        }\n        function isSameTopWindow(win1, win2) {\n            var top1 = getTop(win1) || win1;\n            var top2 = getTop(win2) || win2;\n            try {\n                if (top1 && top2) return top1 === top2;\n            } catch (err) {}\n            var allFrames1 = getAllFramesInWindow(win1);\n            var allFrames2 = getAllFramesInWindow(win2);\n            if (anyMatch(allFrames1, allFrames2)) return !0;\n            var opener1 = getOpener(top1);\n            var opener2 = getOpener(top2);\n            return opener1 && anyMatch(getAllFramesInWindow(opener1), allFrames2) || opener2 && anyMatch(getAllFramesInWindow(opener2), allFrames1), \n            !1;\n        }\n        function matchDomain(pattern, origin) {\n            if (\"string\" == typeof pattern) {\n                if (\"string\" == typeof origin) return \"*\" === pattern || origin === pattern;\n                if (isRegex(origin)) return !1;\n                if (Array.isArray(origin)) return !1;\n            }\n            return isRegex(pattern) ? isRegex(origin) ? pattern.toString() === origin.toString() : !Array.isArray(origin) && Boolean(origin.match(pattern)) : !!Array.isArray(pattern) && (Array.isArray(origin) ? JSON.stringify(pattern) === JSON.stringify(origin) : !isRegex(origin) && pattern.some((function(subpattern) {\n                return matchDomain(subpattern, origin);\n            })));\n        }\n        function getDomainFromUrl(url) {\n            return url.match(/^(https?|mock|file):\\/\\//) ? url.split(\"/\").slice(0, 3).join(\"/\") : getDomain();\n        }\n        function onCloseWindow(win, callback, delay, maxtime) {\n            void 0 === delay && (delay = 1e3);\n            void 0 === maxtime && (maxtime = 1 / 0);\n            var timeout;\n            !function check() {\n                if (isWindowClosed(win)) {\n                    timeout && clearTimeout(timeout);\n                    return callback();\n                }\n                if (maxtime <= 0) clearTimeout(timeout); else {\n                    maxtime -= delay;\n                    timeout = setTimeout(check, delay);\n                }\n            }();\n            return {\n                cancel: function() {\n                    timeout && clearTimeout(timeout);\n                }\n            };\n        }\n        function isWindow(obj) {\n            try {\n                if (obj === window) return !0;\n            } catch (err) {\n                if (err && err.message === IE_WIN_ACCESS_ERROR) return !0;\n            }\n            try {\n                if (\"[object Window]\" === {}.toString.call(obj)) return !0;\n            } catch (err) {\n                if (err && err.message === IE_WIN_ACCESS_ERROR) return !0;\n            }\n            try {\n                if (window.Window && obj instanceof window.Window) return !0;\n            } catch (err) {\n                if (err && err.message === IE_WIN_ACCESS_ERROR) return !0;\n            }\n            try {\n                if (obj && obj.self === obj) return !0;\n            } catch (err) {\n                if (err && err.message === IE_WIN_ACCESS_ERROR) return !0;\n            }\n            try {\n                if (obj && obj.parent === obj) return !0;\n            } catch (err) {\n                if (err && err.message === IE_WIN_ACCESS_ERROR) return !0;\n            }\n            try {\n                if (obj && obj.top === obj) return !0;\n            } catch (err) {\n                if (err && err.message === IE_WIN_ACCESS_ERROR) return !0;\n            }\n            try {\n                if (obj && \"__unlikely_value__\" === obj.__cross_domain_utils_window_check__) return !1;\n            } catch (err) {\n                return !0;\n            }\n            try {\n                if (\"postMessage\" in obj && \"self\" in obj && \"location\" in obj) return !0;\n            } catch (err) {}\n            return !1;\n        }\n        function getFrameForWindow(win) {\n            if (isSameDomain(win)) return assertSameDomain(win).frameElement;\n            for (var _i21 = 0, _document$querySelect2 = document.querySelectorAll(\"iframe\"); _i21 < _document$querySelect2.length; _i21++) {\n                var frame = _document$querySelect2[_i21];\n                if (frame && frame.contentWindow && frame.contentWindow === win) return frame;\n            }\n        }\n        function closeWindow(win) {\n            if (function(win) {\n                void 0 === win && (win = window);\n                return Boolean(utils_getParent(win));\n            }(win)) {\n                var frame = getFrameForWindow(win);\n                if (frame && frame.parentElement) {\n                    frame.parentElement.removeChild(frame);\n                    return;\n                }\n            }\n            try {\n                win.close();\n            } catch (err) {}\n        }\n        function util_safeIndexOf(collection, item) {\n            for (var i = 0; i < collection.length; i++) try {\n                if (collection[i] === item) return i;\n            } catch (err) {}\n            return -1;\n        }\n        var weakmap_CrossDomainSafeWeakMap = function() {\n            function CrossDomainSafeWeakMap() {\n                this.name = void 0;\n                this.weakmap = void 0;\n                this.keys = void 0;\n                this.values = void 0;\n                this.name = \"__weakmap_\" + (1e9 * Math.random() >>> 0) + \"__\";\n                if (function() {\n                    if (\"undefined\" == typeof WeakMap) return !1;\n                    if (void 0 === Object.freeze) return !1;\n                    try {\n                        var testWeakMap = new WeakMap;\n                        var testKey = {};\n                        Object.freeze(testKey);\n                        testWeakMap.set(testKey, \"__testvalue__\");\n                        return \"__testvalue__\" === testWeakMap.get(testKey);\n                    } catch (err) {\n                        return !1;\n                    }\n                }()) try {\n                    this.weakmap = new WeakMap;\n                } catch (err) {}\n                this.keys = [];\n                this.values = [];\n            }\n            var _proto = CrossDomainSafeWeakMap.prototype;\n            _proto._cleanupClosedWindows = function() {\n                var weakmap = this.weakmap;\n                var keys = this.keys;\n                for (var i = 0; i < keys.length; i++) {\n                    var value = keys[i];\n                    if (isWindow(value) && isWindowClosed(value)) {\n                        if (weakmap) try {\n                            weakmap.delete(value);\n                        } catch (err) {}\n                        keys.splice(i, 1);\n                        this.values.splice(i, 1);\n                        i -= 1;\n                    }\n                }\n            };\n            _proto.isSafeToReadWrite = function(key) {\n                return !isWindow(key);\n            };\n            _proto.set = function(key, value) {\n                if (!key) throw new Error(\"WeakMap expected key\");\n                var weakmap = this.weakmap;\n                if (weakmap) try {\n                    weakmap.set(key, value);\n                } catch (err) {\n                    delete this.weakmap;\n                }\n                if (this.isSafeToReadWrite(key)) try {\n                    var name = this.name;\n                    var entry = key[name];\n                    entry && entry[0] === key ? entry[1] = value : Object.defineProperty(key, name, {\n                        value: [ key, value ],\n                        writable: !0\n                    });\n                    return;\n                } catch (err) {}\n                this._cleanupClosedWindows();\n                var keys = this.keys;\n                var values = this.values;\n                var index = util_safeIndexOf(keys, key);\n                if (-1 === index) {\n                    keys.push(key);\n                    values.push(value);\n                } else values[index] = value;\n            };\n            _proto.get = function(key) {\n                if (!key) throw new Error(\"WeakMap expected key\");\n                var weakmap = this.weakmap;\n                if (weakmap) try {\n                    if (weakmap.has(key)) return weakmap.get(key);\n                } catch (err) {\n                    delete this.weakmap;\n                }\n                if (this.isSafeToReadWrite(key)) try {\n                    var entry = key[this.name];\n                    return entry && entry[0] === key ? entry[1] : void 0;\n                } catch (err) {}\n                this._cleanupClosedWindows();\n                var index = util_safeIndexOf(this.keys, key);\n                if (-1 !== index) return this.values[index];\n            };\n            _proto.delete = function(key) {\n                if (!key) throw new Error(\"WeakMap expected key\");\n                var weakmap = this.weakmap;\n                if (weakmap) try {\n                    weakmap.delete(key);\n                } catch (err) {\n                    delete this.weakmap;\n                }\n                if (this.isSafeToReadWrite(key)) try {\n                    var entry = key[this.name];\n                    entry && entry[0] === key && (entry[0] = entry[1] = void 0);\n                } catch (err) {}\n                this._cleanupClosedWindows();\n                var keys = this.keys;\n                var index = util_safeIndexOf(keys, key);\n                if (-1 !== index) {\n                    keys.splice(index, 1);\n                    this.values.splice(index, 1);\n                }\n            };\n            _proto.has = function(key) {\n                if (!key) throw new Error(\"WeakMap expected key\");\n                var weakmap = this.weakmap;\n                if (weakmap) try {\n                    if (weakmap.has(key)) return !0;\n                } catch (err) {\n                    delete this.weakmap;\n                }\n                if (this.isSafeToReadWrite(key)) try {\n                    var entry = key[this.name];\n                    return !(!entry || entry[0] !== key);\n                } catch (err) {}\n                this._cleanupClosedWindows();\n                return -1 !== util_safeIndexOf(this.keys, key);\n            };\n            _proto.getOrSet = function(key, getter) {\n                if (this.has(key)) return this.get(key);\n                var value = getter();\n                this.set(key, value);\n                return value;\n            };\n            return CrossDomainSafeWeakMap;\n        }();\n        function _getPrototypeOf(o) {\n            return (_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function(o) {\n                return o.__proto__ || Object.getPrototypeOf(o);\n            })(o);\n        }\n        function _isNativeReflectConstruct() {\n            if (\"undefined\" == typeof Reflect || !Reflect.construct) return !1;\n            if (Reflect.construct.sham) return !1;\n            if (\"function\" == typeof Proxy) return !0;\n            try {\n                Date.prototype.toString.call(Reflect.construct(Date, [], (function() {})));\n                return !0;\n            } catch (e) {\n                return !1;\n            }\n        }\n        function construct_construct(Parent, args, Class) {\n            return (construct_construct = _isNativeReflectConstruct() ? Reflect.construct : function(Parent, args, Class) {\n                var a = [ null ];\n                a.push.apply(a, args);\n                var instance = new (Function.bind.apply(Parent, a));\n                Class && _setPrototypeOf(instance, Class.prototype);\n                return instance;\n            }).apply(null, arguments);\n        }\n        function wrapNativeSuper_wrapNativeSuper(Class) {\n            var _cache = \"function\" == typeof Map ? new Map : void 0;\n            return (wrapNativeSuper_wrapNativeSuper = function(Class) {\n                if (null === Class || !(fn = Class, -1 !== Function.toString.call(fn).indexOf(\"[native code]\"))) return Class;\n                var fn;\n                if (\"function\" != typeof Class) throw new TypeError(\"Super expression must either be null or a function\");\n                if (void 0 !== _cache) {\n                    if (_cache.has(Class)) return _cache.get(Class);\n                    _cache.set(Class, Wrapper);\n                }\n                function Wrapper() {\n                    return construct_construct(Class, arguments, _getPrototypeOf(this).constructor);\n                }\n                Wrapper.prototype = Object.create(Class.prototype, {\n                    constructor: {\n                        value: Wrapper,\n                        enumerable: !1,\n                        writable: !0,\n                        configurable: !0\n                    }\n                });\n                return _setPrototypeOf(Wrapper, Class);\n            })(Class);\n        }\n        function getFunctionName(fn) {\n            return fn.name || fn.__name__ || fn.displayName || \"anonymous\";\n        }\n        function setFunctionName(fn, name) {\n            try {\n                delete fn.name;\n                fn.name = name;\n            } catch (err) {}\n            fn.__name__ = fn.displayName = name;\n            return fn;\n        }\n        function base64encode(str) {\n            if (\"function\" == typeof btoa) return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, (function(m, p1) {\n                return String.fromCharCode(parseInt(p1, 16));\n            }))).replace(/[=]/g, \"\");\n            if (\"undefined\" != typeof Buffer) return Buffer.from(str, \"utf8\").toString(\"base64\").replace(/[=]/g, \"\");\n            throw new Error(\"Can not find window.btoa or Buffer\");\n        }\n        function uniqueID() {\n            var chars = \"0123456789abcdef\";\n            return \"uid_\" + \"xxxxxxxxxx\".replace(/./g, (function() {\n                return chars.charAt(Math.floor(Math.random() * chars.length));\n            })) + \"_\" + base64encode((new Date).toISOString().slice(11, 19).replace(\"T\", \".\")).replace(/[^a-zA-Z0-9]/g, \"\").toLowerCase();\n        }\n        var objectIDs;\n        function serializeArgs(args) {\n            try {\n                return JSON.stringify([].slice.call(args), (function(subkey, val) {\n                    return \"function\" == typeof val ? \"memoize[\" + function(obj) {\n                        objectIDs = objectIDs || new weakmap_CrossDomainSafeWeakMap;\n                        if (null == obj || \"object\" != typeof obj && \"function\" != typeof obj) throw new Error(\"Invalid object\");\n                        var uid = objectIDs.get(obj);\n                        if (!uid) {\n                            uid = typeof obj + \":\" + uniqueID();\n                            objectIDs.set(obj, uid);\n                        }\n                        return uid;\n                    }(val) + \"]\" : val;\n                }));\n            } catch (err) {\n                throw new Error(\"Arguments not serializable -- can not be used to memoize\");\n            }\n        }\n        function getEmptyObject() {\n            return {};\n        }\n        var memoizeGlobalIndex = 0;\n        var memoizeGlobalIndexValidFrom = 0;\n        function memoize(method, options) {\n            void 0 === options && (options = {});\n            var _options$thisNamespac = options.thisNamespace, thisNamespace = void 0 !== _options$thisNamespac && _options$thisNamespac, cacheTime = options.time;\n            var simpleCache;\n            var thisCache;\n            var memoizeIndex = memoizeGlobalIndex;\n            memoizeGlobalIndex += 1;\n            var memoizedFunction = function() {\n                for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) args[_key] = arguments[_key];\n                if (memoizeIndex < memoizeGlobalIndexValidFrom) {\n                    simpleCache = null;\n                    thisCache = null;\n                    memoizeIndex = memoizeGlobalIndex;\n                    memoizeGlobalIndex += 1;\n                }\n                var cache;\n                cache = thisNamespace ? (thisCache = thisCache || new weakmap_CrossDomainSafeWeakMap).getOrSet(this, getEmptyObject) : simpleCache = simpleCache || {};\n                var cacheKey = serializeArgs(args);\n                var cacheResult = cache[cacheKey];\n                if (cacheResult && cacheTime && Date.now() - cacheResult.time < cacheTime) {\n                    delete cache[cacheKey];\n                    cacheResult = null;\n                }\n                if (cacheResult) return cacheResult.value;\n                var time = Date.now();\n                var value = method.apply(this, arguments);\n                cache[cacheKey] = {\n                    time: time,\n                    value: value\n                };\n                return value;\n            };\n            memoizedFunction.reset = function() {\n                simpleCache = null;\n                thisCache = null;\n            };\n            return setFunctionName(memoizedFunction, (options.name || getFunctionName(method)) + \"::memoized\");\n        }\n        memoize.clear = function() {\n            memoizeGlobalIndexValidFrom = memoizeGlobalIndex;\n        };\n        function memoizePromise(method) {\n            var cache = {};\n            function memoizedPromiseFunction() {\n                var _arguments = arguments, _this = this;\n                for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) args[_key2] = arguments[_key2];\n                var key = serializeArgs(args);\n                if (cache.hasOwnProperty(key)) return cache[key];\n                cache[key] = promise_ZalgoPromise.try((function() {\n                    return method.apply(_this, _arguments);\n                })).finally((function() {\n                    delete cache[key];\n                }));\n                return cache[key];\n            }\n            memoizedPromiseFunction.reset = function() {\n                cache = {};\n            };\n            return setFunctionName(memoizedPromiseFunction, getFunctionName(method) + \"::promiseMemoized\");\n        }\n        function src_util_noop() {}\n        function once(method) {\n            var called = !1;\n            return setFunctionName((function() {\n                if (!called) {\n                    called = !0;\n                    return method.apply(this, arguments);\n                }\n            }), getFunctionName(method) + \"::once\");\n        }\n        function stringifyError(err, level) {\n            void 0 === level && (level = 1);\n            if (level >= 3) return \"stringifyError stack overflow\";\n            try {\n                if (!err) return \"<unknown error: \" + {}.toString.call(err) + \">\";\n                if (\"string\" == typeof err) return err;\n                if (err instanceof Error) {\n                    var stack = err && err.stack;\n                    var message = err && err.message;\n                    if (stack && message) return -1 !== stack.indexOf(message) ? stack : message + \"\\n\" + stack;\n                    if (stack) return stack;\n                    if (message) return message;\n                }\n                return err && err.toString && \"function\" == typeof err.toString ? err.toString() : {}.toString.call(err);\n            } catch (newErr) {\n                return \"Error while stringifying error: \" + stringifyError(newErr, level + 1);\n            }\n        }\n        function stringify(item) {\n            return \"string\" == typeof item ? item : item && item.toString && \"function\" == typeof item.toString ? item.toString() : {}.toString.call(item);\n        }\n        function extend(obj, source) {\n            if (!source) return obj;\n            if (Object.assign) return Object.assign(obj, source);\n            for (var key in source) source.hasOwnProperty(key) && (obj[key] = source[key]);\n            return obj;\n        }\n        memoize((function(obj) {\n            if (Object.values) return Object.values(obj);\n            var result = [];\n            for (var key in obj) obj.hasOwnProperty(key) && result.push(obj[key]);\n            return result;\n        }));\n        function identity(item) {\n            return item;\n        }\n        function safeInterval(method, time) {\n            var timeout;\n            !function loop() {\n                timeout = setTimeout((function() {\n                    method();\n                    loop();\n                }), time);\n            }();\n            return {\n                cancel: function() {\n                    clearTimeout(timeout);\n                }\n            };\n        }\n        function arrayFrom(item) {\n            return [].slice.call(item);\n        }\n        function isDefined(value) {\n            return null != value;\n        }\n        function util_isRegex(item) {\n            return \"[object RegExp]\" === {}.toString.call(item);\n        }\n        function util_getOrSet(obj, key, getter) {\n            if (obj.hasOwnProperty(key)) return obj[key];\n            var val = getter();\n            obj[key] = val;\n            return val;\n        }\n        function cleanup(obj) {\n            var tasks = [];\n            var cleaned = !1;\n            var cleanErr;\n            var cleaner = {\n                set: function(name, item) {\n                    if (!cleaned) {\n                        obj[name] = item;\n                        cleaner.register((function() {\n                            delete obj[name];\n                        }));\n                    }\n                    return item;\n                },\n                register: function(method) {\n                    var task = once((function() {\n                        return method(cleanErr);\n                    }));\n                    cleaned ? method(cleanErr) : tasks.push(task);\n                    return {\n                        cancel: function() {\n                            var index = tasks.indexOf(task);\n                            -1 !== index && tasks.splice(index, 1);\n                        }\n                    };\n                },\n                all: function(err) {\n                    cleanErr = err;\n                    var results = [];\n                    cleaned = !0;\n                    for (;tasks.length; ) {\n                        var task = tasks.shift();\n                        results.push(task());\n                    }\n                    return promise_ZalgoPromise.all(results).then(src_util_noop);\n                }\n            };\n            return cleaner;\n        }\n        function assertExists(name, thing) {\n            if (null == thing) throw new Error(\"Expected \" + name + \" to be present\");\n            return thing;\n        }\n        var util_ExtendableError = function(_Error) {\n            _inheritsLoose(ExtendableError, _Error);\n            function ExtendableError(message) {\n                var _this6;\n                (_this6 = _Error.call(this, message) || this).name = _this6.constructor.name;\n                \"function\" == typeof Error.captureStackTrace ? Error.captureStackTrace(function(self) {\n                    if (void 0 === self) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n                    return self;\n                }(_this6), _this6.constructor) : _this6.stack = new Error(message).stack;\n                return _this6;\n            }\n            return ExtendableError;\n        }(wrapNativeSuper_wrapNativeSuper(Error));\n        function getBody() {\n            var body = document.body;\n            if (!body) throw new Error(\"Body element not found\");\n            return body;\n        }\n        function isDocumentReady() {\n            return Boolean(document.body) && \"complete\" === document.readyState;\n        }\n        function isDocumentInteractive() {\n            return Boolean(document.body) && \"interactive\" === document.readyState;\n        }\n        function urlEncode(str) {\n            return encodeURIComponent(str);\n        }\n        memoize((function() {\n            return new promise_ZalgoPromise((function(resolve) {\n                if (isDocumentReady() || isDocumentInteractive()) return resolve();\n                var interval = setInterval((function() {\n                    if (isDocumentReady() || isDocumentInteractive()) {\n                        clearInterval(interval);\n                        return resolve();\n                    }\n                }), 10);\n            }));\n        }));\n        function parseQuery(queryString) {\n            return function(method, logic, args) {\n                void 0 === args && (args = []);\n                var cache = method.__inline_memoize_cache__ = method.__inline_memoize_cache__ || {};\n                var key = serializeArgs(args);\n                return cache.hasOwnProperty(key) ? cache[key] : cache[key] = function() {\n                    var params = {};\n                    if (!queryString) return params;\n                    if (-1 === queryString.indexOf(\"=\")) return params;\n                    for (var _i2 = 0, _queryString$split2 = queryString.split(\"&\"); _i2 < _queryString$split2.length; _i2++) {\n                        var pair = _queryString$split2[_i2];\n                        (pair = pair.split(\"=\"))[0] && pair[1] && (params[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]));\n                    }\n                    return params;\n                }.apply(void 0, args);\n            }(parseQuery, 0, [ queryString ]);\n        }\n        function extendQuery(originalQuery, props) {\n            void 0 === props && (props = {});\n            return props && Object.keys(props).length ? function(obj) {\n                void 0 === obj && (obj = {});\n                return Object.keys(obj).filter((function(key) {\n                    return \"string\" == typeof obj[key] || \"boolean\" == typeof obj[key];\n                })).map((function(key) {\n                    var val = obj[key];\n                    if (\"string\" != typeof val && \"boolean\" != typeof val) throw new TypeError(\"Invalid type for query\");\n                    return urlEncode(key) + \"=\" + urlEncode(val.toString());\n                })).join(\"&\");\n            }(_extends({}, parseQuery(originalQuery), props)) : originalQuery;\n        }\n        function appendChild(container, child) {\n            container.appendChild(child);\n        }\n        function isElement(element) {\n            return element instanceof window.Element || null !== element && \"object\" == typeof element && 1 === element.nodeType && \"object\" == typeof element.style && \"object\" == typeof element.ownerDocument;\n        }\n        function getElementSafe(id, doc) {\n            void 0 === doc && (doc = document);\n            return isElement(id) ? id : \"string\" == typeof id ? doc.querySelector(id) : void 0;\n        }\n        function elementReady(id) {\n            return new promise_ZalgoPromise((function(resolve, reject) {\n                var name = stringify(id);\n                var el = getElementSafe(id);\n                if (el) return resolve(el);\n                if (isDocumentReady()) return reject(new Error(\"Document is ready and element \" + name + \" does not exist\"));\n                var interval = setInterval((function() {\n                    if (el = getElementSafe(id)) {\n                        resolve(el);\n                        clearInterval(interval);\n                    } else if (isDocumentReady()) {\n                        clearInterval(interval);\n                        return reject(new Error(\"Document is ready and element \" + name + \" does not exist\"));\n                    }\n                }), 10);\n            }));\n        }\n        var dom_PopupOpenError = function(_ExtendableError) {\n            _inheritsLoose(PopupOpenError, _ExtendableError);\n            function PopupOpenError() {\n                return _ExtendableError.apply(this, arguments) || this;\n            }\n            return PopupOpenError;\n        }(util_ExtendableError);\n        var awaitFrameLoadPromises;\n        function awaitFrameLoad(frame) {\n            if ((awaitFrameLoadPromises = awaitFrameLoadPromises || new weakmap_CrossDomainSafeWeakMap).has(frame)) {\n                var _promise = awaitFrameLoadPromises.get(frame);\n                if (_promise) return _promise;\n            }\n            var promise = new promise_ZalgoPromise((function(resolve, reject) {\n                frame.addEventListener(\"load\", (function() {\n                    !function(frame) {\n                        !function() {\n                            for (var i = 0; i < iframeWindows.length; i++) {\n                                var closed = !1;\n                                try {\n                                    closed = iframeWindows[i].closed;\n                                } catch (err) {}\n                                if (closed) {\n                                    iframeFrames.splice(i, 1);\n                                    iframeWindows.splice(i, 1);\n                                }\n                            }\n                        }();\n                        if (frame && frame.contentWindow) try {\n                            iframeWindows.push(frame.contentWindow);\n                            iframeFrames.push(frame);\n                        } catch (err) {}\n                    }(frame);\n                    resolve(frame);\n                }));\n                frame.addEventListener(\"error\", (function(err) {\n                    frame.contentWindow ? resolve(frame) : reject(err);\n                }));\n            }));\n            awaitFrameLoadPromises.set(frame, promise);\n            return promise;\n        }\n        function awaitFrameWindow(frame) {\n            return awaitFrameLoad(frame).then((function(loadedFrame) {\n                if (!loadedFrame.contentWindow) throw new Error(\"Could not find window in iframe\");\n                return loadedFrame.contentWindow;\n            }));\n        }\n        function dom_iframe(options, container) {\n            void 0 === options && (options = {});\n            var style = options.style || {};\n            var frame = function(tag, options, container) {\n                void 0 === tag && (tag = \"div\");\n                void 0 === options && (options = {});\n                tag = tag.toLowerCase();\n                var element = document.createElement(tag);\n                options.style && extend(element.style, options.style);\n                options.class && (element.className = options.class.join(\" \"));\n                options.id && element.setAttribute(\"id\", options.id);\n                if (options.attributes) for (var _i10 = 0, _Object$keys2 = Object.keys(options.attributes); _i10 < _Object$keys2.length; _i10++) {\n                    var key = _Object$keys2[_i10];\n                    element.setAttribute(key, options.attributes[key]);\n                }\n                options.styleSheet && function(el, styleText, doc) {\n                    void 0 === doc && (doc = window.document);\n                    el.styleSheet ? el.styleSheet.cssText = styleText : el.appendChild(doc.createTextNode(styleText));\n                }(element, options.styleSheet);\n                if (options.html) {\n                    if (\"iframe\" === tag) throw new Error(\"Iframe html can not be written unless container provided and iframe in DOM\");\n                    element.innerHTML = options.html;\n                }\n                return element;\n            }(\"iframe\", {\n                attributes: _extends({\n                    allowTransparency: \"true\"\n                }, options.attributes || {}),\n                style: _extends({\n                    backgroundColor: \"transparent\",\n                    border: \"none\"\n                }, style),\n                html: options.html,\n                class: options.class\n            });\n            var isIE = window.navigator.userAgent.match(/MSIE|Edge/i);\n            frame.hasAttribute(\"id\") || frame.setAttribute(\"id\", uniqueID());\n            awaitFrameLoad(frame);\n            container && function(id, doc) {\n                void 0 === doc && (doc = document);\n                var element = getElementSafe(id, doc);\n                if (element) return element;\n                throw new Error(\"Can not find element: \" + stringify(id));\n            }(container).appendChild(frame);\n            (options.url || isIE) && frame.setAttribute(\"src\", options.url || \"about:blank\");\n            return frame;\n        }\n        function addEventListener(obj, event, handler) {\n            obj.addEventListener(event, handler);\n            return {\n                cancel: function() {\n                    obj.removeEventListener(event, handler);\n                }\n            };\n        }\n        function showElement(element) {\n            element.style.setProperty(\"display\", \"\");\n        }\n        function hideElement(element) {\n            element.style.setProperty(\"display\", \"none\", \"important\");\n        }\n        function destroyElement(element) {\n            element && element.parentNode && element.parentNode.removeChild(element);\n        }\n        function isElementClosed(el) {\n            return !(el && el.parentNode && el.ownerDocument && el.ownerDocument.documentElement && el.ownerDocument.documentElement.contains(el));\n        }\n        function onResize(el, handler, _temp) {\n            var _ref2 = void 0 === _temp ? {} : _temp, _ref2$width = _ref2.width, width = void 0 === _ref2$width || _ref2$width, _ref2$height = _ref2.height, height = void 0 === _ref2$height || _ref2$height, _ref2$interval = _ref2.interval, interval = void 0 === _ref2$interval ? 100 : _ref2$interval, _ref2$win = _ref2.win, win = void 0 === _ref2$win ? window : _ref2$win;\n            var currentWidth = el.offsetWidth;\n            var currentHeight = el.offsetHeight;\n            var canceled = !1;\n            handler({\n                width: currentWidth,\n                height: currentHeight\n            });\n            var check = function() {\n                if (!canceled && function(el) {\n                    return Boolean(el.offsetWidth || el.offsetHeight || el.getClientRects().length);\n                }(el)) {\n                    var newWidth = el.offsetWidth;\n                    var newHeight = el.offsetHeight;\n                    (width && newWidth !== currentWidth || height && newHeight !== currentHeight) && handler({\n                        width: newWidth,\n                        height: newHeight\n                    });\n                    currentWidth = newWidth;\n                    currentHeight = newHeight;\n                }\n            };\n            var observer;\n            var timeout;\n            win.addEventListener(\"resize\", check);\n            if (void 0 !== win.ResizeObserver) {\n                (observer = new win.ResizeObserver(check)).observe(el);\n                timeout = safeInterval(check, 10 * interval);\n            } else if (void 0 !== win.MutationObserver) {\n                (observer = new win.MutationObserver(check)).observe(el, {\n                    attributes: !0,\n                    childList: !0,\n                    subtree: !0,\n                    characterData: !1\n                });\n                timeout = safeInterval(check, 10 * interval);\n            } else timeout = safeInterval(check, interval);\n            return {\n                cancel: function() {\n                    canceled = !0;\n                    observer.disconnect();\n                    window.removeEventListener(\"resize\", check);\n                    timeout.cancel();\n                }\n            };\n        }\n        function isShadowElement(element) {\n            for (;element.parentNode; ) element = element.parentNode;\n            return \"[object ShadowRoot]\" === element.toString();\n        }\n        var currentScript = \"undefined\" != typeof document ? document.currentScript : null;\n        var getCurrentScript = memoize((function() {\n            if (currentScript) return currentScript;\n            if (currentScript = function() {\n                try {\n                    var stack = function() {\n                        try {\n                            throw new Error(\"_\");\n                        } catch (err) {\n                            return err.stack || \"\";\n                        }\n                    }();\n                    var stackDetails = /.*at [^(]*\\((.*):(.+):(.+)\\)$/gi.exec(stack);\n                    var scriptLocation = stackDetails && stackDetails[1];\n                    if (!scriptLocation) return;\n                    for (var _i22 = 0, _Array$prototype$slic2 = [].slice.call(document.getElementsByTagName(\"script\")).reverse(); _i22 < _Array$prototype$slic2.length; _i22++) {\n                        var script = _Array$prototype$slic2[_i22];\n                        if (script.src && script.src === scriptLocation) return script;\n                    }\n                } catch (err) {}\n            }()) return currentScript;\n            throw new Error(\"Can not determine current script\");\n        }));\n        var currentUID = uniqueID();\n        memoize((function() {\n            var script;\n            try {\n                script = getCurrentScript();\n            } catch (err) {\n                return currentUID;\n            }\n            var uid = script.getAttribute(\"data-uid\");\n            if (uid && \"string\" == typeof uid) return uid;\n            if ((uid = script.getAttribute(\"data-uid-auto\")) && \"string\" == typeof uid) return uid;\n            if (script.src) {\n                var hashedString = function(str) {\n                    var hash = \"\";\n                    for (var i = 0; i < str.length; i++) {\n                        var total = str[i].charCodeAt(0) * i;\n                        str[i + 1] && (total += str[i + 1].charCodeAt(0) * (i - 1));\n                        hash += String.fromCharCode(97 + Math.abs(total) % 26);\n                    }\n                    return hash;\n                }(JSON.stringify({\n                    src: script.src,\n                    dataset: script.dataset\n                }));\n                uid = \"uid_\" + hashedString.slice(hashedString.length - 30);\n            } else uid = uniqueID();\n            script.setAttribute(\"data-uid-auto\", uid);\n            return uid;\n        }));\n        function toPx(val) {\n            return function(val) {\n                if (\"number\" == typeof val) return val;\n                var match = val.match(/^([0-9]+)(px|%)$/);\n                if (!match) throw new Error(\"Could not match css value from \" + val);\n                return parseInt(match[1], 10);\n            }(val) + \"px\";\n        }\n        function toCSS(val) {\n            return \"number\" == typeof val ? toPx(val) : \"string\" == typeof (str = val) && /^[0-9]+%$/.test(str) ? val : toPx(val);\n            var str;\n        }\n        function global_getGlobal(win) {\n            void 0 === win && (win = window);\n            var globalKey = \"__post_robot_10_0_44__\";\n            return win !== window ? win[globalKey] : win[globalKey] = win[globalKey] || {};\n        }\n        var getObj = function() {\n            return {};\n        };\n        function globalStore(key, defStore) {\n            void 0 === key && (key = \"store\");\n            void 0 === defStore && (defStore = getObj);\n            return util_getOrSet(global_getGlobal(), key, (function() {\n                var store = defStore();\n                return {\n                    has: function(storeKey) {\n                        return store.hasOwnProperty(storeKey);\n                    },\n                    get: function(storeKey, defVal) {\n                        return store.hasOwnProperty(storeKey) ? store[storeKey] : defVal;\n                    },\n                    set: function(storeKey, val) {\n                        store[storeKey] = val;\n                        return val;\n                    },\n                    del: function(storeKey) {\n                        delete store[storeKey];\n                    },\n                    getOrSet: function(storeKey, getter) {\n                        return util_getOrSet(store, storeKey, getter);\n                    },\n                    reset: function() {\n                        store = defStore();\n                    },\n                    keys: function() {\n                        return Object.keys(store);\n                    }\n                };\n            }));\n        }\n        var WildCard = function() {};\n        function getWildcard() {\n            var global = global_getGlobal();\n            global.WINDOW_WILDCARD = global.WINDOW_WILDCARD || new WildCard;\n            return global.WINDOW_WILDCARD;\n        }\n        function windowStore(key, defStore) {\n            void 0 === key && (key = \"store\");\n            void 0 === defStore && (defStore = getObj);\n            return globalStore(\"windowStore\").getOrSet(key, (function() {\n                var winStore = new weakmap_CrossDomainSafeWeakMap;\n                var getStore = function(win) {\n                    return winStore.getOrSet(win, defStore);\n                };\n                return {\n                    has: function(win) {\n                        return getStore(win).hasOwnProperty(key);\n                    },\n                    get: function(win, defVal) {\n                        var store = getStore(win);\n                        return store.hasOwnProperty(key) ? store[key] : defVal;\n                    },\n                    set: function(win, val) {\n                        getStore(win)[key] = val;\n                        return val;\n                    },\n                    del: function(win) {\n                        delete getStore(win)[key];\n                    },\n                    getOrSet: function(win, getter) {\n                        return util_getOrSet(getStore(win), key, getter);\n                    }\n                };\n            }));\n        }\n        function getInstanceID() {\n            return globalStore(\"instance\").getOrSet(\"instanceID\", uniqueID);\n        }\n        function resolveHelloPromise(win, _ref) {\n            var domain = _ref.domain;\n            var helloPromises = windowStore(\"helloPromises\");\n            var existingPromise = helloPromises.get(win);\n            existingPromise && existingPromise.resolve({\n                domain: domain\n            });\n            var newPromise = promise_ZalgoPromise.resolve({\n                domain: domain\n            });\n            helloPromises.set(win, newPromise);\n            return newPromise;\n        }\n        function sayHello(win, _ref4) {\n            return (0, _ref4.send)(win, \"postrobot_hello\", {\n                instanceID: getInstanceID()\n            }, {\n                domain: \"*\",\n                timeout: -1\n            }).then((function(_ref5) {\n                var origin = _ref5.origin, instanceID = _ref5.data.instanceID;\n                resolveHelloPromise(win, {\n                    domain: origin\n                });\n                return {\n                    win: win,\n                    domain: origin,\n                    instanceID: instanceID\n                };\n            }));\n        }\n        function getWindowInstanceID(win, _ref6) {\n            var send = _ref6.send;\n            return windowStore(\"windowInstanceIDPromises\").getOrSet(win, (function() {\n                return sayHello(win, {\n                    send: send\n                }).then((function(_ref7) {\n                    return _ref7.instanceID;\n                }));\n            }));\n        }\n        function markWindowKnown(win) {\n            windowStore(\"knownWindows\").set(win, !0);\n        }\n        function isSerializedType(item) {\n            return \"object\" == typeof item && null !== item && \"string\" == typeof item.__type__;\n        }\n        function determineType(val) {\n            return void 0 === val ? \"undefined\" : null === val ? \"null\" : Array.isArray(val) ? \"array\" : \"function\" == typeof val ? \"function\" : \"object\" == typeof val ? val instanceof Error ? \"error\" : \"function\" == typeof val.then ? \"promise\" : \"[object RegExp]\" === {}.toString.call(val) ? \"regex\" : \"[object Date]\" === {}.toString.call(val) ? \"date\" : \"object\" : \"string\" == typeof val ? \"string\" : \"number\" == typeof val ? \"number\" : \"boolean\" == typeof val ? \"boolean\" : void 0;\n        }\n        function serializeType(type, val) {\n            return {\n                __type__: type,\n                __val__: val\n            };\n        }\n        var _SERIALIZER;\n        var SERIALIZER = ((_SERIALIZER = {}).function = function() {}, _SERIALIZER.error = function(_ref) {\n            return serializeType(\"error\", {\n                message: _ref.message,\n                stack: _ref.stack,\n                code: _ref.code,\n                data: _ref.data\n            });\n        }, _SERIALIZER.promise = function() {}, _SERIALIZER.regex = function(val) {\n            return serializeType(\"regex\", val.source);\n        }, _SERIALIZER.date = function(val) {\n            return serializeType(\"date\", val.toJSON());\n        }, _SERIALIZER.array = function(val) {\n            return val;\n        }, _SERIALIZER.object = function(val) {\n            return val;\n        }, _SERIALIZER.string = function(val) {\n            return val;\n        }, _SERIALIZER.number = function(val) {\n            return val;\n        }, _SERIALIZER.boolean = function(val) {\n            return val;\n        }, _SERIALIZER.null = function(val) {\n            return val;\n        }, _SERIALIZER[void 0] = function(val) {\n            return serializeType(\"undefined\", val);\n        }, _SERIALIZER);\n        var defaultSerializers = {};\n        var _DESERIALIZER;\n        var DESERIALIZER = ((_DESERIALIZER = {}).function = function() {\n            throw new Error(\"Function serialization is not implemented; nothing to deserialize\");\n        }, _DESERIALIZER.error = function(_ref2) {\n            var stack = _ref2.stack, code = _ref2.code, data = _ref2.data;\n            var error = new Error(_ref2.message);\n            error.code = code;\n            data && (error.data = data);\n            error.stack = stack + \"\\n\\n\" + error.stack;\n            return error;\n        }, _DESERIALIZER.promise = function() {\n            throw new Error(\"Promise serialization is not implemented; nothing to deserialize\");\n        }, _DESERIALIZER.regex = function(val) {\n            return new RegExp(val);\n        }, _DESERIALIZER.date = function(val) {\n            return new Date(val);\n        }, _DESERIALIZER.array = function(val) {\n            return val;\n        }, _DESERIALIZER.object = function(val) {\n            return val;\n        }, _DESERIALIZER.string = function(val) {\n            return val;\n        }, _DESERIALIZER.number = function(val) {\n            return val;\n        }, _DESERIALIZER.boolean = function(val) {\n            return val;\n        }, _DESERIALIZER.null = function(val) {\n            return val;\n        }, _DESERIALIZER[void 0] = function() {}, _DESERIALIZER);\n        var defaultDeserializers = {};\n        new promise_ZalgoPromise((function(resolve) {\n            if (window.document && window.document.body) return resolve(window.document.body);\n            var interval = setInterval((function() {\n                if (window.document && window.document.body) {\n                    clearInterval(interval);\n                    return resolve(window.document.body);\n                }\n            }), 10);\n        }));\n        function cleanupProxyWindows() {\n            var idToProxyWindow = globalStore(\"idToProxyWindow\");\n            for (var _i2 = 0, _idToProxyWindow$keys2 = idToProxyWindow.keys(); _i2 < _idToProxyWindow$keys2.length; _i2++) {\n                var id = _idToProxyWindow$keys2[_i2];\n                idToProxyWindow.get(id).shouldClean() && idToProxyWindow.del(id);\n            }\n        }\n        function getSerializedWindow(winPromise, _ref) {\n            var send = _ref.send, _ref$id = _ref.id, id = void 0 === _ref$id ? uniqueID() : _ref$id;\n            var windowNamePromise = winPromise.then((function(win) {\n                if (isSameDomain(win)) return assertSameDomain(win).name;\n            }));\n            var windowTypePromise = winPromise.then((function(window) {\n                if (isWindowClosed(window)) throw new Error(\"Window is closed, can not determine type\");\n                return getOpener(window) ? WINDOW_TYPE.POPUP : WINDOW_TYPE.IFRAME;\n            }));\n            windowNamePromise.catch(src_util_noop);\n            windowTypePromise.catch(src_util_noop);\n            var getName = function() {\n                return winPromise.then((function(win) {\n                    if (!isWindowClosed(win)) return isSameDomain(win) ? assertSameDomain(win).name : windowNamePromise;\n                }));\n            };\n            return {\n                id: id,\n                getType: function() {\n                    return windowTypePromise;\n                },\n                getInstanceID: memoizePromise((function() {\n                    return winPromise.then((function(win) {\n                        return getWindowInstanceID(win, {\n                            send: send\n                        });\n                    }));\n                })),\n                close: function() {\n                    return winPromise.then(closeWindow);\n                },\n                getName: getName,\n                focus: function() {\n                    return winPromise.then((function(win) {\n                        win.focus();\n                    }));\n                },\n                isClosed: function() {\n                    return winPromise.then((function(win) {\n                        return isWindowClosed(win);\n                    }));\n                },\n                setLocation: function(href, opts) {\n                    void 0 === opts && (opts = {});\n                    return winPromise.then((function(win) {\n                        var domain = window.location.protocol + \"//\" + window.location.host;\n                        var _opts$method = opts.method, method = void 0 === _opts$method ? \"get\" : _opts$method, body = opts.body;\n                        if (0 === href.indexOf(\"/\")) href = \"\" + domain + href; else if (!href.match(/^https?:\\/\\//) && 0 !== href.indexOf(domain)) throw new Error(\"Expected url to be http or https url, or absolute path, got \" + JSON.stringify(href));\n                        if (\"post\" === method) return getName().then((function(name) {\n                            if (!name) throw new Error(\"Can not post to window without target name\");\n                            !function(_ref3) {\n                                var url = _ref3.url, target = _ref3.target, body = _ref3.body, _ref3$method = _ref3.method, method = void 0 === _ref3$method ? \"post\" : _ref3$method;\n                                var form = document.createElement(\"form\");\n                                form.setAttribute(\"target\", target);\n                                form.setAttribute(\"method\", method);\n                                form.setAttribute(\"action\", url);\n                                form.style.display = \"none\";\n                                if (body) for (var _i24 = 0, _Object$keys4 = Object.keys(body); _i24 < _Object$keys4.length; _i24++) {\n                                    var _body$key;\n                                    var key = _Object$keys4[_i24];\n                                    var input = document.createElement(\"input\");\n                                    input.setAttribute(\"name\", key);\n                                    input.setAttribute(\"value\", null == (_body$key = body[key]) ? void 0 : _body$key.toString());\n                                    form.appendChild(input);\n                                }\n                                getBody().appendChild(form);\n                                form.submit();\n                                getBody().removeChild(form);\n                            }({\n                                url: href,\n                                target: name,\n                                method: method,\n                                body: body\n                            });\n                        }));\n                        if (\"get\" !== method) throw new Error(\"Unsupported method: \" + method);\n                        if (isSameDomain(win)) try {\n                            if (win.location && \"function\" == typeof win.location.replace) {\n                                win.location.replace(href);\n                                return;\n                            }\n                        } catch (err) {}\n                        win.location = href;\n                    }));\n                },\n                setName: function(name) {\n                    return winPromise.then((function(win) {\n                        var sameDomain = isSameDomain(win);\n                        var frame = getFrameForWindow(win);\n                        if (!sameDomain) throw new Error(\"Can not set name for cross-domain window: \" + name);\n                        assertSameDomain(win).name = name;\n                        frame && frame.setAttribute(\"name\", name);\n                        windowNamePromise = promise_ZalgoPromise.resolve(name);\n                    }));\n                }\n            };\n        }\n        var window_ProxyWindow = function() {\n            function ProxyWindow(_ref2) {\n                var send = _ref2.send, win = _ref2.win, serializedWindow = _ref2.serializedWindow;\n                this.id = void 0;\n                this.isProxyWindow = !0;\n                this.serializedWindow = void 0;\n                this.actualWindow = void 0;\n                this.actualWindowPromise = void 0;\n                this.send = void 0;\n                this.name = void 0;\n                this.actualWindowPromise = new promise_ZalgoPromise;\n                this.serializedWindow = serializedWindow || getSerializedWindow(this.actualWindowPromise, {\n                    send: send\n                });\n                globalStore(\"idToProxyWindow\").set(this.getID(), this);\n                win && this.setWindow(win, {\n                    send: send\n                });\n            }\n            var _proto = ProxyWindow.prototype;\n            _proto.getID = function() {\n                return this.serializedWindow.id;\n            };\n            _proto.getType = function() {\n                return this.serializedWindow.getType();\n            };\n            _proto.isPopup = function() {\n                return this.getType().then((function(type) {\n                    return type === WINDOW_TYPE.POPUP;\n                }));\n            };\n            _proto.setLocation = function(href, opts) {\n                var _this = this;\n                return this.serializedWindow.setLocation(href, opts).then((function() {\n                    return _this;\n                }));\n            };\n            _proto.getName = function() {\n                return this.serializedWindow.getName();\n            };\n            _proto.setName = function(name) {\n                var _this2 = this;\n                return this.serializedWindow.setName(name).then((function() {\n                    return _this2;\n                }));\n            };\n            _proto.close = function() {\n                var _this3 = this;\n                return this.serializedWindow.close().then((function() {\n                    return _this3;\n                }));\n            };\n            _proto.focus = function() {\n                var _this4 = this;\n                var isPopupPromise = this.isPopup();\n                var getNamePromise = this.getName();\n                var reopenPromise = promise_ZalgoPromise.hash({\n                    isPopup: isPopupPromise,\n                    name: getNamePromise\n                }).then((function(_ref3) {\n                    var name = _ref3.name;\n                    _ref3.isPopup && name && window.open(\"\", name);\n                }));\n                var focusPromise = this.serializedWindow.focus();\n                return promise_ZalgoPromise.all([ reopenPromise, focusPromise ]).then((function() {\n                    return _this4;\n                }));\n            };\n            _proto.isClosed = function() {\n                return this.serializedWindow.isClosed();\n            };\n            _proto.getWindow = function() {\n                return this.actualWindow;\n            };\n            _proto.setWindow = function(win, _ref4) {\n                var send = _ref4.send;\n                this.actualWindow = win;\n                this.actualWindowPromise.resolve(this.actualWindow);\n                this.serializedWindow = getSerializedWindow(this.actualWindowPromise, {\n                    send: send,\n                    id: this.getID()\n                });\n                windowStore(\"winToProxyWindow\").set(win, this);\n            };\n            _proto.awaitWindow = function() {\n                return this.actualWindowPromise;\n            };\n            _proto.matchWindow = function(win, _ref5) {\n                var _this5 = this;\n                var send = _ref5.send;\n                return promise_ZalgoPromise.try((function() {\n                    return _this5.actualWindow ? win === _this5.actualWindow : promise_ZalgoPromise.hash({\n                        proxyInstanceID: _this5.getInstanceID(),\n                        knownWindowInstanceID: getWindowInstanceID(win, {\n                            send: send\n                        })\n                    }).then((function(_ref6) {\n                        var match = _ref6.proxyInstanceID === _ref6.knownWindowInstanceID;\n                        match && _this5.setWindow(win, {\n                            send: send\n                        });\n                        return match;\n                    }));\n                }));\n            };\n            _proto.unwrap = function() {\n                return this.actualWindow || this;\n            };\n            _proto.getInstanceID = function() {\n                return this.serializedWindow.getInstanceID();\n            };\n            _proto.shouldClean = function() {\n                return Boolean(this.actualWindow && isWindowClosed(this.actualWindow));\n            };\n            _proto.serialize = function() {\n                return this.serializedWindow;\n            };\n            ProxyWindow.unwrap = function(win) {\n                return ProxyWindow.isProxyWindow(win) ? win.unwrap() : win;\n            };\n            ProxyWindow.serialize = function(win, _ref7) {\n                var send = _ref7.send;\n                cleanupProxyWindows();\n                return ProxyWindow.toProxyWindow(win, {\n                    send: send\n                }).serialize();\n            };\n            ProxyWindow.deserialize = function(serializedWindow, _ref8) {\n                var send = _ref8.send;\n                cleanupProxyWindows();\n                return globalStore(\"idToProxyWindow\").get(serializedWindow.id) || new ProxyWindow({\n                    serializedWindow: serializedWindow,\n                    send: send\n                });\n            };\n            ProxyWindow.isProxyWindow = function(obj) {\n                return Boolean(obj && !isWindow(obj) && obj.isProxyWindow);\n            };\n            ProxyWindow.toProxyWindow = function(win, _ref9) {\n                var send = _ref9.send;\n                cleanupProxyWindows();\n                if (ProxyWindow.isProxyWindow(win)) return win;\n                var actualWindow = win;\n                return windowStore(\"winToProxyWindow\").get(actualWindow) || new ProxyWindow({\n                    win: actualWindow,\n                    send: send\n                });\n            };\n            return ProxyWindow;\n        }();\n        function addMethod(id, val, name, source, domain) {\n            var methodStore = windowStore(\"methodStore\");\n            var proxyWindowMethods = globalStore(\"proxyWindowMethods\");\n            if (window_ProxyWindow.isProxyWindow(source)) proxyWindowMethods.set(id, {\n                val: val,\n                name: name,\n                domain: domain,\n                source: source\n            }); else {\n                proxyWindowMethods.del(id);\n                methodStore.getOrSet(source, (function() {\n                    return {};\n                }))[id] = {\n                    domain: domain,\n                    name: name,\n                    val: val,\n                    source: source\n                };\n            }\n        }\n        function lookupMethod(source, id) {\n            var methodStore = windowStore(\"methodStore\");\n            var proxyWindowMethods = globalStore(\"proxyWindowMethods\");\n            return methodStore.getOrSet(source, (function() {\n                return {};\n            }))[id] || proxyWindowMethods.get(id);\n        }\n        function function_serializeFunction(destination, domain, val, key, _ref3) {\n            on = (_ref = {\n                on: _ref3.on,\n                send: _ref3.send\n            }).on, send = _ref.send, globalStore(\"builtinListeners\").getOrSet(\"functionCalls\", (function() {\n                return on(\"postrobot_method\", {\n                    domain: \"*\"\n                }, (function(_ref2) {\n                    var source = _ref2.source, origin = _ref2.origin, data = _ref2.data;\n                    var id = data.id, name = data.name;\n                    var meth = lookupMethod(source, id);\n                    if (!meth) throw new Error(\"Could not find method '\" + name + \"' with id: \" + data.id + \" in \" + getDomain(window));\n                    var methodSource = meth.source, domain = meth.domain, val = meth.val;\n                    return promise_ZalgoPromise.try((function() {\n                        if (!matchDomain(domain, origin)) throw new Error(\"Method '\" + data.name + \"' domain \" + JSON.stringify(util_isRegex(meth.domain) ? meth.domain.source : meth.domain) + \" does not match origin \" + origin + \" in \" + getDomain(window));\n                        if (window_ProxyWindow.isProxyWindow(methodSource)) return methodSource.matchWindow(source, {\n                            send: send\n                        }).then((function(match) {\n                            if (!match) throw new Error(\"Method call '\" + data.name + \"' failed - proxy window does not match source in \" + getDomain(window));\n                        }));\n                    })).then((function() {\n                        return val.apply({\n                            source: source,\n                            origin: origin\n                        }, data.args);\n                    }), (function(err) {\n                        return promise_ZalgoPromise.try((function() {\n                            if (val.onError) return val.onError(err);\n                        })).then((function() {\n                            err.stack && (err.stack = \"Remote call to \" + name + \"(\" + function(args) {\n                                void 0 === args && (args = []);\n                                return arrayFrom(args).map((function(arg) {\n                                    return \"string\" == typeof arg ? \"'\" + arg + \"'\" : void 0 === arg ? \"undefined\" : null === arg ? \"null\" : \"boolean\" == typeof arg ? arg.toString() : Array.isArray(arg) ? \"[ ... ]\" : \"object\" == typeof arg ? \"{ ... }\" : \"function\" == typeof arg ? \"() => { ... }\" : \"<\" + typeof arg + \">\";\n                                })).join(\", \");\n                            }(data.args) + \") failed\\n\\n\" + err.stack);\n                            throw err;\n                        }));\n                    })).then((function(result) {\n                        return {\n                            result: result,\n                            id: id,\n                            name: name\n                        };\n                    }));\n                }));\n            }));\n            var _ref, on, send;\n            var id = val.__id__ || uniqueID();\n            destination = window_ProxyWindow.unwrap(destination);\n            var name = val.__name__ || val.name || key;\n            \"string\" == typeof name && \"function\" == typeof name.indexOf && 0 === name.indexOf(\"anonymous::\") && (name = name.replace(\"anonymous::\", key + \"::\"));\n            if (window_ProxyWindow.isProxyWindow(destination)) {\n                addMethod(id, val, name, destination, domain);\n                destination.awaitWindow().then((function(win) {\n                    addMethod(id, val, name, win, domain);\n                }));\n            } else addMethod(id, val, name, destination, domain);\n            return serializeType(\"cross_domain_function\", {\n                id: id,\n                name: name\n            });\n        }\n        function serializeMessage(destination, domain, obj, _ref) {\n            var _serialize;\n            var on = _ref.on, send = _ref.send;\n            return function(obj, serializers) {\n                void 0 === serializers && (serializers = defaultSerializers);\n                var result = JSON.stringify(obj, (function(key) {\n                    var val = this[key];\n                    if (isSerializedType(this)) return val;\n                    var type = determineType(val);\n                    if (!type) return val;\n                    var serializer = serializers[type] || SERIALIZER[type];\n                    return serializer ? serializer(val, key) : val;\n                }));\n                return void 0 === result ? \"undefined\" : result;\n            }(obj, ((_serialize = {}).promise = function(val, key) {\n                return function(destination, domain, val, key, _ref) {\n                    return serializeType(\"cross_domain_zalgo_promise\", {\n                        then: function_serializeFunction(destination, domain, (function(resolve, reject) {\n                            return val.then(resolve, reject);\n                        }), key, {\n                            on: _ref.on,\n                            send: _ref.send\n                        })\n                    });\n                }(destination, domain, val, key, {\n                    on: on,\n                    send: send\n                });\n            }, _serialize.function = function(val, key) {\n                return function_serializeFunction(destination, domain, val, key, {\n                    on: on,\n                    send: send\n                });\n            }, _serialize.object = function(val) {\n                return isWindow(val) || window_ProxyWindow.isProxyWindow(val) ? serializeType(\"cross_domain_window\", window_ProxyWindow.serialize(val, {\n                    send: send\n                })) : val;\n            }, _serialize));\n        }\n        function deserializeMessage(source, origin, message, _ref2) {\n            var _deserialize;\n            var send = _ref2.send;\n            return function(str, deserializers) {\n                void 0 === deserializers && (deserializers = defaultDeserializers);\n                if (\"undefined\" !== str) return JSON.parse(str, (function(key, val) {\n                    if (isSerializedType(this)) return val;\n                    var type;\n                    var value;\n                    if (isSerializedType(val)) {\n                        type = val.__type__;\n                        value = val.__val__;\n                    } else {\n                        type = determineType(val);\n                        value = val;\n                    }\n                    if (!type) return value;\n                    var deserializer = deserializers[type] || DESERIALIZER[type];\n                    return deserializer ? deserializer(value, key) : value;\n                }));\n            }(message, ((_deserialize = {}).cross_domain_zalgo_promise = function(serializedPromise) {\n                return function(source, origin, _ref2) {\n                    return new promise_ZalgoPromise(_ref2.then);\n                }(0, 0, serializedPromise);\n            }, _deserialize.cross_domain_function = function(serializedFunction) {\n                return function(source, origin, _ref4, _ref5) {\n                    var id = _ref4.id, name = _ref4.name;\n                    var send = _ref5.send;\n                    var getDeserializedFunction = function(opts) {\n                        void 0 === opts && (opts = {});\n                        function crossDomainFunctionWrapper() {\n                            var _arguments = arguments;\n                            return window_ProxyWindow.toProxyWindow(source, {\n                                send: send\n                            }).awaitWindow().then((function(win) {\n                                var meth = lookupMethod(win, id);\n                                if (meth && meth.val !== crossDomainFunctionWrapper) return meth.val.apply({\n                                    source: window,\n                                    origin: getDomain()\n                                }, _arguments);\n                                var _args = [].slice.call(_arguments);\n                                return opts.fireAndForget ? send(win, \"postrobot_method\", {\n                                    id: id,\n                                    name: name,\n                                    args: _args\n                                }, {\n                                    domain: origin,\n                                    fireAndForget: !0\n                                }) : send(win, \"postrobot_method\", {\n                                    id: id,\n                                    name: name,\n                                    args: _args\n                                }, {\n                                    domain: origin,\n                                    fireAndForget: !1\n                                }).then((function(res) {\n                                    return res.data.result;\n                                }));\n                            })).catch((function(err) {\n                                throw err;\n                            }));\n                        }\n                        crossDomainFunctionWrapper.__name__ = name;\n                        crossDomainFunctionWrapper.__origin__ = origin;\n                        crossDomainFunctionWrapper.__source__ = source;\n                        crossDomainFunctionWrapper.__id__ = id;\n                        crossDomainFunctionWrapper.origin = origin;\n                        return crossDomainFunctionWrapper;\n                    };\n                    var crossDomainFunctionWrapper = getDeserializedFunction();\n                    crossDomainFunctionWrapper.fireAndForget = getDeserializedFunction({\n                        fireAndForget: !0\n                    });\n                    return crossDomainFunctionWrapper;\n                }(source, origin, serializedFunction, {\n                    send: send\n                });\n            }, _deserialize.cross_domain_window = function(serializedWindow) {\n                return window_ProxyWindow.deserialize(serializedWindow, {\n                    send: send\n                });\n            }, _deserialize));\n        }\n        var SEND_MESSAGE_STRATEGIES = {};\n        SEND_MESSAGE_STRATEGIES.postrobot_post_message = function(win, serializedMessage, domain) {\n            0 === domain.indexOf(\"file:\") && (domain = \"*\");\n            win.postMessage(serializedMessage, domain);\n        };\n        SEND_MESSAGE_STRATEGIES.postrobot_global = function(win, serializedMessage) {\n            if (!function(win) {\n                return (win = win || window).navigator.mockUserAgent || win.navigator.userAgent;\n            }(window).match(/MSIE|rv:11|trident|edge\\/12|edge\\/13/i)) throw new Error(\"Global messaging not needed for browser\");\n            if (!isSameDomain(win)) throw new Error(\"Post message through global disabled between different domain windows\");\n            if (!1 !== isSameTopWindow(window, win)) throw new Error(\"Can only use global to communicate between two different windows, not between frames\");\n            var foreignGlobal = global_getGlobal(win);\n            if (!foreignGlobal) throw new Error(\"Can not find postRobot global on foreign window\");\n            foreignGlobal.receiveMessage({\n                source: window,\n                origin: getDomain(),\n                data: serializedMessage\n            });\n        };\n        function send_sendMessage(win, domain, message, _ref2) {\n            var on = _ref2.on, send = _ref2.send;\n            return promise_ZalgoPromise.try((function() {\n                var domainBuffer = windowStore().getOrSet(win, (function() {\n                    return {};\n                }));\n                domainBuffer.buffer = domainBuffer.buffer || [];\n                domainBuffer.buffer.push(message);\n                domainBuffer.flush = domainBuffer.flush || promise_ZalgoPromise.flush().then((function() {\n                    if (isWindowClosed(win)) throw new Error(\"Window is closed\");\n                    var serializedMessage = serializeMessage(win, domain, ((_ref = {}).__post_robot_10_0_44__ = domainBuffer.buffer || [], \n                    _ref), {\n                        on: on,\n                        send: send\n                    });\n                    var _ref;\n                    delete domainBuffer.buffer;\n                    var strategies = Object.keys(SEND_MESSAGE_STRATEGIES);\n                    var errors = [];\n                    for (var _i2 = 0; _i2 < strategies.length; _i2++) {\n                        var strategyName = strategies[_i2];\n                        try {\n                            SEND_MESSAGE_STRATEGIES[strategyName](win, serializedMessage, domain);\n                        } catch (err) {\n                            errors.push(err);\n                        }\n                    }\n                    if (errors.length === strategies.length) throw new Error(\"All post-robot messaging strategies failed:\\n\\n\" + errors.map((function(err, i) {\n                        return i + \". \" + stringifyError(err);\n                    })).join(\"\\n\\n\"));\n                }));\n                return domainBuffer.flush.then((function() {\n                    delete domainBuffer.flush;\n                }));\n            })).then(src_util_noop);\n        }\n        function getResponseListener(hash) {\n            return globalStore(\"responseListeners\").get(hash);\n        }\n        function deleteResponseListener(hash) {\n            globalStore(\"responseListeners\").del(hash);\n        }\n        function isResponseListenerErrored(hash) {\n            return globalStore(\"erroredResponseListeners\").has(hash);\n        }\n        function getRequestListener(_ref) {\n            var name = _ref.name, win = _ref.win, domain = _ref.domain;\n            var requestListeners = windowStore(\"requestListeners\");\n            \"*\" === win && (win = null);\n            \"*\" === domain && (domain = null);\n            if (!name) throw new Error(\"Name required to get request listener\");\n            for (var _i4 = 0, _ref3 = [ win, getWildcard() ]; _i4 < _ref3.length; _i4++) {\n                var winQualifier = _ref3[_i4];\n                if (winQualifier) {\n                    var nameListeners = requestListeners.get(winQualifier);\n                    if (nameListeners) {\n                        var domainListeners = nameListeners[name];\n                        if (domainListeners) {\n                            if (domain && \"string\" == typeof domain) {\n                                if (domainListeners[domain]) return domainListeners[domain];\n                                if (domainListeners.__domain_regex__) for (var _i6 = 0, _domainListeners$__DO2 = domainListeners.__domain_regex__; _i6 < _domainListeners$__DO2.length; _i6++) {\n                                    var _domainListeners$__DO3 = _domainListeners$__DO2[_i6], listener = _domainListeners$__DO3.listener;\n                                    if (matchDomain(_domainListeners$__DO3.regex, domain)) return listener;\n                                }\n                            }\n                            if (domainListeners[\"*\"]) return domainListeners[\"*\"];\n                        }\n                    }\n                }\n            }\n        }\n        function handleRequest(source, origin, message, _ref) {\n            var on = _ref.on, send = _ref.send;\n            var options = getRequestListener({\n                name: message.name,\n                win: source,\n                domain: origin\n            });\n            var logName = \"postrobot_method\" === message.name && message.data && \"string\" == typeof message.data.name ? message.data.name + \"()\" : message.name;\n            function sendResponse(ack, data, error) {\n                return promise_ZalgoPromise.flush().then((function() {\n                    if (!message.fireAndForget && !isWindowClosed(source)) try {\n                        return send_sendMessage(source, origin, {\n                            id: uniqueID(),\n                            origin: getDomain(window),\n                            type: \"postrobot_message_response\",\n                            hash: message.hash,\n                            name: message.name,\n                            ack: ack,\n                            data: data,\n                            error: error\n                        }, {\n                            on: on,\n                            send: send\n                        });\n                    } catch (err) {\n                        throw new Error(\"Send response message failed for \" + logName + \" in \" + getDomain() + \"\\n\\n\" + stringifyError(err));\n                    }\n                }));\n            }\n            return promise_ZalgoPromise.all([ promise_ZalgoPromise.flush().then((function() {\n                if (!message.fireAndForget && !isWindowClosed(source)) try {\n                    return send_sendMessage(source, origin, {\n                        id: uniqueID(),\n                        origin: getDomain(window),\n                        type: \"postrobot_message_ack\",\n                        hash: message.hash,\n                        name: message.name\n                    }, {\n                        on: on,\n                        send: send\n                    });\n                } catch (err) {\n                    throw new Error(\"Send ack message failed for \" + logName + \" in \" + getDomain() + \"\\n\\n\" + stringifyError(err));\n                }\n            })), promise_ZalgoPromise.try((function() {\n                if (!options) throw new Error(\"No handler found for post message: \" + message.name + \" from \" + origin + \" in \" + window.location.protocol + \"//\" + window.location.host + window.location.pathname);\n                if (!matchDomain(options.domain, origin)) throw new Error(\"Request origin \" + origin + \" does not match domain \" + options.domain.toString());\n                return options.handler({\n                    source: source,\n                    origin: origin,\n                    data: message.data\n                });\n            })).then((function(data) {\n                return sendResponse(\"success\", data);\n            }), (function(error) {\n                return sendResponse(\"error\", null, error);\n            })) ]).then(src_util_noop).catch((function(err) {\n                if (options && options.handleError) return options.handleError(err);\n                throw err;\n            }));\n        }\n        function handleAck(source, origin, message) {\n            if (!isResponseListenerErrored(message.hash)) {\n                var options = getResponseListener(message.hash);\n                if (!options) throw new Error(\"No handler found for post message ack for message: \" + message.name + \" from \" + origin + \" in \" + window.location.protocol + \"//\" + window.location.host + window.location.pathname);\n                try {\n                    if (!matchDomain(options.domain, origin)) throw new Error(\"Ack origin \" + origin + \" does not match domain \" + options.domain.toString());\n                    if (source !== options.win) throw new Error(\"Ack source does not match registered window\");\n                } catch (err) {\n                    options.promise.reject(err);\n                }\n                options.ack = !0;\n            }\n        }\n        function handleResponse(source, origin, message) {\n            if (!isResponseListenerErrored(message.hash)) {\n                var options = getResponseListener(message.hash);\n                if (!options) throw new Error(\"No handler found for post message response for message: \" + message.name + \" from \" + origin + \" in \" + window.location.protocol + \"//\" + window.location.host + window.location.pathname);\n                if (!matchDomain(options.domain, origin)) throw new Error(\"Response origin \" + origin + \" does not match domain \" + (pattern = options.domain, \n                Array.isArray(pattern) ? \"(\" + pattern.join(\" | \") + \")\" : isRegex(pattern) ? \"RegExp(\" + pattern.toString() + \")\" : pattern.toString()));\n                var pattern;\n                if (source !== options.win) throw new Error(\"Response source does not match registered window\");\n                deleteResponseListener(message.hash);\n                \"error\" === message.ack ? options.promise.reject(message.error) : \"success\" === message.ack && options.promise.resolve({\n                    source: source,\n                    origin: origin,\n                    data: message.data\n                });\n            }\n        }\n        function receive_receiveMessage(event, _ref2) {\n            var on = _ref2.on, send = _ref2.send;\n            var receivedMessages = globalStore(\"receivedMessages\");\n            try {\n                if (!window || window.closed || !event.source) return;\n            } catch (err) {\n                return;\n            }\n            var source = event.source, origin = event.origin;\n            var messages = function(message, source, origin, _ref) {\n                var on = _ref.on, send = _ref.send;\n                var parsedMessage;\n                try {\n                    parsedMessage = deserializeMessage(source, origin, message, {\n                        on: on,\n                        send: send\n                    });\n                } catch (err) {\n                    return;\n                }\n                if (parsedMessage && \"object\" == typeof parsedMessage && null !== parsedMessage) {\n                    var parseMessages = parsedMessage.__post_robot_10_0_44__;\n                    if (Array.isArray(parseMessages)) return parseMessages;\n                }\n            }(event.data, source, origin, {\n                on: on,\n                send: send\n            });\n            if (messages) {\n                markWindowKnown(source);\n                for (var _i2 = 0; _i2 < messages.length; _i2++) {\n                    var message = messages[_i2];\n                    if (receivedMessages.has(message.id)) return;\n                    receivedMessages.set(message.id, !0);\n                    if (isWindowClosed(source) && !message.fireAndForget) return;\n                    0 === message.origin.indexOf(\"file:\") && (origin = \"file://\");\n                    try {\n                        \"postrobot_message_request\" === message.type ? handleRequest(source, origin, message, {\n                            on: on,\n                            send: send\n                        }) : \"postrobot_message_response\" === message.type ? handleResponse(source, origin, message) : \"postrobot_message_ack\" === message.type && handleAck(source, origin, message);\n                    } catch (err) {\n                        setTimeout((function() {\n                            throw err;\n                        }), 0);\n                    }\n                }\n            }\n        }\n        function on_on(name, options, handler) {\n            if (!name) throw new Error(\"Expected name\");\n            if (\"function\" == typeof (options = options || {})) {\n                handler = options;\n                options = {};\n            }\n            if (!handler) throw new Error(\"Expected handler\");\n            (options = options || {}).name = name;\n            options.handler = handler || options.handler;\n            var win = options.window;\n            var domain = options.domain;\n            var requestListener = function addRequestListener(_ref4, listener) {\n                var name = _ref4.name, win = _ref4.win, domain = _ref4.domain;\n                var requestListeners = windowStore(\"requestListeners\");\n                if (!name || \"string\" != typeof name) throw new Error(\"Name required to add request listener\");\n                if (Array.isArray(win)) {\n                    var listenersCollection = [];\n                    for (var _i8 = 0, _win2 = win; _i8 < _win2.length; _i8++) listenersCollection.push(addRequestListener({\n                        name: name,\n                        domain: domain,\n                        win: _win2[_i8]\n                    }, listener));\n                    return {\n                        cancel: function() {\n                            for (var _i10 = 0; _i10 < listenersCollection.length; _i10++) listenersCollection[_i10].cancel();\n                        }\n                    };\n                }\n                if (Array.isArray(domain)) {\n                    var _listenersCollection = [];\n                    for (var _i12 = 0, _domain2 = domain; _i12 < _domain2.length; _i12++) _listenersCollection.push(addRequestListener({\n                        name: name,\n                        win: win,\n                        domain: _domain2[_i12]\n                    }, listener));\n                    return {\n                        cancel: function() {\n                            for (var _i14 = 0; _i14 < _listenersCollection.length; _i14++) _listenersCollection[_i14].cancel();\n                        }\n                    };\n                }\n                var existingListener = getRequestListener({\n                    name: name,\n                    win: win,\n                    domain: domain\n                });\n                win && \"*\" !== win || (win = getWildcard());\n                domain = domain || \"*\";\n                if (existingListener) throw win && domain ? new Error(\"Request listener already exists for \" + name + \" on domain \" + domain.toString() + \" for \" + (win === getWildcard() ? \"wildcard\" : \"specified\") + \" window\") : win ? new Error(\"Request listener already exists for \" + name + \" for \" + (win === getWildcard() ? \"wildcard\" : \"specified\") + \" window\") : domain ? new Error(\"Request listener already exists for \" + name + \" on domain \" + domain.toString()) : new Error(\"Request listener already exists for \" + name);\n                var nameListeners = requestListeners.getOrSet(win, (function() {\n                    return {};\n                }));\n                var domainListeners = util_getOrSet(nameListeners, name, (function() {\n                    return {};\n                }));\n                var strDomain = domain.toString();\n                var regexListeners;\n                var regexListener;\n                util_isRegex(domain) ? (regexListeners = util_getOrSet(domainListeners, \"__domain_regex__\", (function() {\n                    return [];\n                }))).push(regexListener = {\n                    regex: domain,\n                    listener: listener\n                }) : domainListeners[strDomain] = listener;\n                return {\n                    cancel: function() {\n                        delete domainListeners[strDomain];\n                        if (regexListener) {\n                            regexListeners.splice(regexListeners.indexOf(regexListener, 1));\n                            regexListeners.length || delete domainListeners.__domain_regex__;\n                        }\n                        Object.keys(domainListeners).length || delete nameListeners[name];\n                        win && !Object.keys(nameListeners).length && requestListeners.del(win);\n                    }\n                };\n            }({\n                name: name,\n                win: win,\n                domain: domain\n            }, {\n                handler: options.handler,\n                handleError: options.errorHandler || function(err) {\n                    throw err;\n                },\n                window: win,\n                domain: domain || \"*\",\n                name: name\n            });\n            return {\n                cancel: function() {\n                    requestListener.cancel();\n                }\n            };\n        }\n        var send_send = function send(win, name, data, options) {\n            var domainMatcher = (options = options || {}).domain || \"*\";\n            var responseTimeout = options.timeout || -1;\n            var childTimeout = options.timeout || 5e3;\n            var fireAndForget = options.fireAndForget || !1;\n            return promise_ZalgoPromise.try((function() {\n                !function(name, win, domain) {\n                    if (!name) throw new Error(\"Expected name\");\n                    if (domain && \"string\" != typeof domain && !Array.isArray(domain) && !util_isRegex(domain)) throw new TypeError(\"Can not send \" + name + \". Expected domain \" + JSON.stringify(domain) + \" to be a string, array, or regex\");\n                    if (isWindowClosed(win)) throw new Error(\"Can not send \" + name + \". Target window is closed\");\n                }(name, win, domainMatcher);\n                if (function(parent, child) {\n                    var actualParent = getAncestor(child);\n                    if (actualParent) return actualParent === parent;\n                    if (child === parent) return !1;\n                    if (getTop(child) === child) return !1;\n                    for (var _i15 = 0, _getFrames8 = getFrames(parent); _i15 < _getFrames8.length; _i15++) if (_getFrames8[_i15] === child) return !0;\n                    return !1;\n                }(window, win)) return function(win, timeout, name) {\n                    void 0 === timeout && (timeout = 5e3);\n                    void 0 === name && (name = \"Window\");\n                    var promise = function(win) {\n                        return windowStore(\"helloPromises\").getOrSet(win, (function() {\n                            return new promise_ZalgoPromise;\n                        }));\n                    }(win);\n                    -1 !== timeout && (promise = promise.timeout(timeout, new Error(name + \" did not load after \" + timeout + \"ms\")));\n                    return promise;\n                }(win, childTimeout);\n            })).then((function(_temp) {\n                return function(win, targetDomain, actualDomain, _ref) {\n                    var send = _ref.send;\n                    return promise_ZalgoPromise.try((function() {\n                        return \"string\" == typeof targetDomain ? targetDomain : promise_ZalgoPromise.try((function() {\n                            return actualDomain || sayHello(win, {\n                                send: send\n                            }).then((function(_ref2) {\n                                return _ref2.domain;\n                            }));\n                        })).then((function(normalizedDomain) {\n                            if (!matchDomain(targetDomain, targetDomain)) throw new Error(\"Domain \" + stringify(targetDomain) + \" does not match \" + stringify(targetDomain));\n                            return normalizedDomain;\n                        }));\n                    }));\n                }(win, domainMatcher, (void 0 === _temp ? {} : _temp).domain, {\n                    send: send\n                });\n            })).then((function(targetDomain) {\n                var domain = targetDomain;\n                var logName = \"postrobot_method\" === name && data && \"string\" == typeof data.name ? data.name + \"()\" : name;\n                var promise = new promise_ZalgoPromise;\n                var hash = name + \"_\" + uniqueID();\n                if (!fireAndForget) {\n                    var responseListener = {\n                        name: name,\n                        win: win,\n                        domain: domain,\n                        promise: promise\n                    };\n                    !function(hash, listener) {\n                        globalStore(\"responseListeners\").set(hash, listener);\n                    }(hash, responseListener);\n                    var reqPromises = windowStore(\"requestPromises\").getOrSet(win, (function() {\n                        return [];\n                    }));\n                    reqPromises.push(promise);\n                    promise.catch((function() {\n                        !function(hash) {\n                            globalStore(\"erroredResponseListeners\").set(hash, !0);\n                        }(hash);\n                        deleteResponseListener(hash);\n                    }));\n                    var totalAckTimeout = function(win) {\n                        return windowStore(\"knownWindows\").get(win, !1);\n                    }(win) ? 1e4 : 2e3;\n                    var totalResTimeout = responseTimeout;\n                    var ackTimeout = totalAckTimeout;\n                    var resTimeout = totalResTimeout;\n                    var interval = safeInterval((function() {\n                        if (isWindowClosed(win)) return promise.reject(new Error(\"Window closed for \" + name + \" before \" + (responseListener.ack ? \"response\" : \"ack\")));\n                        if (responseListener.cancelled) return promise.reject(new Error(\"Response listener was cancelled for \" + name));\n                        ackTimeout = Math.max(ackTimeout - 500, 0);\n                        -1 !== resTimeout && (resTimeout = Math.max(resTimeout - 500, 0));\n                        return responseListener.ack || 0 !== ackTimeout ? 0 === resTimeout ? promise.reject(new Error(\"No response for postMessage \" + logName + \" in \" + getDomain() + \" in \" + totalResTimeout + \"ms\")) : void 0 : promise.reject(new Error(\"No ack for postMessage \" + logName + \" in \" + getDomain() + \" in \" + totalAckTimeout + \"ms\"));\n                    }), 500);\n                    promise.finally((function() {\n                        interval.cancel();\n                        reqPromises.splice(reqPromises.indexOf(promise, 1));\n                    })).catch(src_util_noop);\n                }\n                return send_sendMessage(win, domain, {\n                    id: uniqueID(),\n                    origin: getDomain(window),\n                    type: \"postrobot_message_request\",\n                    hash: hash,\n                    name: name,\n                    data: data,\n                    fireAndForget: fireAndForget\n                }, {\n                    on: on_on,\n                    send: send\n                }).then((function() {\n                    return fireAndForget ? promise.resolve() : promise;\n                }), (function(err) {\n                    throw new Error(\"Send request message failed for \" + logName + \" in \" + getDomain() + \"\\n\\n\" + stringifyError(err));\n                }));\n            }));\n        };\n        function setup_toProxyWindow(win) {\n            return window_ProxyWindow.toProxyWindow(win, {\n                send: send_send\n            });\n        }\n        function lib_global_getGlobal(win) {\n            if (!isSameDomain(win)) throw new Error(\"Can not get global for window on different domain\");\n            win.__zoid_9_0_86__ || (win.__zoid_9_0_86__ = {});\n            return win.__zoid_9_0_86__;\n        }\n        function tryGlobal(win, handler) {\n            try {\n                return handler(lib_global_getGlobal(win));\n            } catch (err) {}\n        }\n        function getProxyObject(obj) {\n            return {\n                get: function() {\n                    var _this = this;\n                    return promise_ZalgoPromise.try((function() {\n                        if (_this.source && _this.source !== window) throw new Error(\"Can not call get on proxy object from a remote window\");\n                        return obj;\n                    }));\n                }\n            };\n        }\n        function basicSerialize(data) {\n            return base64encode(JSON.stringify(data));\n        }\n        function getUIDRefStore(win) {\n            var global = lib_global_getGlobal(win);\n            global.references = global.references || {};\n            return global.references;\n        }\n        function crossDomainSerialize(_ref) {\n            var data = _ref.data, metaData = _ref.metaData, sender = _ref.sender, receiver = _ref.receiver, _ref$passByReference = _ref.passByReference, passByReference = void 0 !== _ref$passByReference && _ref$passByReference, _ref$basic = _ref.basic, basic = void 0 !== _ref$basic && _ref$basic;\n            var proxyWin = setup_toProxyWindow(receiver.win);\n            var serializedMessage = basic ? JSON.stringify(data) : serializeMessage(proxyWin, receiver.domain, data, {\n                on: on_on,\n                send: send_send\n            });\n            var reference = passByReference ? function(val) {\n                var uid = uniqueID();\n                getUIDRefStore(window)[uid] = val;\n                return {\n                    type: \"uid\",\n                    uid: uid\n                };\n            }(serializedMessage) : {\n                type: \"raw\",\n                val: serializedMessage\n            };\n            return {\n                serializedData: basicSerialize({\n                    sender: {\n                        domain: sender.domain\n                    },\n                    metaData: metaData,\n                    reference: reference\n                }),\n                cleanReference: function() {\n                    win = window, \"uid\" === (ref = reference).type && delete getUIDRefStore(win)[ref.uid];\n                    var win, ref;\n                }\n            };\n        }\n        function crossDomainDeserialize(_ref2) {\n            var sender = _ref2.sender, _ref2$basic = _ref2.basic, basic = void 0 !== _ref2$basic && _ref2$basic;\n            var message = function(serializedData) {\n                return JSON.parse(function(str) {\n                    if (\"function\" == typeof atob) return decodeURIComponent([].map.call(atob(str), (function(c) {\n                        return \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2);\n                    })).join(\"\"));\n                    if (\"undefined\" != typeof Buffer) return Buffer.from(str, \"base64\").toString(\"utf8\");\n                    throw new Error(\"Can not find window.atob or Buffer\");\n                }(serializedData));\n            }(_ref2.data);\n            var reference = message.reference, metaData = message.metaData;\n            var win;\n            win = \"function\" == typeof sender.win ? sender.win({\n                metaData: metaData\n            }) : sender.win;\n            var domain;\n            domain = \"function\" == typeof sender.domain ? sender.domain({\n                metaData: metaData\n            }) : \"string\" == typeof sender.domain ? sender.domain : message.sender.domain;\n            var serializedData = function(win, ref) {\n                if (\"raw\" === ref.type) return ref.val;\n                if (\"uid\" === ref.type) return getUIDRefStore(win)[ref.uid];\n                throw new Error(\"Unsupported ref type: \" + ref.type);\n            }(win, reference);\n            return {\n                data: basic ? JSON.parse(serializedData) : function(source, origin, message) {\n                    return deserializeMessage(source, origin, message, {\n                        on: on_on,\n                        send: send_send\n                    });\n                }(win, domain, serializedData),\n                metaData: metaData,\n                sender: {\n                    win: win,\n                    domain: domain\n                },\n                reference: reference\n            };\n        }\n        var PROP_TYPE = {\n            STRING: \"string\",\n            OBJECT: \"object\",\n            FUNCTION: \"function\",\n            BOOLEAN: \"boolean\",\n            NUMBER: \"number\",\n            ARRAY: \"array\"\n        };\n        var PROP_SERIALIZATION = {\n            JSON: \"json\",\n            DOTIFY: \"dotify\",\n            BASE64: \"base64\"\n        };\n        var CONTEXT = WINDOW_TYPE;\n        var EVENT = {\n            RENDER: \"zoid-render\",\n            RENDERED: \"zoid-rendered\",\n            DISPLAY: \"zoid-display\",\n            ERROR: \"zoid-error\",\n            CLOSE: \"zoid-close\",\n            DESTROY: \"zoid-destroy\",\n            PROPS: \"zoid-props\",\n            RESIZE: \"zoid-resize\",\n            FOCUS: \"zoid-focus\"\n        };\n        function buildChildWindowName(_ref) {\n            return \"__zoid__\" + _ref.name + \"__\" + _ref.serializedPayload + \"__\";\n        }\n        function parseWindowName(windowName) {\n            if (!windowName) throw new Error(\"No window name\");\n            var _windowName$split = windowName.split(\"__\"), zoidcomp = _windowName$split[1], name = _windowName$split[2], serializedInitialPayload = _windowName$split[3];\n            if (\"zoid\" !== zoidcomp) throw new Error(\"Window not rendered by zoid - got \" + zoidcomp);\n            if (!name) throw new Error(\"Expected component name\");\n            if (!serializedInitialPayload) throw new Error(\"Expected serialized payload ref\");\n            return {\n                name: name,\n                serializedInitialPayload: serializedInitialPayload\n            };\n        }\n        var parseInitialParentPayload = memoize((function(windowName) {\n            var _crossDomainDeseriali = crossDomainDeserialize({\n                data: parseWindowName(windowName).serializedInitialPayload,\n                sender: {\n                    win: function(_ref2) {\n                        return function(windowRef) {\n                            if (\"opener\" === windowRef.type) return assertExists(\"opener\", getOpener(window));\n                            if (\"parent\" === windowRef.type && \"number\" == typeof windowRef.distance) return assertExists(\"parent\", function(win, n) {\n                                void 0 === n && (n = 1);\n                                return function(win, n) {\n                                    void 0 === n && (n = 1);\n                                    var parent = win;\n                                    for (var i = 0; i < n; i++) {\n                                        if (!parent) return;\n                                        parent = utils_getParent(parent);\n                                    }\n                                    return parent;\n                                }(win, getDistanceFromTop(win) - n);\n                            }(window, windowRef.distance));\n                            if (\"global\" === windowRef.type && windowRef.uid && \"string\" == typeof windowRef.uid) {\n                                var _ret = function() {\n                                    var uid = windowRef.uid;\n                                    var ancestor = getAncestor(window);\n                                    if (!ancestor) throw new Error(\"Can not find ancestor window\");\n                                    for (var _i2 = 0, _getAllFramesInWindow2 = getAllFramesInWindow(ancestor); _i2 < _getAllFramesInWindow2.length; _i2++) {\n                                        var frame = _getAllFramesInWindow2[_i2];\n                                        if (isSameDomain(frame)) {\n                                            var win = tryGlobal(frame, (function(global) {\n                                                return global.windows && global.windows[uid];\n                                            }));\n                                            if (win) return {\n                                                v: win\n                                            };\n                                        }\n                                    }\n                                }();\n                                if (\"object\" == typeof _ret) return _ret.v;\n                            } else if (\"name\" === windowRef.type) {\n                                var name = windowRef.name;\n                                return assertExists(\"namedWindow\", function(win, name) {\n                                    return getFrameByName(win, name) || function findChildFrameByName(win, name) {\n                                        var frame = getFrameByName(win, name);\n                                        if (frame) return frame;\n                                        for (var _i11 = 0, _getFrames4 = getFrames(win); _i11 < _getFrames4.length; _i11++) {\n                                            var namedFrame = findChildFrameByName(_getFrames4[_i11], name);\n                                            if (namedFrame) return namedFrame;\n                                        }\n                                    }(getTop(win) || win, name);\n                                }(assertExists(\"ancestor\", getAncestor(window)), name));\n                            }\n                            throw new Error(\"Unable to find \" + windowRef.type + \" parent component window\");\n                        }(_ref2.metaData.windowRef);\n                    }\n                }\n            });\n            return {\n                parent: _crossDomainDeseriali.sender,\n                payload: _crossDomainDeseriali.data,\n                reference: _crossDomainDeseriali.reference\n            };\n        }));\n        function getInitialParentPayload() {\n            return parseInitialParentPayload(window.name);\n        }\n        function window_getWindowRef(targetWindow, currentWindow) {\n            void 0 === currentWindow && (currentWindow = window);\n            if (targetWindow === utils_getParent(currentWindow)) return {\n                type: \"parent\",\n                distance: getDistanceFromTop(targetWindow)\n            };\n            if (targetWindow === getOpener(currentWindow)) return {\n                type: \"opener\"\n            };\n            if (isSameDomain(targetWindow) && !(win = targetWindow, win === getTop(win))) {\n                var windowName = assertSameDomain(targetWindow).name;\n                if (windowName) return {\n                    type: \"name\",\n                    name: windowName\n                };\n            }\n            var win;\n        }\n        function normalizeChildProp(propsDef, props, key, value, helpers) {\n            if (!propsDef.hasOwnProperty(key)) return value;\n            var prop = propsDef[key];\n            return \"function\" == typeof prop.childDecorate ? prop.childDecorate({\n                value: value,\n                uid: helpers.uid,\n                tag: helpers.tag,\n                close: helpers.close,\n                focus: helpers.focus,\n                onError: helpers.onError,\n                onProps: helpers.onProps,\n                resize: helpers.resize,\n                getParent: helpers.getParent,\n                getParentDomain: helpers.getParentDomain,\n                show: helpers.show,\n                hide: helpers.hide,\n                export: helpers.export,\n                getSiblings: helpers.getSiblings\n            }) : value;\n        }\n        function child_focus() {\n            return promise_ZalgoPromise.try((function() {\n                window.focus();\n            }));\n        }\n        function child_destroy() {\n            return promise_ZalgoPromise.try((function() {\n                window.close();\n            }));\n        }\n        var props_defaultNoop = function() {\n            return src_util_noop;\n        };\n        var props_decorateOnce = function(_ref) {\n            return once(_ref.value);\n        };\n        function eachProp(props, propsDef, handler) {\n            for (var _i2 = 0, _Object$keys2 = Object.keys(_extends({}, props, propsDef)); _i2 < _Object$keys2.length; _i2++) {\n                var key = _Object$keys2[_i2];\n                handler(key, propsDef[key], props[key]);\n            }\n        }\n        function serializeProps(propsDef, props, method) {\n            var params = {};\n            return promise_ZalgoPromise.all(function(props, propsDef, handler) {\n                var results = [];\n                eachProp(props, propsDef, (function(key, propDef, value) {\n                    var result = function(key, propDef, value) {\n                        return promise_ZalgoPromise.resolve().then((function() {\n                            var _METHOD$GET$METHOD$PO, _METHOD$GET$METHOD$PO2;\n                            if (null != value && propDef) {\n                                var getParam = (_METHOD$GET$METHOD$PO = {}, _METHOD$GET$METHOD$PO.get = propDef.queryParam, \n                                _METHOD$GET$METHOD$PO.post = propDef.bodyParam, _METHOD$GET$METHOD$PO)[method];\n                                var getValue = (_METHOD$GET$METHOD$PO2 = {}, _METHOD$GET$METHOD$PO2.get = propDef.queryValue, \n                                _METHOD$GET$METHOD$PO2.post = propDef.bodyValue, _METHOD$GET$METHOD$PO2)[method];\n                                if (getParam) return promise_ZalgoPromise.hash({\n                                    finalParam: promise_ZalgoPromise.try((function() {\n                                        return \"function\" == typeof getParam ? getParam({\n                                            value: value\n                                        }) : \"string\" == typeof getParam ? getParam : key;\n                                    })),\n                                    finalValue: promise_ZalgoPromise.try((function() {\n                                        return \"function\" == typeof getValue && isDefined(value) ? getValue({\n                                            value: value\n                                        }) : value;\n                                    }))\n                                }).then((function(_ref) {\n                                    var finalParam = _ref.finalParam, finalValue = _ref.finalValue;\n                                    var result;\n                                    if (\"boolean\" == typeof finalValue) result = finalValue.toString(); else if (\"string\" == typeof finalValue) result = finalValue.toString(); else if (\"object\" == typeof finalValue && null !== finalValue) {\n                                        if (propDef.serialization === PROP_SERIALIZATION.JSON) result = JSON.stringify(finalValue); else if (propDef.serialization === PROP_SERIALIZATION.BASE64) result = base64encode(JSON.stringify(finalValue)); else if (propDef.serialization === PROP_SERIALIZATION.DOTIFY || !propDef.serialization) {\n                                            result = function dotify(obj, prefix, newobj) {\n                                                void 0 === prefix && (prefix = \"\");\n                                                void 0 === newobj && (newobj = {});\n                                                prefix = prefix ? prefix + \".\" : prefix;\n                                                for (var key in obj) obj.hasOwnProperty(key) && null != obj[key] && \"function\" != typeof obj[key] && (obj[key] && Array.isArray(obj[key]) && obj[key].length && obj[key].every((function(val) {\n                                                    return \"object\" != typeof val;\n                                                })) ? newobj[\"\" + prefix + key + \"[]\"] = obj[key].join(\",\") : obj[key] && \"object\" == typeof obj[key] ? newobj = dotify(obj[key], \"\" + prefix + key, newobj) : newobj[\"\" + prefix + key] = obj[key].toString());\n                                                return newobj;\n                                            }(finalValue, key);\n                                            for (var _i2 = 0, _Object$keys2 = Object.keys(result); _i2 < _Object$keys2.length; _i2++) {\n                                                var dotkey = _Object$keys2[_i2];\n                                                params[dotkey] = result[dotkey];\n                                            }\n                                            return;\n                                        }\n                                    } else \"number\" == typeof finalValue && (result = finalValue.toString());\n                                    params[finalParam] = result;\n                                }));\n                            }\n                        }));\n                    }(key, propDef, value);\n                    results.push(result);\n                }));\n                return results;\n            }(props, propsDef)).then((function() {\n                return params;\n            }));\n        }\n        function parentComponent(_ref) {\n            var uid = _ref.uid, options = _ref.options, _ref$overrides = _ref.overrides, overrides = void 0 === _ref$overrides ? {} : _ref$overrides, _ref$parentWin = _ref.parentWin, parentWin = void 0 === _ref$parentWin ? window : _ref$parentWin;\n            var propsDef = options.propsDef, containerTemplate = options.containerTemplate, prerenderTemplate = options.prerenderTemplate, tag = options.tag, name = options.name, attributes = options.attributes, dimensions = options.dimensions, autoResize = options.autoResize, url = options.url, domainMatch = options.domain, xports = options.exports;\n            var initPromise = new promise_ZalgoPromise;\n            var handledErrors = [];\n            var clean = cleanup();\n            var state = {};\n            var inputProps = {};\n            var internalState = {\n                visible: !0\n            };\n            var event = overrides.event ? overrides.event : (triggered = {}, handlers = {}, \n            emitter = {\n                on: function(eventName, handler) {\n                    var handlerList = handlers[eventName] = handlers[eventName] || [];\n                    handlerList.push(handler);\n                    var cancelled = !1;\n                    return {\n                        cancel: function() {\n                            if (!cancelled) {\n                                cancelled = !0;\n                                handlerList.splice(handlerList.indexOf(handler), 1);\n                            }\n                        }\n                    };\n                },\n                once: function(eventName, handler) {\n                    var listener = emitter.on(eventName, (function() {\n                        listener.cancel();\n                        handler();\n                    }));\n                    return listener;\n                },\n                trigger: function(eventName) {\n                    for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) args[_key3 - 1] = arguments[_key3];\n                    var handlerList = handlers[eventName];\n                    var promises = [];\n                    if (handlerList) {\n                        var _loop = function(_i2) {\n                            var handler = handlerList[_i2];\n                            promises.push(promise_ZalgoPromise.try((function() {\n                                return handler.apply(void 0, args);\n                            })));\n                        };\n                        for (var _i2 = 0; _i2 < handlerList.length; _i2++) _loop(_i2);\n                    }\n                    return promise_ZalgoPromise.all(promises).then(src_util_noop);\n                },\n                triggerOnce: function(eventName) {\n                    if (triggered[eventName]) return promise_ZalgoPromise.resolve();\n                    triggered[eventName] = !0;\n                    for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) args[_key4 - 1] = arguments[_key4];\n                    return emitter.trigger.apply(emitter, [ eventName ].concat(args));\n                },\n                reset: function() {\n                    handlers = {};\n                }\n            });\n            var triggered, handlers, emitter;\n            var props = overrides.props ? overrides.props : {};\n            var currentProxyWin;\n            var currentProxyContainer;\n            var childComponent;\n            var currentChildDomain;\n            var currentContainer;\n            var onErrorOverride = overrides.onError;\n            var getProxyContainerOverride = overrides.getProxyContainer;\n            var showOverride = overrides.show;\n            var hideOverride = overrides.hide;\n            var closeOverride = overrides.close;\n            var renderContainerOverride = overrides.renderContainer;\n            var getProxyWindowOverride = overrides.getProxyWindow;\n            var setProxyWinOverride = overrides.setProxyWin;\n            var openFrameOverride = overrides.openFrame;\n            var openPrerenderFrameOverride = overrides.openPrerenderFrame;\n            var prerenderOverride = overrides.prerender;\n            var openOverride = overrides.open;\n            var openPrerenderOverride = overrides.openPrerender;\n            var watchForUnloadOverride = overrides.watchForUnload;\n            var getInternalStateOverride = overrides.getInternalState;\n            var setInternalStateOverride = overrides.setInternalState;\n            var resolveInitPromise = function() {\n                return promise_ZalgoPromise.try((function() {\n                    return overrides.resolveInitPromise ? overrides.resolveInitPromise() : initPromise.resolve();\n                }));\n            };\n            var rejectInitPromise = function(err) {\n                return promise_ZalgoPromise.try((function() {\n                    return overrides.rejectInitPromise ? overrides.rejectInitPromise(err) : initPromise.reject(err);\n                }));\n            };\n            var getPropsForChild = function(initialChildDomain) {\n                var result = {};\n                for (var _i2 = 0, _Object$keys2 = Object.keys(props); _i2 < _Object$keys2.length; _i2++) {\n                    var key = _Object$keys2[_i2];\n                    var prop = propsDef[key];\n                    prop && !1 === prop.sendToChild || prop && prop.sameDomain && !matchDomain(initialChildDomain, getDomain(window)) || (result[key] = props[key]);\n                }\n                return promise_ZalgoPromise.hash(result);\n            };\n            var getInternalState = function() {\n                return promise_ZalgoPromise.try((function() {\n                    return getInternalStateOverride ? getInternalStateOverride() : internalState;\n                }));\n            };\n            var setInternalState = function(newInternalState) {\n                return promise_ZalgoPromise.try((function() {\n                    return setInternalStateOverride ? setInternalStateOverride(newInternalState) : internalState = _extends({}, internalState, newInternalState);\n                }));\n            };\n            var getProxyWindow = function() {\n                return getProxyWindowOverride ? getProxyWindowOverride() : promise_ZalgoPromise.try((function() {\n                    var windowProp = props.window;\n                    if (windowProp) {\n                        var _proxyWin = setup_toProxyWindow(windowProp);\n                        clean.register((function() {\n                            return windowProp.close();\n                        }));\n                        return _proxyWin;\n                    }\n                    return new window_ProxyWindow({\n                        send: send_send\n                    });\n                }));\n            };\n            var setProxyWin = function(proxyWin) {\n                return setProxyWinOverride ? setProxyWinOverride(proxyWin) : promise_ZalgoPromise.try((function() {\n                    currentProxyWin = proxyWin;\n                }));\n            };\n            var show = function() {\n                return showOverride ? showOverride() : promise_ZalgoPromise.hash({\n                    setState: setInternalState({\n                        visible: !0\n                    }),\n                    showElement: currentProxyContainer ? currentProxyContainer.get().then(showElement) : null\n                }).then(src_util_noop);\n            };\n            var hide = function() {\n                return hideOverride ? hideOverride() : promise_ZalgoPromise.hash({\n                    setState: setInternalState({\n                        visible: !1\n                    }),\n                    showElement: currentProxyContainer ? currentProxyContainer.get().then(hideElement) : null\n                }).then(src_util_noop);\n            };\n            var getUrl = function() {\n                return \"function\" == typeof url ? url({\n                    props: props\n                }) : url;\n            };\n            var getAttributes = function() {\n                return \"function\" == typeof attributes ? attributes({\n                    props: props\n                }) : attributes;\n            };\n            var getInitialChildDomain = function() {\n                return getDomainFromUrl(getUrl());\n            };\n            var openFrame = function(context, _ref2) {\n                var windowName = _ref2.windowName;\n                return openFrameOverride ? openFrameOverride(context, {\n                    windowName: windowName\n                }) : promise_ZalgoPromise.try((function() {\n                    if (context === CONTEXT.IFRAME) return getProxyObject(dom_iframe({\n                        attributes: _extends({\n                            name: windowName,\n                            title: name\n                        }, getAttributes().iframe)\n                    }));\n                }));\n            };\n            var openPrerenderFrame = function(context) {\n                return openPrerenderFrameOverride ? openPrerenderFrameOverride(context) : promise_ZalgoPromise.try((function() {\n                    if (context === CONTEXT.IFRAME) return getProxyObject(dom_iframe({\n                        attributes: _extends({\n                            name: \"__zoid_prerender_frame__\" + name + \"_\" + uniqueID() + \"__\",\n                            title: \"prerender__\" + name\n                        }, getAttributes().iframe)\n                    }));\n                }));\n            };\n            var openPrerender = function(context, proxyWin, proxyPrerenderFrame) {\n                return openPrerenderOverride ? openPrerenderOverride(context, proxyWin, proxyPrerenderFrame) : promise_ZalgoPromise.try((function() {\n                    if (context === CONTEXT.IFRAME) {\n                        if (!proxyPrerenderFrame) throw new Error(\"Expected proxy frame to be passed\");\n                        return proxyPrerenderFrame.get().then((function(prerenderFrame) {\n                            clean.register((function() {\n                                return destroyElement(prerenderFrame);\n                            }));\n                            return awaitFrameWindow(prerenderFrame).then((function(prerenderFrameWindow) {\n                                return assertSameDomain(prerenderFrameWindow);\n                            })).then((function(win) {\n                                return setup_toProxyWindow(win);\n                            }));\n                        }));\n                    }\n                    throw new Error(\"No render context available for \" + context);\n                }));\n            };\n            var focus = function() {\n                return promise_ZalgoPromise.try((function() {\n                    if (currentProxyWin) return promise_ZalgoPromise.all([ event.trigger(EVENT.FOCUS), currentProxyWin.focus() ]).then(src_util_noop);\n                }));\n            };\n            var getCurrentWindowReferenceUID = function() {\n                var global = lib_global_getGlobal(window);\n                global.windows = global.windows || {};\n                global.windows[uid] = window;\n                clean.register((function() {\n                    delete global.windows[uid];\n                }));\n                return uid;\n            };\n            var getWindowRef = function(target, initialChildDomain, context, proxyWin) {\n                if (initialChildDomain === getDomain(window)) return {\n                    type: \"global\",\n                    uid: getCurrentWindowReferenceUID()\n                };\n                if (target !== window) throw new Error(\"Can not construct cross-domain window reference for different target window\");\n                if (props.window) {\n                    var actualComponentWindow = proxyWin.getWindow();\n                    if (!actualComponentWindow) throw new Error(\"Can not construct cross-domain window reference for lazy window prop\");\n                    if (getAncestor(actualComponentWindow) !== window) throw new Error(\"Can not construct cross-domain window reference for window prop with different ancestor\");\n                }\n                if (context === CONTEXT.POPUP) return {\n                    type: \"opener\"\n                };\n                if (context === CONTEXT.IFRAME) return {\n                    type: \"parent\",\n                    distance: getDistanceFromTop(window)\n                };\n                throw new Error(\"Can not construct window reference for child\");\n            };\n            var initChild = function(childDomain, childExports) {\n                return promise_ZalgoPromise.try((function() {\n                    currentChildDomain = childDomain;\n                    childComponent = childExports;\n                    resolveInitPromise();\n                    clean.register((function() {\n                        return childExports.close.fireAndForget().catch(src_util_noop);\n                    }));\n                }));\n            };\n            var resize = function(_ref3) {\n                var width = _ref3.width, height = _ref3.height;\n                return promise_ZalgoPromise.try((function() {\n                    event.trigger(EVENT.RESIZE, {\n                        width: width,\n                        height: height\n                    });\n                }));\n            };\n            var destroy = function(err) {\n                return promise_ZalgoPromise.try((function() {\n                    return event.trigger(EVENT.DESTROY);\n                })).catch(src_util_noop).then((function() {\n                    return clean.all(err);\n                })).then((function() {\n                    initPromise.asyncReject(err || new Error(\"Component destroyed\"));\n                }));\n            };\n            var close = memoize((function(err) {\n                return promise_ZalgoPromise.try((function() {\n                    if (closeOverride) {\n                        if (isWindowClosed(closeOverride.__source__)) return;\n                        return closeOverride();\n                    }\n                    return promise_ZalgoPromise.try((function() {\n                        return event.trigger(EVENT.CLOSE);\n                    })).then((function() {\n                        return destroy(err || new Error(\"Component closed\"));\n                    }));\n                }));\n            }));\n            var open = function(context, _ref4) {\n                var proxyWin = _ref4.proxyWin, proxyFrame = _ref4.proxyFrame, windowName = _ref4.windowName;\n                return openOverride ? openOverride(context, {\n                    proxyWin: proxyWin,\n                    proxyFrame: proxyFrame,\n                    windowName: windowName\n                }) : promise_ZalgoPromise.try((function() {\n                    if (context === CONTEXT.IFRAME) {\n                        if (!proxyFrame) throw new Error(\"Expected proxy frame to be passed\");\n                        return proxyFrame.get().then((function(frame) {\n                            return awaitFrameWindow(frame).then((function(win) {\n                                clean.register((function() {\n                                    return destroyElement(frame);\n                                }));\n                                clean.register((function() {\n                                    return function(win) {\n                                        for (var _i2 = 0, _requestPromises$get2 = windowStore(\"requestPromises\").get(win, []); _i2 < _requestPromises$get2.length; _i2++) _requestPromises$get2[_i2].reject(new Error(\"Window \" + (isWindowClosed(win) ? \"closed\" : \"cleaned up\") + \" before response\")).catch(src_util_noop);\n                                    }(win);\n                                }));\n                                return win;\n                            }));\n                        }));\n                    }\n                    throw new Error(\"No render context available for \" + context);\n                })).then((function(win) {\n                    proxyWin.setWindow(win, {\n                        send: send_send\n                    });\n                    return proxyWin.setName(windowName).then((function() {\n                        return proxyWin;\n                    }));\n                }));\n            };\n            var watchForUnload = function() {\n                return promise_ZalgoPromise.try((function() {\n                    var unloadWindowListener = addEventListener(window, \"unload\", once((function() {\n                        destroy(new Error(\"Window navigated away\"));\n                    })));\n                    var closeParentWindowListener = onCloseWindow(parentWin, destroy, 3e3);\n                    clean.register(closeParentWindowListener.cancel);\n                    clean.register(unloadWindowListener.cancel);\n                    if (watchForUnloadOverride) return watchForUnloadOverride();\n                }));\n            };\n            var checkWindowClose = function(proxyWin) {\n                var closed = !1;\n                return proxyWin.isClosed().then((function(isClosed) {\n                    if (isClosed) {\n                        closed = !0;\n                        return close(new Error(\"Detected component window close\"));\n                    }\n                    return promise_ZalgoPromise.delay(200).then((function() {\n                        return proxyWin.isClosed();\n                    })).then((function(secondIsClosed) {\n                        if (secondIsClosed) {\n                            closed = !0;\n                            return close(new Error(\"Detected component window close\"));\n                        }\n                    }));\n                })).then((function() {\n                    return closed;\n                }));\n            };\n            var onError = function(err) {\n                return onErrorOverride ? onErrorOverride(err) : promise_ZalgoPromise.try((function() {\n                    if (-1 === handledErrors.indexOf(err)) {\n                        handledErrors.push(err);\n                        initPromise.asyncReject(err);\n                        return event.trigger(EVENT.ERROR, err);\n                    }\n                }));\n            };\n            var exportsPromise = new promise_ZalgoPromise;\n            var xport = function(actualExports) {\n                return promise_ZalgoPromise.try((function() {\n                    exportsPromise.resolve(actualExports);\n                }));\n            };\n            initChild.onError = onError;\n            var renderTemplate = function(renderer, _ref8) {\n                return renderer({\n                    uid: uid,\n                    container: _ref8.container,\n                    context: _ref8.context,\n                    doc: _ref8.doc,\n                    frame: _ref8.frame,\n                    prerenderFrame: _ref8.prerenderFrame,\n                    focus: focus,\n                    close: close,\n                    state: state,\n                    props: props,\n                    tag: tag,\n                    dimensions: \"function\" == typeof dimensions ? dimensions({\n                        props: props\n                    }) : dimensions,\n                    event: event\n                });\n            };\n            var prerender = function(proxyPrerenderWin, _ref9) {\n                var context = _ref9.context;\n                return prerenderOverride ? prerenderOverride(proxyPrerenderWin, {\n                    context: context\n                }) : promise_ZalgoPromise.try((function() {\n                    if (prerenderTemplate) {\n                        var prerenderWindow = proxyPrerenderWin.getWindow();\n                        if (prerenderWindow && isSameDomain(prerenderWindow) && function(win) {\n                            try {\n                                if (!win.location.href) return !0;\n                                if (\"about:blank\" === win.location.href) return !0;\n                            } catch (err) {}\n                            return !1;\n                        }(prerenderWindow)) {\n                            var doc = (prerenderWindow = assertSameDomain(prerenderWindow)).document;\n                            var el = renderTemplate(prerenderTemplate, {\n                                context: context,\n                                doc: doc\n                            });\n                            if (el) {\n                                if (el.ownerDocument !== doc) throw new Error(\"Expected prerender template to have been created with document from child window\");\n                                !function(win, el) {\n                                    var tag = el.tagName.toLowerCase();\n                                    if (\"html\" !== tag) throw new Error(\"Expected element to be html, got \" + tag);\n                                    var documentElement = win.document.documentElement;\n                                    for (var _i6 = 0, _arrayFrom2 = arrayFrom(documentElement.children); _i6 < _arrayFrom2.length; _i6++) documentElement.removeChild(_arrayFrom2[_i6]);\n                                    for (var _i8 = 0, _arrayFrom4 = arrayFrom(el.children); _i8 < _arrayFrom4.length; _i8++) documentElement.appendChild(_arrayFrom4[_i8]);\n                                }(prerenderWindow, el);\n                                var _autoResize$width = autoResize.width, width = void 0 !== _autoResize$width && _autoResize$width, _autoResize$height = autoResize.height, height = void 0 !== _autoResize$height && _autoResize$height, _autoResize$element = autoResize.element, element = void 0 === _autoResize$element ? \"body\" : _autoResize$element;\n                                if ((element = getElementSafe(element, doc)) && (width || height)) {\n                                    var prerenderResizeListener = onResize(element, (function(_ref10) {\n                                        resize({\n                                            width: width ? _ref10.width : void 0,\n                                            height: height ? _ref10.height : void 0\n                                        });\n                                    }), {\n                                        width: width,\n                                        height: height,\n                                        win: prerenderWindow\n                                    });\n                                    event.on(EVENT.RENDERED, prerenderResizeListener.cancel);\n                                }\n                            }\n                        }\n                    }\n                }));\n            };\n            var renderContainer = function(proxyContainer, _ref11) {\n                var proxyFrame = _ref11.proxyFrame, proxyPrerenderFrame = _ref11.proxyPrerenderFrame, context = _ref11.context, rerender = _ref11.rerender;\n                return renderContainerOverride ? renderContainerOverride(proxyContainer, {\n                    proxyFrame: proxyFrame,\n                    proxyPrerenderFrame: proxyPrerenderFrame,\n                    context: context,\n                    rerender: rerender\n                }) : promise_ZalgoPromise.hash({\n                    container: proxyContainer.get(),\n                    frame: proxyFrame ? proxyFrame.get() : null,\n                    prerenderFrame: proxyPrerenderFrame ? proxyPrerenderFrame.get() : null,\n                    internalState: getInternalState()\n                }).then((function(_ref12) {\n                    var container = _ref12.container, visible = _ref12.internalState.visible;\n                    var innerContainer = renderTemplate(containerTemplate, {\n                        context: context,\n                        container: container,\n                        frame: _ref12.frame,\n                        prerenderFrame: _ref12.prerenderFrame,\n                        doc: document\n                    });\n                    if (innerContainer) {\n                        visible || hideElement(innerContainer);\n                        appendChild(container, innerContainer);\n                        var containerWatcher = function(element, handler) {\n                            handler = once(handler);\n                            var cancelled = !1;\n                            var mutationObservers = [];\n                            var interval;\n                            var sacrificialFrame;\n                            var sacrificialFrameWin;\n                            var cancel = function() {\n                                cancelled = !0;\n                                for (var _i18 = 0; _i18 < mutationObservers.length; _i18++) mutationObservers[_i18].disconnect();\n                                interval && interval.cancel();\n                                sacrificialFrameWin && sacrificialFrameWin.removeEventListener(\"unload\", elementClosed);\n                                sacrificialFrame && destroyElement(sacrificialFrame);\n                            };\n                            var elementClosed = function() {\n                                if (!cancelled) {\n                                    handler();\n                                    cancel();\n                                }\n                            };\n                            if (isElementClosed(element)) {\n                                elementClosed();\n                                return {\n                                    cancel: cancel\n                                };\n                            }\n                            if (window.MutationObserver) {\n                                var mutationElement = element.parentElement;\n                                for (;mutationElement; ) {\n                                    var mutationObserver = new window.MutationObserver((function() {\n                                        isElementClosed(element) && elementClosed();\n                                    }));\n                                    mutationObserver.observe(mutationElement, {\n                                        childList: !0\n                                    });\n                                    mutationObservers.push(mutationObserver);\n                                    mutationElement = mutationElement.parentElement;\n                                }\n                            }\n                            (sacrificialFrame = document.createElement(\"iframe\")).setAttribute(\"name\", \"__detect_close_\" + uniqueID() + \"__\");\n                            sacrificialFrame.style.display = \"none\";\n                            awaitFrameWindow(sacrificialFrame).then((function(frameWin) {\n                                (sacrificialFrameWin = assertSameDomain(frameWin)).addEventListener(\"unload\", elementClosed);\n                            }));\n                            element.appendChild(sacrificialFrame);\n                            interval = safeInterval((function() {\n                                isElementClosed(element) && elementClosed();\n                            }), 1e3);\n                            return {\n                                cancel: cancel\n                            };\n                        }(innerContainer, (function() {\n                            var removeError = new Error(\"Detected container element removed from DOM\");\n                            return promise_ZalgoPromise.delay(1).then((function() {\n                                if (!isElementClosed(innerContainer)) {\n                                    clean.all(removeError);\n                                    return rerender().then(resolveInitPromise, rejectInitPromise);\n                                }\n                                close(removeError);\n                            }));\n                        }));\n                        clean.register((function() {\n                            return containerWatcher.cancel();\n                        }));\n                        clean.register((function() {\n                            return destroyElement(innerContainer);\n                        }));\n                        return currentProxyContainer = getProxyObject(innerContainer);\n                    }\n                }));\n            };\n            var getHelpers = function() {\n                return {\n                    state: state,\n                    event: event,\n                    close: close,\n                    focus: focus,\n                    resize: resize,\n                    onError: onError,\n                    updateProps: updateProps,\n                    show: show,\n                    hide: hide\n                };\n            };\n            var setProps = function(newInputProps) {\n                void 0 === newInputProps && (newInputProps = {});\n                var container = currentContainer;\n                var helpers = getHelpers();\n                extend(inputProps, newInputProps);\n                !function(propsDef, existingProps, inputProps, helpers, container) {\n                    var state = helpers.state, close = helpers.close, focus = helpers.focus, event = helpers.event, onError = helpers.onError;\n                    eachProp(inputProps, propsDef, (function(key, propDef, val) {\n                        var valueDetermined = !1;\n                        var value = val;\n                        Object.defineProperty(existingProps, key, {\n                            configurable: !0,\n                            enumerable: !0,\n                            get: function() {\n                                if (valueDetermined) return value;\n                                valueDetermined = !0;\n                                return function() {\n                                    if (!propDef) return value;\n                                    var alias = propDef.alias;\n                                    alias && !isDefined(val) && isDefined(inputProps[alias]) && (value = inputProps[alias]);\n                                    propDef.value && (value = propDef.value({\n                                        props: existingProps,\n                                        state: state,\n                                        close: close,\n                                        focus: focus,\n                                        event: event,\n                                        onError: onError,\n                                        container: container\n                                    }));\n                                    !propDef.default || isDefined(value) || isDefined(inputProps[key]) || (value = propDef.default({\n                                        props: existingProps,\n                                        state: state,\n                                        close: close,\n                                        focus: focus,\n                                        event: event,\n                                        onError: onError,\n                                        container: container\n                                    }));\n                                    if (isDefined(value)) {\n                                        if (propDef.type === PROP_TYPE.ARRAY ? !Array.isArray(value) : typeof value !== propDef.type) throw new TypeError(\"Prop is not of type \" + propDef.type + \": \" + key);\n                                    } else if (!1 !== propDef.required && !isDefined(inputProps[key])) throw new Error('Expected prop \"' + key + '\" to be defined');\n                                    isDefined(value) && propDef.decorate && (value = propDef.decorate({\n                                        value: value,\n                                        props: existingProps,\n                                        state: state,\n                                        close: close,\n                                        focus: focus,\n                                        event: event,\n                                        onError: onError,\n                                        container: container\n                                    }));\n                                    return value;\n                                }();\n                            }\n                        });\n                    }));\n                    eachProp(existingProps, propsDef, src_util_noop);\n                }(propsDef, props, inputProps, helpers, container);\n            };\n            var updateProps = function(newProps) {\n                setProps(newProps);\n                return initPromise.then((function() {\n                    var child = childComponent;\n                    var proxyWin = currentProxyWin;\n                    if (child && proxyWin && currentChildDomain) return getPropsForChild(currentChildDomain).then((function(childProps) {\n                        return child.updateProps(childProps).catch((function(err) {\n                            return checkWindowClose(proxyWin).then((function(closed) {\n                                if (!closed) throw err;\n                            }));\n                        }));\n                    }));\n                }));\n            };\n            var getProxyContainer = function(container) {\n                return getProxyContainerOverride ? getProxyContainerOverride(container) : promise_ZalgoPromise.try((function() {\n                    return elementReady(container);\n                })).then((function(containerElement) {\n                    isShadowElement(containerElement) && (containerElement = function insertShadowSlot(element) {\n                        var shadowHost = function(element) {\n                            var shadowRoot = function(element) {\n                                for (;element.parentNode; ) element = element.parentNode;\n                                if (isShadowElement(element)) return element;\n                            }(element);\n                            if (shadowRoot && shadowRoot.host) return shadowRoot.host;\n                        }(element);\n                        if (!shadowHost) throw new Error(\"Element is not in shadow dom\");\n                        var slotName = \"shadow-slot-\" + uniqueID();\n                        var slot = document.createElement(\"slot\");\n                        slot.setAttribute(\"name\", slotName);\n                        element.appendChild(slot);\n                        var slotProvider = document.createElement(\"div\");\n                        slotProvider.setAttribute(\"slot\", slotName);\n                        shadowHost.appendChild(slotProvider);\n                        return isShadowElement(shadowHost) ? insertShadowSlot(slotProvider) : slotProvider;\n                    }(containerElement));\n                    currentContainer = containerElement;\n                    return getProxyObject(containerElement);\n                }));\n            };\n            return {\n                init: function() {\n                    !function() {\n                        event.on(EVENT.RENDER, (function() {\n                            return props.onRender();\n                        }));\n                        event.on(EVENT.DISPLAY, (function() {\n                            return props.onDisplay();\n                        }));\n                        event.on(EVENT.RENDERED, (function() {\n                            return props.onRendered();\n                        }));\n                        event.on(EVENT.CLOSE, (function() {\n                            return props.onClose();\n                        }));\n                        event.on(EVENT.DESTROY, (function() {\n                            return props.onDestroy();\n                        }));\n                        event.on(EVENT.RESIZE, (function() {\n                            return props.onResize();\n                        }));\n                        event.on(EVENT.FOCUS, (function() {\n                            return props.onFocus();\n                        }));\n                        event.on(EVENT.PROPS, (function(newProps) {\n                            return props.onProps(newProps);\n                        }));\n                        event.on(EVENT.ERROR, (function(err) {\n                            return props && props.onError ? props.onError(err) : rejectInitPromise(err).then((function() {\n                                setTimeout((function() {\n                                    throw err;\n                                }), 1);\n                            }));\n                        }));\n                        clean.register(event.reset);\n                    }();\n                },\n                render: function(_ref14) {\n                    var target = _ref14.target, container = _ref14.container, context = _ref14.context, rerender = _ref14.rerender;\n                    return promise_ZalgoPromise.try((function() {\n                        var initialChildDomain = getInitialChildDomain();\n                        var childDomainMatch = domainMatch || getInitialChildDomain();\n                        !function(target, childDomainMatch, container) {\n                            if (target !== window) {\n                                if (!isSameTopWindow(window, target)) throw new Error(\"Can only renderTo an adjacent frame\");\n                                var origin = getDomain();\n                                if (!matchDomain(childDomainMatch, origin) && !isSameDomain(target)) throw new Error(\"Can not render remotely to \" + childDomainMatch.toString() + \" - can only render to \" + origin);\n                                if (container && \"string\" != typeof container) throw new Error(\"Container passed to renderTo must be a string selector, got \" + typeof container + \" }\");\n                            }\n                        }(target, childDomainMatch, container);\n                        var delegatePromise = promise_ZalgoPromise.try((function() {\n                            if (target !== window) return function(context, target) {\n                                var delegateProps = {};\n                                for (var _i4 = 0, _Object$keys4 = Object.keys(props); _i4 < _Object$keys4.length; _i4++) {\n                                    var propName = _Object$keys4[_i4];\n                                    var propDef = propsDef[propName];\n                                    propDef && propDef.allowDelegate && (delegateProps[propName] = props[propName]);\n                                }\n                                var childOverridesPromise = send_send(target, \"zoid_delegate_\" + name, {\n                                    uid: uid,\n                                    overrides: {\n                                        props: delegateProps,\n                                        event: event,\n                                        close: close,\n                                        onError: onError,\n                                        getInternalState: getInternalState,\n                                        setInternalState: setInternalState,\n                                        resolveInitPromise: resolveInitPromise,\n                                        rejectInitPromise: rejectInitPromise\n                                    }\n                                }).then((function(_ref13) {\n                                    var parentComp = _ref13.data.parent;\n                                    clean.register((function(err) {\n                                        if (!isWindowClosed(target)) return parentComp.destroy(err);\n                                    }));\n                                    return parentComp.getDelegateOverrides();\n                                })).catch((function(err) {\n                                    throw new Error(\"Unable to delegate rendering. Possibly the component is not loaded in the target window.\\n\\n\" + stringifyError(err));\n                                }));\n                                getProxyContainerOverride = function() {\n                                    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) args[_key] = arguments[_key];\n                                    return childOverridesPromise.then((function(childOverrides) {\n                                        return childOverrides.getProxyContainer.apply(childOverrides, args);\n                                    }));\n                                };\n                                renderContainerOverride = function() {\n                                    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) args[_key2] = arguments[_key2];\n                                    return childOverridesPromise.then((function(childOverrides) {\n                                        return childOverrides.renderContainer.apply(childOverrides, args);\n                                    }));\n                                };\n                                showOverride = function() {\n                                    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) args[_key3] = arguments[_key3];\n                                    return childOverridesPromise.then((function(childOverrides) {\n                                        return childOverrides.show.apply(childOverrides, args);\n                                    }));\n                                };\n                                hideOverride = function() {\n                                    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) args[_key4] = arguments[_key4];\n                                    return childOverridesPromise.then((function(childOverrides) {\n                                        return childOverrides.hide.apply(childOverrides, args);\n                                    }));\n                                };\n                                watchForUnloadOverride = function() {\n                                    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) args[_key5] = arguments[_key5];\n                                    return childOverridesPromise.then((function(childOverrides) {\n                                        return childOverrides.watchForUnload.apply(childOverrides, args);\n                                    }));\n                                };\n                                if (context === CONTEXT.IFRAME) {\n                                    getProxyWindowOverride = function() {\n                                        for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) args[_key6] = arguments[_key6];\n                                        return childOverridesPromise.then((function(childOverrides) {\n                                            return childOverrides.getProxyWindow.apply(childOverrides, args);\n                                        }));\n                                    };\n                                    openFrameOverride = function() {\n                                        for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) args[_key7] = arguments[_key7];\n                                        return childOverridesPromise.then((function(childOverrides) {\n                                            return childOverrides.openFrame.apply(childOverrides, args);\n                                        }));\n                                    };\n                                    openPrerenderFrameOverride = function() {\n                                        for (var _len8 = arguments.length, args = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) args[_key8] = arguments[_key8];\n                                        return childOverridesPromise.then((function(childOverrides) {\n                                            return childOverrides.openPrerenderFrame.apply(childOverrides, args);\n                                        }));\n                                    };\n                                    prerenderOverride = function() {\n                                        for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) args[_key9] = arguments[_key9];\n                                        return childOverridesPromise.then((function(childOverrides) {\n                                            return childOverrides.prerender.apply(childOverrides, args);\n                                        }));\n                                    };\n                                    openOverride = function() {\n                                        for (var _len10 = arguments.length, args = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) args[_key10] = arguments[_key10];\n                                        return childOverridesPromise.then((function(childOverrides) {\n                                            return childOverrides.open.apply(childOverrides, args);\n                                        }));\n                                    };\n                                    openPrerenderOverride = function() {\n                                        for (var _len11 = arguments.length, args = new Array(_len11), _key11 = 0; _key11 < _len11; _key11++) args[_key11] = arguments[_key11];\n                                        return childOverridesPromise.then((function(childOverrides) {\n                                            return childOverrides.openPrerender.apply(childOverrides, args);\n                                        }));\n                                    };\n                                }\n                                return childOverridesPromise;\n                            }(context, target);\n                        }));\n                        var windowProp = props.window;\n                        var watchForUnloadPromise = watchForUnload();\n                        var buildBodyPromise = serializeProps(propsDef, props, \"post\");\n                        var onRenderPromise = event.trigger(EVENT.RENDER);\n                        var getProxyContainerPromise = getProxyContainer(container);\n                        var getProxyWindowPromise = getProxyWindow();\n                        var finalSetPropsPromise = getProxyContainerPromise.then((function() {\n                            return setProps();\n                        }));\n                        var buildUrlPromise = finalSetPropsPromise.then((function() {\n                            return serializeProps(propsDef, props, \"get\").then((function(query) {\n                                return function(url, options) {\n                                    var query = options.query || {};\n                                    var hash = options.hash || {};\n                                    var originalUrl;\n                                    var originalHash;\n                                    var _url$split = url.split(\"#\");\n                                    originalHash = _url$split[1];\n                                    var _originalUrl$split = (originalUrl = _url$split[0]).split(\"?\");\n                                    originalUrl = _originalUrl$split[0];\n                                    var queryString = extendQuery(_originalUrl$split[1], query);\n                                    var hashString = extendQuery(originalHash, hash);\n                                    queryString && (originalUrl = originalUrl + \"?\" + queryString);\n                                    hashString && (originalUrl = originalUrl + \"#\" + hashString);\n                                    return originalUrl;\n                                }(function(url) {\n                                    if (!(domain = getDomainFromUrl(url), 0 === domain.indexOf(\"mock:\"))) return url;\n                                    var domain;\n                                    throw new Error(\"Mock urls not supported out of test mode\");\n                                }(getUrl()), {\n                                    query: query\n                                });\n                            }));\n                        }));\n                        var buildWindowNamePromise = getProxyWindowPromise.then((function(proxyWin) {\n                            return function(_temp2) {\n                                var _ref6 = void 0 === _temp2 ? {} : _temp2, proxyWin = _ref6.proxyWin, initialChildDomain = _ref6.initialChildDomain, childDomainMatch = _ref6.childDomainMatch, _ref6$target = _ref6.target, target = void 0 === _ref6$target ? window : _ref6$target, context = _ref6.context;\n                                return function(_temp) {\n                                    var _ref5 = void 0 === _temp ? {} : _temp, proxyWin = _ref5.proxyWin, childDomainMatch = _ref5.childDomainMatch, context = _ref5.context;\n                                    return getPropsForChild(_ref5.initialChildDomain).then((function(childProps) {\n                                        return {\n                                            uid: uid,\n                                            context: context,\n                                            tag: tag,\n                                            childDomainMatch: childDomainMatch,\n                                            version: \"9_0_86\",\n                                            props: childProps,\n                                            exports: (win = proxyWin, {\n                                                init: function(childExports) {\n                                                    return initChild(this.origin, childExports);\n                                                },\n                                                close: close,\n                                                checkClose: function() {\n                                                    return checkWindowClose(win);\n                                                },\n                                                resize: resize,\n                                                onError: onError,\n                                                show: show,\n                                                hide: hide,\n                                                export: xport\n                                            })\n                                        };\n                                        var win;\n                                    }));\n                                }({\n                                    proxyWin: proxyWin,\n                                    initialChildDomain: initialChildDomain,\n                                    childDomainMatch: childDomainMatch,\n                                    context: context\n                                }).then((function(childPayload) {\n                                    var _crossDomainSerialize = crossDomainSerialize({\n                                        data: childPayload,\n                                        metaData: {\n                                            windowRef: getWindowRef(target, initialChildDomain, context, proxyWin)\n                                        },\n                                        sender: {\n                                            domain: getDomain(window)\n                                        },\n                                        receiver: {\n                                            win: proxyWin,\n                                            domain: childDomainMatch\n                                        },\n                                        passByReference: initialChildDomain === getDomain()\n                                    }), serializedData = _crossDomainSerialize.serializedData;\n                                    clean.register(_crossDomainSerialize.cleanReference);\n                                    return serializedData;\n                                }));\n                            }({\n                                proxyWin: (_ref7 = {\n                                    proxyWin: proxyWin,\n                                    initialChildDomain: initialChildDomain,\n                                    childDomainMatch: childDomainMatch,\n                                    target: target,\n                                    context: context\n                                }).proxyWin,\n                                initialChildDomain: _ref7.initialChildDomain,\n                                childDomainMatch: _ref7.childDomainMatch,\n                                target: _ref7.target,\n                                context: _ref7.context\n                            }).then((function(serializedPayload) {\n                                return buildChildWindowName({\n                                    name: name,\n                                    serializedPayload: serializedPayload\n                                });\n                            }));\n                            var _ref7;\n                        }));\n                        var openFramePromise = buildWindowNamePromise.then((function(windowName) {\n                            return openFrame(context, {\n                                windowName: windowName\n                            });\n                        }));\n                        var openPrerenderFramePromise = openPrerenderFrame(context);\n                        var renderContainerPromise = promise_ZalgoPromise.hash({\n                            proxyContainer: getProxyContainerPromise,\n                            proxyFrame: openFramePromise,\n                            proxyPrerenderFrame: openPrerenderFramePromise\n                        }).then((function(_ref15) {\n                            return renderContainer(_ref15.proxyContainer, {\n                                context: context,\n                                proxyFrame: _ref15.proxyFrame,\n                                proxyPrerenderFrame: _ref15.proxyPrerenderFrame,\n                                rerender: rerender\n                            });\n                        })).then((function(proxyContainer) {\n                            return proxyContainer;\n                        }));\n                        var openPromise = promise_ZalgoPromise.hash({\n                            windowName: buildWindowNamePromise,\n                            proxyFrame: openFramePromise,\n                            proxyWin: getProxyWindowPromise\n                        }).then((function(_ref16) {\n                            var proxyWin = _ref16.proxyWin;\n                            return windowProp ? proxyWin : open(context, {\n                                windowName: _ref16.windowName,\n                                proxyWin: proxyWin,\n                                proxyFrame: _ref16.proxyFrame\n                            });\n                        }));\n                        var openPrerenderPromise = promise_ZalgoPromise.hash({\n                            proxyWin: openPromise,\n                            proxyPrerenderFrame: openPrerenderFramePromise\n                        }).then((function(_ref17) {\n                            return openPrerender(context, _ref17.proxyWin, _ref17.proxyPrerenderFrame);\n                        }));\n                        var setStatePromise = openPromise.then((function(proxyWin) {\n                            currentProxyWin = proxyWin;\n                            return setProxyWin(proxyWin);\n                        }));\n                        var prerenderPromise = promise_ZalgoPromise.hash({\n                            proxyPrerenderWin: openPrerenderPromise,\n                            state: setStatePromise\n                        }).then((function(_ref18) {\n                            return prerender(_ref18.proxyPrerenderWin, {\n                                context: context\n                            });\n                        }));\n                        var setWindowNamePromise = promise_ZalgoPromise.hash({\n                            proxyWin: openPromise,\n                            windowName: buildWindowNamePromise\n                        }).then((function(_ref19) {\n                            if (windowProp) return _ref19.proxyWin.setName(_ref19.windowName);\n                        }));\n                        var getMethodPromise = promise_ZalgoPromise.hash({\n                            body: buildBodyPromise\n                        }).then((function(_ref20) {\n                            return options.method ? options.method : Object.keys(_ref20.body).length ? \"post\" : \"get\";\n                        }));\n                        var loadUrlPromise = promise_ZalgoPromise.hash({\n                            proxyWin: openPromise,\n                            windowUrl: buildUrlPromise,\n                            body: buildBodyPromise,\n                            method: getMethodPromise,\n                            windowName: setWindowNamePromise,\n                            prerender: prerenderPromise\n                        }).then((function(_ref21) {\n                            return _ref21.proxyWin.setLocation(_ref21.windowUrl, {\n                                method: _ref21.method,\n                                body: _ref21.body\n                            });\n                        }));\n                        var watchForClosePromise = openPromise.then((function(proxyWin) {\n                            !function watchForClose(proxyWin, context) {\n                                var cancelled = !1;\n                                clean.register((function() {\n                                    cancelled = !0;\n                                }));\n                                return promise_ZalgoPromise.delay(2e3).then((function() {\n                                    return proxyWin.isClosed();\n                                })).then((function(isClosed) {\n                                    if (!cancelled) return isClosed ? close(new Error(\"Detected \" + context + \" close\")) : watchForClose(proxyWin, context);\n                                }));\n                            }(proxyWin, context);\n                        }));\n                        var onDisplayPromise = promise_ZalgoPromise.hash({\n                            container: renderContainerPromise,\n                            prerender: prerenderPromise\n                        }).then((function() {\n                            return event.trigger(EVENT.DISPLAY);\n                        }));\n                        var openBridgePromise = openPromise.then((function(proxyWin) {}));\n                        var runTimeoutPromise = loadUrlPromise.then((function() {\n                            return promise_ZalgoPromise.try((function() {\n                                var timeout = props.timeout;\n                                if (timeout) return initPromise.timeout(timeout, new Error(\"Loading component timed out after \" + timeout + \" milliseconds\"));\n                            }));\n                        }));\n                        var onRenderedPromise = initPromise.then((function() {\n                            return event.trigger(EVENT.RENDERED);\n                        }));\n                        return promise_ZalgoPromise.hash({\n                            initPromise: initPromise,\n                            buildUrlPromise: buildUrlPromise,\n                            onRenderPromise: onRenderPromise,\n                            getProxyContainerPromise: getProxyContainerPromise,\n                            openFramePromise: openFramePromise,\n                            openPrerenderFramePromise: openPrerenderFramePromise,\n                            renderContainerPromise: renderContainerPromise,\n                            openPromise: openPromise,\n                            openPrerenderPromise: openPrerenderPromise,\n                            setStatePromise: setStatePromise,\n                            prerenderPromise: prerenderPromise,\n                            loadUrlPromise: loadUrlPromise,\n                            buildWindowNamePromise: buildWindowNamePromise,\n                            setWindowNamePromise: setWindowNamePromise,\n                            watchForClosePromise: watchForClosePromise,\n                            onDisplayPromise: onDisplayPromise,\n                            openBridgePromise: openBridgePromise,\n                            runTimeoutPromise: runTimeoutPromise,\n                            onRenderedPromise: onRenderedPromise,\n                            delegatePromise: delegatePromise,\n                            watchForUnloadPromise: watchForUnloadPromise,\n                            finalSetPropsPromise: finalSetPropsPromise\n                        });\n                    })).catch((function(err) {\n                        return promise_ZalgoPromise.all([ onError(err), destroy(err) ]).then((function() {\n                            throw err;\n                        }), (function() {\n                            throw err;\n                        }));\n                    })).then(src_util_noop);\n                },\n                destroy: destroy,\n                getProps: function() {\n                    return props;\n                },\n                setProps: setProps,\n                export: xport,\n                getHelpers: getHelpers,\n                getDelegateOverrides: function() {\n                    return promise_ZalgoPromise.try((function() {\n                        return {\n                            getProxyContainer: getProxyContainer,\n                            show: show,\n                            hide: hide,\n                            renderContainer: renderContainer,\n                            getProxyWindow: getProxyWindow,\n                            watchForUnload: watchForUnload,\n                            openFrame: openFrame,\n                            openPrerenderFrame: openPrerenderFrame,\n                            prerender: prerender,\n                            open: open,\n                            openPrerender: openPrerender,\n                            setProxyWin: setProxyWin\n                        };\n                    }));\n                },\n                getExports: function() {\n                    return xports({\n                        getExports: function() {\n                            return exportsPromise;\n                        }\n                    });\n                }\n            };\n        }\n        function defaultContainerTemplate(_ref) {\n            var uid = _ref.uid, frame = _ref.frame, prerenderFrame = _ref.prerenderFrame, doc = _ref.doc, props = _ref.props, event = _ref.event, dimensions = _ref.dimensions;\n            var width = dimensions.width, height = dimensions.height;\n            if (frame && prerenderFrame) {\n                var div = doc.createElement(\"div\");\n                div.setAttribute(\"id\", uid);\n                var style = doc.createElement(\"style\");\n                props.cspNonce && style.setAttribute(\"nonce\", props.cspNonce);\n                style.appendChild(doc.createTextNode(\"\\n            #\" + uid + \" {\\n                display: inline-block;\\n                position: relative;\\n                width: \" + width + \";\\n                height: \" + height + \";\\n            }\\n\\n            #\" + uid + \" > iframe {\\n                display: inline-block;\\n                position: absolute;\\n                width: 100%;\\n                height: 100%;\\n                top: 0;\\n                left: 0;\\n                transition: opacity .2s ease-in-out;\\n            }\\n\\n            #\" + uid + \" > iframe.zoid-invisible {\\n                opacity: 0;\\n            }\\n\\n            #\" + uid + \" > iframe.zoid-visible {\\n                opacity: 1;\\n        }\\n        \"));\n                div.appendChild(frame);\n                div.appendChild(prerenderFrame);\n                div.appendChild(style);\n                prerenderFrame.classList.add(\"zoid-visible\");\n                frame.classList.add(\"zoid-invisible\");\n                event.on(EVENT.RENDERED, (function() {\n                    prerenderFrame.classList.remove(\"zoid-visible\");\n                    prerenderFrame.classList.add(\"zoid-invisible\");\n                    frame.classList.remove(\"zoid-invisible\");\n                    frame.classList.add(\"zoid-visible\");\n                    setTimeout((function() {\n                        destroyElement(prerenderFrame);\n                    }), 1);\n                }));\n                event.on(EVENT.RESIZE, (function(_ref2) {\n                    var newWidth = _ref2.width, newHeight = _ref2.height;\n                    \"number\" == typeof newWidth && (div.style.width = toCSS(newWidth));\n                    \"number\" == typeof newHeight && (div.style.height = toCSS(newHeight));\n                }));\n                return div;\n            }\n        }\n        var cleanInstances = cleanup();\n        var cleanZoid = cleanup();\n        function component(opts) {\n            var options = function(options) {\n                var tag = options.tag, url = options.url, domain = options.domain, bridgeUrl = options.bridgeUrl, _options$props = options.props, props = void 0 === _options$props ? {} : _options$props, _options$dimensions = options.dimensions, dimensions = void 0 === _options$dimensions ? {} : _options$dimensions, _options$autoResize = options.autoResize, autoResize = void 0 === _options$autoResize ? {} : _options$autoResize, _options$allowedParen = options.allowedParentDomains, allowedParentDomains = void 0 === _options$allowedParen ? \"*\" : _options$allowedParen, _options$attributes = options.attributes, attributes = void 0 === _options$attributes ? {} : _options$attributes, _options$defaultConte = options.defaultContext, defaultContext = void 0 === _options$defaultConte ? CONTEXT.IFRAME : _options$defaultConte, _options$containerTem = options.containerTemplate, containerTemplate = void 0 === _options$containerTem ? defaultContainerTemplate : _options$containerTem, _options$prerenderTem = options.prerenderTemplate, prerenderTemplate = void 0 === _options$prerenderTem ? null : _options$prerenderTem, validate = options.validate, _options$eligible = options.eligible, eligible = void 0 === _options$eligible ? function() {\n                    return {\n                        eligible: !0\n                    };\n                } : _options$eligible, _options$logger = options.logger, logger = void 0 === _options$logger ? {\n                    info: src_util_noop\n                } : _options$logger, _options$exports = options.exports, xportsDefinition = void 0 === _options$exports ? src_util_noop : _options$exports, method = options.method, _options$children = options.children, children = void 0 === _options$children ? function() {\n                    return {};\n                } : _options$children;\n                var name = tag.replace(/-/g, \"_\");\n                var propsDef = _extends({}, {\n                    window: {\n                        type: PROP_TYPE.OBJECT,\n                        sendToChild: !1,\n                        required: !1,\n                        allowDelegate: !0,\n                        validate: function(_ref2) {\n                            var value = _ref2.value;\n                            if (!isWindow(value) && !window_ProxyWindow.isProxyWindow(value)) throw new Error(\"Expected Window or ProxyWindow\");\n                            if (isWindow(value)) {\n                                if (isWindowClosed(value)) throw new Error(\"Window is closed\");\n                                if (!isSameDomain(value)) throw new Error(\"Window is not same domain\");\n                            }\n                        },\n                        decorate: function(_ref3) {\n                            return setup_toProxyWindow(_ref3.value);\n                        }\n                    },\n                    timeout: {\n                        type: PROP_TYPE.NUMBER,\n                        required: !1,\n                        sendToChild: !1\n                    },\n                    cspNonce: {\n                        type: PROP_TYPE.STRING,\n                        required: !1\n                    },\n                    onDisplay: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        allowDelegate: !0,\n                        default: props_defaultNoop,\n                        decorate: props_decorateOnce\n                    },\n                    onRendered: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        default: props_defaultNoop,\n                        decorate: props_decorateOnce\n                    },\n                    onRender: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        default: props_defaultNoop,\n                        decorate: props_decorateOnce\n                    },\n                    onClose: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        allowDelegate: !0,\n                        default: props_defaultNoop,\n                        decorate: props_decorateOnce\n                    },\n                    onDestroy: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        allowDelegate: !0,\n                        default: props_defaultNoop,\n                        decorate: props_decorateOnce\n                    },\n                    onResize: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        allowDelegate: !0,\n                        default: props_defaultNoop\n                    },\n                    onFocus: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        allowDelegate: !0,\n                        default: props_defaultNoop\n                    },\n                    close: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        childDecorate: function(_ref4) {\n                            return _ref4.close;\n                        }\n                    },\n                    focus: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        childDecorate: function(_ref5) {\n                            return _ref5.focus;\n                        }\n                    },\n                    resize: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        childDecorate: function(_ref6) {\n                            return _ref6.resize;\n                        }\n                    },\n                    uid: {\n                        type: PROP_TYPE.STRING,\n                        required: !1,\n                        sendToChild: !1,\n                        childDecorate: function(_ref7) {\n                            return _ref7.uid;\n                        }\n                    },\n                    tag: {\n                        type: PROP_TYPE.STRING,\n                        required: !1,\n                        sendToChild: !1,\n                        childDecorate: function(_ref8) {\n                            return _ref8.tag;\n                        }\n                    },\n                    getParent: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        childDecorate: function(_ref9) {\n                            return _ref9.getParent;\n                        }\n                    },\n                    getParentDomain: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        childDecorate: function(_ref10) {\n                            return _ref10.getParentDomain;\n                        }\n                    },\n                    show: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        childDecorate: function(_ref11) {\n                            return _ref11.show;\n                        }\n                    },\n                    hide: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        childDecorate: function(_ref12) {\n                            return _ref12.hide;\n                        }\n                    },\n                    export: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        childDecorate: function(_ref13) {\n                            return _ref13.export;\n                        }\n                    },\n                    onError: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        childDecorate: function(_ref14) {\n                            return _ref14.onError;\n                        }\n                    },\n                    onProps: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        childDecorate: function(_ref15) {\n                            return _ref15.onProps;\n                        }\n                    },\n                    getSiblings: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        childDecorate: function(_ref16) {\n                            return _ref16.getSiblings;\n                        }\n                    }\n                }, props);\n                if (!containerTemplate) throw new Error(\"Container template required\");\n                return {\n                    name: name,\n                    tag: tag,\n                    url: url,\n                    domain: domain,\n                    bridgeUrl: bridgeUrl,\n                    method: method,\n                    propsDef: propsDef,\n                    dimensions: dimensions,\n                    autoResize: autoResize,\n                    allowedParentDomains: allowedParentDomains,\n                    attributes: attributes,\n                    defaultContext: defaultContext,\n                    containerTemplate: containerTemplate,\n                    prerenderTemplate: prerenderTemplate,\n                    validate: validate,\n                    logger: logger,\n                    eligible: eligible,\n                    children: children,\n                    exports: \"function\" == typeof xportsDefinition ? xportsDefinition : function(_ref) {\n                        var getExports = _ref.getExports;\n                        var result = {};\n                        var _loop = function(_i2, _Object$keys2) {\n                            var key = _Object$keys2[_i2];\n                            var type = xportsDefinition[key].type;\n                            var valuePromise = getExports().then((function(res) {\n                                return res[key];\n                            }));\n                            result[key] = type === PROP_TYPE.FUNCTION ? function() {\n                                for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) args[_key] = arguments[_key];\n                                return valuePromise.then((function(value) {\n                                    return value.apply(void 0, args);\n                                }));\n                            } : valuePromise;\n                        };\n                        for (var _i2 = 0, _Object$keys2 = Object.keys(xportsDefinition); _i2 < _Object$keys2.length; _i2++) _loop(_i2, _Object$keys2);\n                        return result;\n                    }\n                };\n            }(opts);\n            var name = options.name, tag = options.tag, defaultContext = options.defaultContext, eligible = options.eligible, children = options.children;\n            var global = lib_global_getGlobal(window);\n            var instances = [];\n            var isChild = function() {\n                if (function(name) {\n                    try {\n                        return parseWindowName(window.name).name === name;\n                    } catch (err) {}\n                    return !1;\n                }(name)) {\n                    var _payload = getInitialParentPayload().payload;\n                    if (_payload.tag === tag && matchDomain(_payload.childDomainMatch, getDomain())) return !0;\n                }\n                return !1;\n            };\n            var registerChild = memoize((function() {\n                if (isChild()) {\n                    if (window.xprops) {\n                        delete global.components[tag];\n                        throw new Error(\"Can not register \" + name + \" as child - child already registered\");\n                    }\n                    var child = function(options) {\n                        var tag = options.tag, propsDef = options.propsDef, autoResize = options.autoResize, allowedParentDomains = options.allowedParentDomains;\n                        var onPropHandlers = [];\n                        var _getInitialParentPayl = getInitialParentPayload(), parent = _getInitialParentPayl.parent, payload = _getInitialParentPayl.payload;\n                        var parentComponentWindow = parent.win, parentDomain = parent.domain;\n                        var props;\n                        var exportsPromise = new promise_ZalgoPromise;\n                        var version = payload.version, uid = payload.uid, parentExports = payload.exports, context = payload.context, initialProps = payload.props;\n                        if (\"9_0_86\" !== version) throw new Error(\"Parent window has zoid version \" + version + \", child window has version 9_0_86\");\n                        var show = parentExports.show, hide = parentExports.hide, close = parentExports.close, onError = parentExports.onError, checkClose = parentExports.checkClose, parentExport = parentExports.export, parentResize = parentExports.resize, parentInit = parentExports.init;\n                        var getParent = function() {\n                            return parentComponentWindow;\n                        };\n                        var getParentDomain = function() {\n                            return parentDomain;\n                        };\n                        var onProps = function(handler) {\n                            onPropHandlers.push(handler);\n                            return {\n                                cancel: function() {\n                                    onPropHandlers.splice(onPropHandlers.indexOf(handler), 1);\n                                }\n                            };\n                        };\n                        var resize = function(_ref) {\n                            return parentResize.fireAndForget({\n                                width: _ref.width,\n                                height: _ref.height\n                            });\n                        };\n                        var xport = function(xports) {\n                            exportsPromise.resolve(xports);\n                            return parentExport(xports);\n                        };\n                        var getSiblings = function(_temp) {\n                            var anyParent = (void 0 === _temp ? {} : _temp).anyParent;\n                            var result = [];\n                            var currentParent = props.parent;\n                            void 0 === anyParent && (anyParent = !currentParent);\n                            if (!anyParent && !currentParent) throw new Error(\"No parent found for \" + tag + \" child\");\n                            for (var _i2 = 0, _getAllFramesInWindow2 = getAllFramesInWindow(window); _i2 < _getAllFramesInWindow2.length; _i2++) {\n                                var win = _getAllFramesInWindow2[_i2];\n                                if (isSameDomain(win)) {\n                                    var xprops = assertSameDomain(win).xprops;\n                                    if (xprops && getParent() === xprops.getParent()) {\n                                        var winParent = xprops.parent;\n                                        if (anyParent || !currentParent || winParent && winParent.uid === currentParent.uid) {\n                                            var xports = tryGlobal(win, (function(global) {\n                                                return global.exports;\n                                            }));\n                                            result.push({\n                                                props: xprops,\n                                                exports: xports\n                                            });\n                                        }\n                                    }\n                                }\n                            }\n                            return result;\n                        };\n                        var setProps = function(newProps, origin, isUpdate) {\n                            void 0 === isUpdate && (isUpdate = !1);\n                            var normalizedProps = function(parentComponentWindow, propsDef, props, origin, helpers, isUpdate) {\n                                void 0 === isUpdate && (isUpdate = !1);\n                                var result = {};\n                                for (var _i2 = 0, _Object$keys2 = Object.keys(props); _i2 < _Object$keys2.length; _i2++) {\n                                    var key = _Object$keys2[_i2];\n                                    var prop = propsDef[key];\n                                    if (!prop || !prop.sameDomain || origin === getDomain(window) && isSameDomain(parentComponentWindow)) {\n                                        var value = normalizeChildProp(propsDef, 0, key, props[key], helpers);\n                                        result[key] = value;\n                                        prop && prop.alias && !result[prop.alias] && (result[prop.alias] = value);\n                                    }\n                                }\n                                if (!isUpdate) for (var _i4 = 0, _Object$keys4 = Object.keys(propsDef); _i4 < _Object$keys4.length; _i4++) {\n                                    var _key = _Object$keys4[_i4];\n                                    props.hasOwnProperty(_key) || (result[_key] = normalizeChildProp(propsDef, 0, _key, void 0, helpers));\n                                }\n                                return result;\n                            }(parentComponentWindow, propsDef, newProps, origin, {\n                                tag: tag,\n                                show: show,\n                                hide: hide,\n                                close: close,\n                                focus: child_focus,\n                                onError: onError,\n                                resize: resize,\n                                getSiblings: getSiblings,\n                                onProps: onProps,\n                                getParent: getParent,\n                                getParentDomain: getParentDomain,\n                                uid: uid,\n                                export: xport\n                            }, isUpdate);\n                            props ? extend(props, normalizedProps) : props = normalizedProps;\n                            for (var _i4 = 0; _i4 < onPropHandlers.length; _i4++) (0, onPropHandlers[_i4])(props);\n                        };\n                        var updateProps = function(newProps) {\n                            return promise_ZalgoPromise.try((function() {\n                                return setProps(newProps, parentDomain, !0);\n                            }));\n                        };\n                        return {\n                            init: function() {\n                                return promise_ZalgoPromise.try((function() {\n                                    isSameDomain(parentComponentWindow) && function(_ref3) {\n                                        var componentName = _ref3.componentName, parentComponentWindow = _ref3.parentComponentWindow;\n                                        var _crossDomainDeseriali2 = crossDomainDeserialize({\n                                            data: parseWindowName(window.name).serializedInitialPayload,\n                                            sender: {\n                                                win: parentComponentWindow\n                                            },\n                                            basic: !0\n                                        }), sender = _crossDomainDeseriali2.sender;\n                                        if (\"uid\" === _crossDomainDeseriali2.reference.type || \"global\" === _crossDomainDeseriali2.metaData.windowRef.type) {\n                                            var _crossDomainSerialize = crossDomainSerialize({\n                                                data: _crossDomainDeseriali2.data,\n                                                metaData: {\n                                                    windowRef: window_getWindowRef(parentComponentWindow)\n                                                },\n                                                sender: {\n                                                    domain: sender.domain\n                                                },\n                                                receiver: {\n                                                    win: window,\n                                                    domain: getDomain()\n                                                },\n                                                basic: !0\n                                            });\n                                            window.name = buildChildWindowName({\n                                                name: componentName,\n                                                serializedPayload: _crossDomainSerialize.serializedData\n                                            });\n                                        }\n                                    }({\n                                        componentName: options.name,\n                                        parentComponentWindow: parentComponentWindow\n                                    });\n                                    lib_global_getGlobal(window).exports = options.exports({\n                                        getExports: function() {\n                                            return exportsPromise;\n                                        }\n                                    });\n                                    !function(allowedParentDomains, domain) {\n                                        if (!matchDomain(allowedParentDomains, domain)) throw new Error(\"Can not be rendered by domain: \" + domain);\n                                    }(allowedParentDomains, parentDomain);\n                                    markWindowKnown(parentComponentWindow);\n                                    !function() {\n                                        window.addEventListener(\"beforeunload\", (function() {\n                                            checkClose.fireAndForget();\n                                        }));\n                                        window.addEventListener(\"unload\", (function() {\n                                            checkClose.fireAndForget();\n                                        }));\n                                        onCloseWindow(parentComponentWindow, (function() {\n                                            child_destroy();\n                                        }));\n                                    }();\n                                    return parentInit({\n                                        updateProps: updateProps,\n                                        close: child_destroy\n                                    });\n                                })).then((function() {\n                                    return (_autoResize$width = autoResize.width, width = void 0 !== _autoResize$width && _autoResize$width, \n                                    _autoResize$height = autoResize.height, height = void 0 !== _autoResize$height && _autoResize$height, \n                                    _autoResize$element = autoResize.element, elementReady(void 0 === _autoResize$element ? \"body\" : _autoResize$element).catch(src_util_noop).then((function(element) {\n                                        return {\n                                            width: width,\n                                            height: height,\n                                            element: element\n                                        };\n                                    }))).then((function(_ref3) {\n                                        var width = _ref3.width, height = _ref3.height, element = _ref3.element;\n                                        element && (width || height) && context !== CONTEXT.POPUP && onResize(element, (function(_ref4) {\n                                            resize({\n                                                width: width ? _ref4.width : void 0,\n                                                height: height ? _ref4.height : void 0\n                                            });\n                                        }), {\n                                            width: width,\n                                            height: height\n                                        });\n                                    }));\n                                    var _autoResize$width, width, _autoResize$height, height, _autoResize$element;\n                                })).catch((function(err) {\n                                    onError(err);\n                                }));\n                            },\n                            getProps: function() {\n                                if (props) return props;\n                                setProps(initialProps, parentDomain);\n                                return props;\n                            }\n                        };\n                    }(options);\n                    child.init();\n                    return child;\n                }\n            }));\n            registerChild();\n            !function() {\n                var allowDelegateListener = on_on(\"zoid_allow_delegate_\" + name, (function() {\n                    return !0;\n                }));\n                var delegateListener = on_on(\"zoid_delegate_\" + name, (function(_ref2) {\n                    var _ref2$data = _ref2.data;\n                    return {\n                        parent: parentComponent({\n                            uid: _ref2$data.uid,\n                            options: options,\n                            overrides: _ref2$data.overrides,\n                            parentWin: _ref2.source\n                        })\n                    };\n                }));\n                cleanZoid.register(allowDelegateListener.cancel);\n                cleanZoid.register(delegateListener.cancel);\n            }();\n            global.components = global.components || {};\n            if (global.components[tag]) throw new Error(\"Can not register multiple components with the same tag: \" + tag);\n            global.components[tag] = !0;\n            return {\n                init: function init(inputProps) {\n                    var instance;\n                    var uid = \"zoid-\" + tag + \"-\" + uniqueID();\n                    var props = inputProps || {};\n                    var _eligible = eligible({\n                        props: props\n                    }), eligibility = _eligible.eligible, reason = _eligible.reason;\n                    var onDestroy = props.onDestroy;\n                    props.onDestroy = function() {\n                        instance && eligibility && instances.splice(instances.indexOf(instance), 1);\n                        if (onDestroy) return onDestroy.apply(void 0, arguments);\n                    };\n                    var parent = parentComponent({\n                        uid: uid,\n                        options: options\n                    });\n                    parent.init();\n                    eligibility ? parent.setProps(props) : props.onDestroy && props.onDestroy();\n                    cleanInstances.register((function(err) {\n                        return parent.destroy(err || new Error(\"zoid destroyed all components\"));\n                    }));\n                    var clone = function(_temp) {\n                        var _ref4$decorate = (void 0 === _temp ? {} : _temp).decorate;\n                        return init((void 0 === _ref4$decorate ? identity : _ref4$decorate)(props));\n                    };\n                    var _render = function(target, container, context) {\n                        return promise_ZalgoPromise.try((function() {\n                            if (!eligibility) {\n                                var err = new Error(reason || name + \" component is not eligible\");\n                                return parent.destroy(err).then((function() {\n                                    throw err;\n                                }));\n                            }\n                            if (!isWindow(target)) throw new Error(\"Must pass window to renderTo\");\n                            return function(props, context) {\n                                return promise_ZalgoPromise.try((function() {\n                                    if (props.window) return setup_toProxyWindow(props.window).getType();\n                                    if (context) {\n                                        if (context !== CONTEXT.IFRAME && context !== CONTEXT.POPUP) throw new Error(\"Unrecognized context: \" + context);\n                                        return context;\n                                    }\n                                    return defaultContext;\n                                }));\n                            }(props, context);\n                        })).then((function(finalContext) {\n                            container = function(context, container) {\n                                if (container) {\n                                    if (\"string\" != typeof container && !isElement(container)) throw new TypeError(\"Expected string or element selector to be passed\");\n                                    return container;\n                                }\n                                if (context === CONTEXT.POPUP) return \"body\";\n                                throw new Error(\"Expected element to be passed to render iframe\");\n                            }(finalContext, container);\n                            if (target !== window && \"string\" != typeof container) throw new Error(\"Must pass string element when rendering to another window\");\n                            return parent.render({\n                                target: target,\n                                container: container,\n                                context: finalContext,\n                                rerender: function() {\n                                    var newInstance = clone();\n                                    extend(instance, newInstance);\n                                    return newInstance.renderTo(target, container, context);\n                                }\n                            });\n                        })).catch((function(err) {\n                            return parent.destroy(err).then((function() {\n                                throw err;\n                            }));\n                        }));\n                    };\n                    instance = _extends({}, parent.getExports(), parent.getHelpers(), function() {\n                        var childComponents = children();\n                        var result = {};\n                        var _loop2 = function(_i4, _Object$keys4) {\n                            var childName = _Object$keys4[_i4];\n                            var Child = childComponents[childName];\n                            result[childName] = function(childInputProps) {\n                                var parentProps = parent.getProps();\n                                var childProps = _extends({}, childInputProps, {\n                                    parent: {\n                                        uid: uid,\n                                        props: parentProps,\n                                        export: parent.export\n                                    }\n                                });\n                                return Child(childProps);\n                            };\n                        };\n                        for (var _i4 = 0, _Object$keys4 = Object.keys(childComponents); _i4 < _Object$keys4.length; _i4++) _loop2(_i4, _Object$keys4);\n                        return result;\n                    }(), {\n                        isEligible: function() {\n                            return eligibility;\n                        },\n                        clone: clone,\n                        render: function(container, context) {\n                            return _render(window, container, context);\n                        },\n                        renderTo: function(target, container, context) {\n                            return _render(target, container, context);\n                        }\n                    });\n                    eligibility && instances.push(instance);\n                    return instance;\n                },\n                instances: instances,\n                driver: function(driverName, dep) {\n                    throw new Error(\"Driver support not enabled\");\n                },\n                isChild: isChild,\n                canRenderTo: function(win) {\n                    return send_send(win, \"zoid_allow_delegate_\" + name).then((function(_ref3) {\n                        return _ref3.data;\n                    })).catch((function() {\n                        return !1;\n                    }));\n                },\n                registerChild: registerChild\n            };\n        }\n        var component_create = function(options) {\n            !function() {\n                if (!global_getGlobal().initialized) {\n                    global_getGlobal().initialized = !0;\n                    on = (_ref3 = {\n                        on: on_on,\n                        send: send_send\n                    }).on, send = _ref3.send, (global = global_getGlobal()).receiveMessage = global.receiveMessage || function(message) {\n                        return receive_receiveMessage(message, {\n                            on: on,\n                            send: send\n                        });\n                    };\n                    !function(_ref5) {\n                        var on = _ref5.on, send = _ref5.send;\n                        globalStore().getOrSet(\"postMessageListener\", (function() {\n                            return addEventListener(window, \"message\", (function(event) {\n                                !function(event, _ref4) {\n                                    var on = _ref4.on, send = _ref4.send;\n                                    promise_ZalgoPromise.try((function() {\n                                        var source = event.source || event.sourceElement;\n                                        var origin = event.origin || event.originalEvent && event.originalEvent.origin;\n                                        var data = event.data;\n                                        \"null\" === origin && (origin = \"file://\");\n                                        if (source) {\n                                            if (!origin) throw new Error(\"Post message did not have origin domain\");\n                                            receive_receiveMessage({\n                                                source: source,\n                                                origin: origin,\n                                                data: data\n                                            }, {\n                                                on: on,\n                                                send: send\n                                            });\n                                        }\n                                    }));\n                                }(event, {\n                                    on: on,\n                                    send: send\n                                });\n                            }));\n                        }));\n                    }({\n                        on: on_on,\n                        send: send_send\n                    });\n                    !function(_ref8) {\n                        var on = _ref8.on, send = _ref8.send;\n                        globalStore(\"builtinListeners\").getOrSet(\"helloListener\", (function() {\n                            var listener = on(\"postrobot_hello\", {\n                                domain: \"*\"\n                            }, (function(_ref3) {\n                                resolveHelloPromise(_ref3.source, {\n                                    domain: _ref3.origin\n                                });\n                                return {\n                                    instanceID: getInstanceID()\n                                };\n                            }));\n                            var parent = getAncestor();\n                            parent && sayHello(parent, {\n                                send: send\n                            }).catch((function(err) {}));\n                            return listener;\n                        }));\n                    }({\n                        on: on_on,\n                        send: send_send\n                    });\n                }\n                var _ref3, on, send, global;\n            }();\n            var comp = component(options);\n            var init = function(props) {\n                return comp.init(props);\n            };\n            init.driver = function(name, dep) {\n                return comp.driver(name, dep);\n            };\n            init.isChild = function() {\n                return comp.isChild();\n            };\n            init.canRenderTo = function(win) {\n                return comp.canRenderTo(win);\n            };\n            init.instances = comp.instances;\n            var child = comp.registerChild();\n            child && (window.xprops = init.xprops = child.getProps());\n            return init;\n        };\n        function destroyComponents(err) {\n            var destroyPromise = cleanInstances.all(err);\n            cleanInstances = cleanup();\n            return destroyPromise;\n        }\n        var destroyAll = destroyComponents;\n        function component_destroy(err) {\n            destroyAll();\n            delete window.__zoid_9_0_86__;\n            !function() {\n                !function() {\n                    var responseListeners = globalStore(\"responseListeners\");\n                    for (var _i2 = 0, _responseListeners$ke2 = responseListeners.keys(); _i2 < _responseListeners$ke2.length; _i2++) {\n                        var hash = _responseListeners$ke2[_i2];\n                        var listener = responseListeners.get(hash);\n                        listener && (listener.cancelled = !0);\n                        responseListeners.del(hash);\n                    }\n                }();\n                (listener = globalStore().get(\"postMessageListener\")) && listener.cancel();\n                var listener;\n                delete window.__post_robot_10_0_44__;\n            }();\n            return cleanZoid.all(err);\n        }\n    } ]);\n}));","!function(root, factory) {\n    \"object\" == typeof exports && \"object\" == typeof module ? module.exports = factory() : \"function\" == typeof define && define.amd ? define(\"zoid\", [], factory) : \"object\" == typeof exports ? exports.zoid = factory() : root.zoid = factory();\n}(\"undefined\" != typeof self ? self : this, (function() {\n    return function(modules) {\n        var installedModules = {};\n        function __webpack_require__(moduleId) {\n            if (installedModules[moduleId]) return installedModules[moduleId].exports;\n            var module = installedModules[moduleId] = {\n                i: moduleId,\n                l: !1,\n                exports: {}\n            };\n            modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n            module.l = !0;\n            return module.exports;\n        }\n        __webpack_require__.m = modules;\n        __webpack_require__.c = installedModules;\n        __webpack_require__.d = function(exports, name, getter) {\n            __webpack_require__.o(exports, name) || Object.defineProperty(exports, name, {\n                enumerable: !0,\n                get: getter\n            });\n        };\n        __webpack_require__.r = function(exports) {\n            \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(exports, Symbol.toStringTag, {\n                value: \"Module\"\n            });\n            Object.defineProperty(exports, \"__esModule\", {\n                value: !0\n            });\n        };\n        __webpack_require__.t = function(value, mode) {\n            1 & mode && (value = __webpack_require__(value));\n            if (8 & mode) return value;\n            if (4 & mode && \"object\" == typeof value && value && value.__esModule) return value;\n            var ns = Object.create(null);\n            __webpack_require__.r(ns);\n            Object.defineProperty(ns, \"default\", {\n                enumerable: !0,\n                value: value\n            });\n            if (2 & mode && \"string\" != typeof value) for (var key in value) __webpack_require__.d(ns, key, function(key) {\n                return value[key];\n            }.bind(null, key));\n            return ns;\n        };\n        __webpack_require__.n = function(module) {\n            var getter = module && module.__esModule ? function() {\n                return module.default;\n            } : function() {\n                return module;\n            };\n            __webpack_require__.d(getter, \"a\", getter);\n            return getter;\n        };\n        __webpack_require__.o = function(object, property) {\n            return {}.hasOwnProperty.call(object, property);\n        };\n        __webpack_require__.p = \"\";\n        return __webpack_require__(__webpack_require__.s = 0);\n    }([ function(module, __webpack_exports__, __webpack_require__) {\n        \"use strict\";\n        __webpack_require__.r(__webpack_exports__);\n        __webpack_require__.d(__webpack_exports__, \"PopupOpenError\", (function() {\n            return dom_PopupOpenError;\n        }));\n        __webpack_require__.d(__webpack_exports__, \"create\", (function() {\n            return component_create;\n        }));\n        __webpack_require__.d(__webpack_exports__, \"destroy\", (function() {\n            return component_destroy;\n        }));\n        __webpack_require__.d(__webpack_exports__, \"destroyComponents\", (function() {\n            return destroyComponents;\n        }));\n        __webpack_require__.d(__webpack_exports__, \"destroyAll\", (function() {\n            return destroyAll;\n        }));\n        __webpack_require__.d(__webpack_exports__, \"PROP_TYPE\", (function() {\n            return PROP_TYPE;\n        }));\n        __webpack_require__.d(__webpack_exports__, \"PROP_SERIALIZATION\", (function() {\n            return PROP_SERIALIZATION;\n        }));\n        __webpack_require__.d(__webpack_exports__, \"CONTEXT\", (function() {\n            return CONTEXT;\n        }));\n        __webpack_require__.d(__webpack_exports__, \"EVENT\", (function() {\n            return EVENT;\n        }));\n        function _setPrototypeOf(o, p) {\n            return (_setPrototypeOf = Object.setPrototypeOf || function(o, p) {\n                o.__proto__ = p;\n                return o;\n            })(o, p);\n        }\n        function _inheritsLoose(subClass, superClass) {\n            subClass.prototype = Object.create(superClass.prototype);\n            subClass.prototype.constructor = subClass;\n            _setPrototypeOf(subClass, superClass);\n        }\n        function _extends() {\n            return (_extends = Object.assign || function(target) {\n                for (var i = 1; i < arguments.length; i++) {\n                    var source = arguments[i];\n                    for (var key in source) ({}).hasOwnProperty.call(source, key) && (target[key] = source[key]);\n                }\n                return target;\n            }).apply(this, arguments);\n        }\n        function utils_isPromise(item) {\n            try {\n                if (!item) return !1;\n                if (\"undefined\" != typeof Promise && item instanceof Promise) return !0;\n                if (\"undefined\" != typeof window && \"function\" == typeof window.Window && item instanceof window.Window) return !1;\n                if (\"undefined\" != typeof window && \"function\" == typeof window.constructor && item instanceof window.constructor) return !1;\n                var _toString = {}.toString;\n                if (_toString) {\n                    var name = _toString.call(item);\n                    if (\"[object Window]\" === name || \"[object global]\" === name || \"[object DOMWindow]\" === name) return !1;\n                }\n                if (\"function\" == typeof item.then) return !0;\n            } catch (err) {\n                return !1;\n            }\n            return !1;\n        }\n        var dispatchedErrors = [];\n        var possiblyUnhandledPromiseHandlers = [];\n        var activeCount = 0;\n        var flushPromise;\n        function flushActive() {\n            if (!activeCount && flushPromise) {\n                var promise = flushPromise;\n                flushPromise = null;\n                promise.resolve();\n            }\n        }\n        function startActive() {\n            activeCount += 1;\n        }\n        function endActive() {\n            activeCount -= 1;\n            flushActive();\n        }\n        var promise_ZalgoPromise = function() {\n            function ZalgoPromise(handler) {\n                var _this = this;\n                this.resolved = void 0;\n                this.rejected = void 0;\n                this.errorHandled = void 0;\n                this.value = void 0;\n                this.error = void 0;\n                this.handlers = void 0;\n                this.dispatching = void 0;\n                this.stack = void 0;\n                this.resolved = !1;\n                this.rejected = !1;\n                this.errorHandled = !1;\n                this.handlers = [];\n                if (handler) {\n                    var _result;\n                    var _error;\n                    var resolved = !1;\n                    var rejected = !1;\n                    var isAsync = !1;\n                    startActive();\n                    try {\n                        handler((function(res) {\n                            if (isAsync) _this.resolve(res); else {\n                                resolved = !0;\n                                _result = res;\n                            }\n                        }), (function(err) {\n                            if (isAsync) _this.reject(err); else {\n                                rejected = !0;\n                                _error = err;\n                            }\n                        }));\n                    } catch (err) {\n                        endActive();\n                        this.reject(err);\n                        return;\n                    }\n                    endActive();\n                    isAsync = !0;\n                    resolved ? this.resolve(_result) : rejected && this.reject(_error);\n                }\n            }\n            var _proto = ZalgoPromise.prototype;\n            _proto.resolve = function(result) {\n                if (this.resolved || this.rejected) return this;\n                if (utils_isPromise(result)) throw new Error(\"Can not resolve promise with another promise\");\n                this.resolved = !0;\n                this.value = result;\n                this.dispatch();\n                return this;\n            };\n            _proto.reject = function(error) {\n                var _this2 = this;\n                if (this.resolved || this.rejected) return this;\n                if (utils_isPromise(error)) throw new Error(\"Can not reject promise with another promise\");\n                if (!error) {\n                    var _err = error && \"function\" == typeof error.toString ? error.toString() : {}.toString.call(error);\n                    error = new Error(\"Expected reject to be called with Error, got \" + _err);\n                }\n                this.rejected = !0;\n                this.error = error;\n                this.errorHandled || setTimeout((function() {\n                    _this2.errorHandled || function(err, promise) {\n                        if (-1 === dispatchedErrors.indexOf(err)) {\n                            dispatchedErrors.push(err);\n                            setTimeout((function() {\n                                throw err;\n                            }), 1);\n                            for (var j = 0; j < possiblyUnhandledPromiseHandlers.length; j++) possiblyUnhandledPromiseHandlers[j](err, promise);\n                        }\n                    }(error, _this2);\n                }), 1);\n                this.dispatch();\n                return this;\n            };\n            _proto.asyncReject = function(error) {\n                this.errorHandled = !0;\n                this.reject(error);\n                return this;\n            };\n            _proto.dispatch = function() {\n                var resolved = this.resolved, rejected = this.rejected, handlers = this.handlers;\n                if (!this.dispatching && (resolved || rejected)) {\n                    this.dispatching = !0;\n                    startActive();\n                    var chain = function(firstPromise, secondPromise) {\n                        return firstPromise.then((function(res) {\n                            secondPromise.resolve(res);\n                        }), (function(err) {\n                            secondPromise.reject(err);\n                        }));\n                    };\n                    for (var i = 0; i < handlers.length; i++) {\n                        var _handlers$i = handlers[i], onSuccess = _handlers$i.onSuccess, onError = _handlers$i.onError, promise = _handlers$i.promise;\n                        var _result2 = void 0;\n                        if (resolved) try {\n                            _result2 = onSuccess ? onSuccess(this.value) : this.value;\n                        } catch (err) {\n                            promise.reject(err);\n                            continue;\n                        } else if (rejected) {\n                            if (!onError) {\n                                promise.reject(this.error);\n                                continue;\n                            }\n                            try {\n                                _result2 = onError(this.error);\n                            } catch (err) {\n                                promise.reject(err);\n                                continue;\n                            }\n                        }\n                        if (_result2 instanceof ZalgoPromise && (_result2.resolved || _result2.rejected)) {\n                            var promiseResult = _result2;\n                            promiseResult.resolved ? promise.resolve(promiseResult.value) : promise.reject(promiseResult.error);\n                            promiseResult.errorHandled = !0;\n                        } else utils_isPromise(_result2) ? _result2 instanceof ZalgoPromise && (_result2.resolved || _result2.rejected) ? _result2.resolved ? promise.resolve(_result2.value) : promise.reject(_result2.error) : chain(_result2, promise) : promise.resolve(_result2);\n                    }\n                    handlers.length = 0;\n                    this.dispatching = !1;\n                    endActive();\n                }\n            };\n            _proto.then = function(onSuccess, onError) {\n                if (onSuccess && \"function\" != typeof onSuccess && !onSuccess.call) throw new Error(\"Promise.then expected a function for success handler\");\n                if (onError && \"function\" != typeof onError && !onError.call) throw new Error(\"Promise.then expected a function for error handler\");\n                var promise = new ZalgoPromise;\n                this.handlers.push({\n                    promise: promise,\n                    onSuccess: onSuccess,\n                    onError: onError\n                });\n                this.errorHandled = !0;\n                this.dispatch();\n                return promise;\n            };\n            _proto.catch = function(onError) {\n                return this.then(void 0, onError);\n            };\n            _proto.finally = function(onFinally) {\n                if (onFinally && \"function\" != typeof onFinally && !onFinally.call) throw new Error(\"Promise.finally expected a function\");\n                return this.then((function(result) {\n                    return ZalgoPromise.try(onFinally).then((function() {\n                        return result;\n                    }));\n                }), (function(err) {\n                    return ZalgoPromise.try(onFinally).then((function() {\n                        throw err;\n                    }));\n                }));\n            };\n            _proto.timeout = function(time, err) {\n                var _this3 = this;\n                if (this.resolved || this.rejected) return this;\n                var timeout = setTimeout((function() {\n                    _this3.resolved || _this3.rejected || _this3.reject(err || new Error(\"Promise timed out after \" + time + \"ms\"));\n                }), time);\n                return this.then((function(result) {\n                    clearTimeout(timeout);\n                    return result;\n                }));\n            };\n            _proto.toPromise = function() {\n                if (\"undefined\" == typeof Promise) throw new TypeError(\"Could not find Promise\");\n                return Promise.resolve(this);\n            };\n            _proto.lazy = function() {\n                this.errorHandled = !0;\n                return this;\n            };\n            ZalgoPromise.resolve = function(value) {\n                return value instanceof ZalgoPromise ? value : utils_isPromise(value) ? new ZalgoPromise((function(resolve, reject) {\n                    return value.then(resolve, reject);\n                })) : (new ZalgoPromise).resolve(value);\n            };\n            ZalgoPromise.reject = function(error) {\n                return (new ZalgoPromise).reject(error);\n            };\n            ZalgoPromise.asyncReject = function(error) {\n                return (new ZalgoPromise).asyncReject(error);\n            };\n            ZalgoPromise.all = function(promises) {\n                var promise = new ZalgoPromise;\n                var count = promises.length;\n                var results = [].slice();\n                if (!count) {\n                    promise.resolve(results);\n                    return promise;\n                }\n                var chain = function(i, firstPromise, secondPromise) {\n                    return firstPromise.then((function(res) {\n                        results[i] = res;\n                        0 == (count -= 1) && promise.resolve(results);\n                    }), (function(err) {\n                        secondPromise.reject(err);\n                    }));\n                };\n                for (var i = 0; i < promises.length; i++) {\n                    var prom = promises[i];\n                    if (prom instanceof ZalgoPromise) {\n                        if (prom.resolved) {\n                            results[i] = prom.value;\n                            count -= 1;\n                            continue;\n                        }\n                    } else if (!utils_isPromise(prom)) {\n                        results[i] = prom;\n                        count -= 1;\n                        continue;\n                    }\n                    chain(i, ZalgoPromise.resolve(prom), promise);\n                }\n                0 === count && promise.resolve(results);\n                return promise;\n            };\n            ZalgoPromise.hash = function(promises) {\n                var result = {};\n                var awaitPromises = [];\n                var _loop = function(key) {\n                    if (promises.hasOwnProperty(key)) {\n                        var value = promises[key];\n                        utils_isPromise(value) ? awaitPromises.push(value.then((function(res) {\n                            result[key] = res;\n                        }))) : result[key] = value;\n                    }\n                };\n                for (var key in promises) _loop(key);\n                return ZalgoPromise.all(awaitPromises).then((function() {\n                    return result;\n                }));\n            };\n            ZalgoPromise.map = function(items, method) {\n                return ZalgoPromise.all(items.map(method));\n            };\n            ZalgoPromise.onPossiblyUnhandledException = function(handler) {\n                return function(handler) {\n                    possiblyUnhandledPromiseHandlers.push(handler);\n                    return {\n                        cancel: function() {\n                            possiblyUnhandledPromiseHandlers.splice(possiblyUnhandledPromiseHandlers.indexOf(handler), 1);\n                        }\n                    };\n                }(handler);\n            };\n            ZalgoPromise.try = function(method, context, args) {\n                if (method && \"function\" != typeof method && !method.call) throw new Error(\"Promise.try expected a function\");\n                var result;\n                startActive();\n                try {\n                    result = method.apply(context, args || []);\n                } catch (err) {\n                    endActive();\n                    return ZalgoPromise.reject(err);\n                }\n                endActive();\n                return ZalgoPromise.resolve(result);\n            };\n            ZalgoPromise.delay = function(_delay) {\n                return new ZalgoPromise((function(resolve) {\n                    setTimeout(resolve, _delay);\n                }));\n            };\n            ZalgoPromise.isPromise = function(value) {\n                return !!(value && value instanceof ZalgoPromise) || utils_isPromise(value);\n            };\n            ZalgoPromise.flush = function() {\n                return function(Zalgo) {\n                    var promise = flushPromise = flushPromise || new Zalgo;\n                    flushActive();\n                    return promise;\n                }(ZalgoPromise);\n            };\n            return ZalgoPromise;\n        }();\n        function isRegex(item) {\n            return \"[object RegExp]\" === {}.toString.call(item);\n        }\n        var WINDOW_TYPE = {\n            IFRAME: \"iframe\",\n            POPUP: \"popup\"\n        };\n        var IE_WIN_ACCESS_ERROR = \"Call was rejected by callee.\\r\\n\";\n        function getActualProtocol(win) {\n            void 0 === win && (win = window);\n            return win.location.protocol;\n        }\n        function getProtocol(win) {\n            void 0 === win && (win = window);\n            if (win.mockDomain) {\n                var protocol = win.mockDomain.split(\"//\")[0];\n                if (protocol) return protocol;\n            }\n            return getActualProtocol(win);\n        }\n        function isAboutProtocol(win) {\n            void 0 === win && (win = window);\n            return \"about:\" === getProtocol(win);\n        }\n        function utils_getParent(win) {\n            void 0 === win && (win = window);\n            if (win) try {\n                if (win.parent && win.parent !== win) return win.parent;\n            } catch (err) {}\n        }\n        function getOpener(win) {\n            void 0 === win && (win = window);\n            if (win && !utils_getParent(win)) try {\n                return win.opener;\n            } catch (err) {}\n        }\n        function canReadFromWindow(win) {\n            try {\n                return !0;\n            } catch (err) {}\n            return !1;\n        }\n        function getActualDomain(win) {\n            void 0 === win && (win = window);\n            var location = win.location;\n            if (!location) throw new Error(\"Can not read window location\");\n            var protocol = getActualProtocol(win);\n            if (!protocol) throw new Error(\"Can not read window protocol\");\n            if (\"file:\" === protocol) return \"file://\";\n            if (\"about:\" === protocol) {\n                var parent = utils_getParent(win);\n                return parent && canReadFromWindow() ? getActualDomain(parent) : \"about://\";\n            }\n            var host = location.host;\n            if (!host) throw new Error(\"Can not read window host\");\n            return protocol + \"//\" + host;\n        }\n        function getDomain(win) {\n            void 0 === win && (win = window);\n            var domain = getActualDomain(win);\n            return domain && win.mockDomain && 0 === win.mockDomain.indexOf(\"mock:\") ? win.mockDomain : domain;\n        }\n        function isSameDomain(win) {\n            if (!function(win) {\n                try {\n                    if (win === window) return !0;\n                } catch (err) {}\n                try {\n                    var desc = Object.getOwnPropertyDescriptor(win, \"location\");\n                    if (desc && !1 === desc.enumerable) return !1;\n                } catch (err) {}\n                try {\n                    if (isAboutProtocol(win) && canReadFromWindow()) return !0;\n                } catch (err) {}\n                try {\n                    if (function(win) {\n                        void 0 === win && (win = window);\n                        return \"mock:\" === getProtocol(win);\n                    }(win) && canReadFromWindow()) return !0;\n                } catch (err) {}\n                try {\n                    if (getActualDomain(win) === getActualDomain(window)) return !0;\n                } catch (err) {}\n                return !1;\n            }(win)) return !1;\n            try {\n                if (win === window) return !0;\n                if (isAboutProtocol(win) && canReadFromWindow()) return !0;\n                if (getDomain(window) === getDomain(win)) return !0;\n            } catch (err) {}\n            return !1;\n        }\n        function assertSameDomain(win) {\n            if (!isSameDomain(win)) throw new Error(\"Expected window to be same domain\");\n            return win;\n        }\n        function isAncestorParent(parent, child) {\n            if (!parent || !child) return !1;\n            var childParent = utils_getParent(child);\n            return childParent ? childParent === parent : -1 !== function(win) {\n                var result = [];\n                try {\n                    for (;win.parent !== win; ) {\n                        result.push(win.parent);\n                        win = win.parent;\n                    }\n                } catch (err) {}\n                return result;\n            }(child).indexOf(parent);\n        }\n        function getFrames(win) {\n            var result = [];\n            var frames;\n            try {\n                frames = win.frames;\n            } catch (err) {\n                frames = win;\n            }\n            var len;\n            try {\n                len = frames.length;\n            } catch (err) {}\n            if (0 === len) return result;\n            if (len) {\n                for (var i = 0; i < len; i++) {\n                    var frame = void 0;\n                    try {\n                        frame = frames[i];\n                    } catch (err) {\n                        continue;\n                    }\n                    result.push(frame);\n                }\n                return result;\n            }\n            for (var _i = 0; _i < 100; _i++) {\n                var _frame = void 0;\n                try {\n                    _frame = frames[_i];\n                } catch (err) {\n                    return result;\n                }\n                if (!_frame) return result;\n                result.push(_frame);\n            }\n            return result;\n        }\n        function getAllChildFrames(win) {\n            var result = [];\n            for (var _i3 = 0, _getFrames2 = getFrames(win); _i3 < _getFrames2.length; _i3++) {\n                var frame = _getFrames2[_i3];\n                result.push(frame);\n                for (var _i5 = 0, _getAllChildFrames2 = getAllChildFrames(frame); _i5 < _getAllChildFrames2.length; _i5++) result.push(_getAllChildFrames2[_i5]);\n            }\n            return result;\n        }\n        function getTop(win) {\n            void 0 === win && (win = window);\n            try {\n                if (win.top) return win.top;\n            } catch (err) {}\n            if (utils_getParent(win) === win) return win;\n            try {\n                if (isAncestorParent(window, win) && window.top) return window.top;\n            } catch (err) {}\n            try {\n                if (isAncestorParent(win, window) && window.top) return window.top;\n            } catch (err) {}\n            for (var _i7 = 0, _getAllChildFrames4 = getAllChildFrames(win); _i7 < _getAllChildFrames4.length; _i7++) {\n                var frame = _getAllChildFrames4[_i7];\n                try {\n                    if (frame.top) return frame.top;\n                } catch (err) {}\n                if (utils_getParent(frame) === frame) return frame;\n            }\n        }\n        function getAllFramesInWindow(win) {\n            var top = getTop(win);\n            if (!top) throw new Error(\"Can not determine top window\");\n            var result = [].concat(getAllChildFrames(top), [ top ]);\n            -1 === result.indexOf(win) && (result = [].concat(result, [ win ], getAllChildFrames(win)));\n            return result;\n        }\n        var iframeWindows = [];\n        var iframeFrames = [];\n        function isWindowClosed(win, allowMock) {\n            void 0 === allowMock && (allowMock = !0);\n            try {\n                if (win === window) return !1;\n            } catch (err) {\n                return !0;\n            }\n            try {\n                if (!win) return !0;\n            } catch (err) {\n                return !0;\n            }\n            try {\n                if (win.closed) return !0;\n            } catch (err) {\n                return !err || err.message !== IE_WIN_ACCESS_ERROR;\n            }\n            if (allowMock && isSameDomain(win)) try {\n                if (win.mockclosed) return !0;\n            } catch (err) {}\n            try {\n                if (!win.parent || !win.top) return !0;\n            } catch (err) {}\n            var iframeIndex = function(collection, item) {\n                for (var i = 0; i < collection.length; i++) try {\n                    if (collection[i] === item) return i;\n                } catch (err) {}\n                return -1;\n            }(iframeWindows, win);\n            if (-1 !== iframeIndex) {\n                var frame = iframeFrames[iframeIndex];\n                if (frame && function(frame) {\n                    if (!frame.contentWindow) return !0;\n                    if (!frame.parentNode) return !0;\n                    var doc = frame.ownerDocument;\n                    if (doc && doc.documentElement && !doc.documentElement.contains(frame)) {\n                        var parent = frame;\n                        for (;parent.parentNode && parent.parentNode !== parent; ) parent = parent.parentNode;\n                        if (!parent.host || !doc.documentElement.contains(parent.host)) return !0;\n                    }\n                    return !1;\n                }(frame)) return !0;\n            }\n            return !1;\n        }\n        function utils_getUserAgent(win) {\n            return (win = win || window).navigator.mockUserAgent || win.navigator.userAgent;\n        }\n        function getFrameByName(win, name) {\n            var winFrames = getFrames(win);\n            for (var _i9 = 0; _i9 < winFrames.length; _i9++) {\n                var childFrame = winFrames[_i9];\n                try {\n                    if (isSameDomain(childFrame) && childFrame.name === name && -1 !== winFrames.indexOf(childFrame)) return childFrame;\n                } catch (err) {}\n            }\n            try {\n                if (-1 !== winFrames.indexOf(win.frames[name])) return win.frames[name];\n            } catch (err) {}\n            try {\n                if (-1 !== winFrames.indexOf(win[name])) return win[name];\n            } catch (err) {}\n        }\n        function isOpener(parent, child) {\n            return parent === getOpener(child);\n        }\n        function getAncestor(win) {\n            void 0 === win && (win = window);\n            return getOpener(win = win || window) || utils_getParent(win) || void 0;\n        }\n        function anyMatch(collection1, collection2) {\n            for (var _i17 = 0; _i17 < collection1.length; _i17++) {\n                var item1 = collection1[_i17];\n                for (var _i19 = 0; _i19 < collection2.length; _i19++) if (item1 === collection2[_i19]) return !0;\n            }\n            return !1;\n        }\n        function getDistanceFromTop(win) {\n            void 0 === win && (win = window);\n            var distance = 0;\n            var parent = win;\n            for (;parent; ) (parent = utils_getParent(parent)) && (distance += 1);\n            return distance;\n        }\n        function isSameTopWindow(win1, win2) {\n            var top1 = getTop(win1) || win1;\n            var top2 = getTop(win2) || win2;\n            try {\n                if (top1 && top2) return top1 === top2;\n            } catch (err) {}\n            var allFrames1 = getAllFramesInWindow(win1);\n            var allFrames2 = getAllFramesInWindow(win2);\n            if (anyMatch(allFrames1, allFrames2)) return !0;\n            var opener1 = getOpener(top1);\n            var opener2 = getOpener(top2);\n            return opener1 && anyMatch(getAllFramesInWindow(opener1), allFrames2) || opener2 && anyMatch(getAllFramesInWindow(opener2), allFrames1), \n            !1;\n        }\n        function matchDomain(pattern, origin) {\n            if (\"string\" == typeof pattern) {\n                if (\"string\" == typeof origin) return \"*\" === pattern || origin === pattern;\n                if (isRegex(origin)) return !1;\n                if (Array.isArray(origin)) return !1;\n            }\n            return isRegex(pattern) ? isRegex(origin) ? pattern.toString() === origin.toString() : !Array.isArray(origin) && Boolean(origin.match(pattern)) : !!Array.isArray(pattern) && (Array.isArray(origin) ? JSON.stringify(pattern) === JSON.stringify(origin) : !isRegex(origin) && pattern.some((function(subpattern) {\n                return matchDomain(subpattern, origin);\n            })));\n        }\n        function getDomainFromUrl(url) {\n            return url.match(/^(https?|mock|file):\\/\\//) ? url.split(\"/\").slice(0, 3).join(\"/\") : getDomain();\n        }\n        function onCloseWindow(win, callback, delay, maxtime) {\n            void 0 === delay && (delay = 1e3);\n            void 0 === maxtime && (maxtime = 1 / 0);\n            var timeout;\n            !function check() {\n                if (isWindowClosed(win)) {\n                    timeout && clearTimeout(timeout);\n                    return callback();\n                }\n                if (maxtime <= 0) clearTimeout(timeout); else {\n                    maxtime -= delay;\n                    timeout = setTimeout(check, delay);\n                }\n            }();\n            return {\n                cancel: function() {\n                    timeout && clearTimeout(timeout);\n                }\n            };\n        }\n        function isWindow(obj) {\n            try {\n                if (obj === window) return !0;\n            } catch (err) {\n                if (err && err.message === IE_WIN_ACCESS_ERROR) return !0;\n            }\n            try {\n                if (\"[object Window]\" === {}.toString.call(obj)) return !0;\n            } catch (err) {\n                if (err && err.message === IE_WIN_ACCESS_ERROR) return !0;\n            }\n            try {\n                if (window.Window && obj instanceof window.Window) return !0;\n            } catch (err) {\n                if (err && err.message === IE_WIN_ACCESS_ERROR) return !0;\n            }\n            try {\n                if (obj && obj.self === obj) return !0;\n            } catch (err) {\n                if (err && err.message === IE_WIN_ACCESS_ERROR) return !0;\n            }\n            try {\n                if (obj && obj.parent === obj) return !0;\n            } catch (err) {\n                if (err && err.message === IE_WIN_ACCESS_ERROR) return !0;\n            }\n            try {\n                if (obj && obj.top === obj) return !0;\n            } catch (err) {\n                if (err && err.message === IE_WIN_ACCESS_ERROR) return !0;\n            }\n            try {\n                if (obj && \"__unlikely_value__\" === obj.__cross_domain_utils_window_check__) return !1;\n            } catch (err) {\n                return !0;\n            }\n            try {\n                if (\"postMessage\" in obj && \"self\" in obj && \"location\" in obj) return !0;\n            } catch (err) {}\n            return !1;\n        }\n        function normalizeMockUrl(url) {\n            if (!(domain = getDomainFromUrl(url), 0 === domain.indexOf(\"mock:\"))) return url;\n            var domain;\n            throw new Error(\"Mock urls not supported out of test mode\");\n        }\n        function getFrameForWindow(win) {\n            if (isSameDomain(win)) return assertSameDomain(win).frameElement;\n            for (var _i21 = 0, _document$querySelect2 = document.querySelectorAll(\"iframe\"); _i21 < _document$querySelect2.length; _i21++) {\n                var frame = _document$querySelect2[_i21];\n                if (frame && frame.contentWindow && frame.contentWindow === win) return frame;\n            }\n        }\n        function closeWindow(win) {\n            if (function(win) {\n                void 0 === win && (win = window);\n                return Boolean(utils_getParent(win));\n            }(win)) {\n                var frame = getFrameForWindow(win);\n                if (frame && frame.parentElement) {\n                    frame.parentElement.removeChild(frame);\n                    return;\n                }\n            }\n            try {\n                win.close();\n            } catch (err) {}\n        }\n        function util_safeIndexOf(collection, item) {\n            for (var i = 0; i < collection.length; i++) try {\n                if (collection[i] === item) return i;\n            } catch (err) {}\n            return -1;\n        }\n        var weakmap_CrossDomainSafeWeakMap = function() {\n            function CrossDomainSafeWeakMap() {\n                this.name = void 0;\n                this.weakmap = void 0;\n                this.keys = void 0;\n                this.values = void 0;\n                this.name = \"__weakmap_\" + (1e9 * Math.random() >>> 0) + \"__\";\n                if (function() {\n                    if (\"undefined\" == typeof WeakMap) return !1;\n                    if (void 0 === Object.freeze) return !1;\n                    try {\n                        var testWeakMap = new WeakMap;\n                        var testKey = {};\n                        Object.freeze(testKey);\n                        testWeakMap.set(testKey, \"__testvalue__\");\n                        return \"__testvalue__\" === testWeakMap.get(testKey);\n                    } catch (err) {\n                        return !1;\n                    }\n                }()) try {\n                    this.weakmap = new WeakMap;\n                } catch (err) {}\n                this.keys = [];\n                this.values = [];\n            }\n            var _proto = CrossDomainSafeWeakMap.prototype;\n            _proto._cleanupClosedWindows = function() {\n                var weakmap = this.weakmap;\n                var keys = this.keys;\n                for (var i = 0; i < keys.length; i++) {\n                    var value = keys[i];\n                    if (isWindow(value) && isWindowClosed(value)) {\n                        if (weakmap) try {\n                            weakmap.delete(value);\n                        } catch (err) {}\n                        keys.splice(i, 1);\n                        this.values.splice(i, 1);\n                        i -= 1;\n                    }\n                }\n            };\n            _proto.isSafeToReadWrite = function(key) {\n                return !isWindow(key);\n            };\n            _proto.set = function(key, value) {\n                if (!key) throw new Error(\"WeakMap expected key\");\n                var weakmap = this.weakmap;\n                if (weakmap) try {\n                    weakmap.set(key, value);\n                } catch (err) {\n                    delete this.weakmap;\n                }\n                if (this.isSafeToReadWrite(key)) try {\n                    var name = this.name;\n                    var entry = key[name];\n                    entry && entry[0] === key ? entry[1] = value : Object.defineProperty(key, name, {\n                        value: [ key, value ],\n                        writable: !0\n                    });\n                    return;\n                } catch (err) {}\n                this._cleanupClosedWindows();\n                var keys = this.keys;\n                var values = this.values;\n                var index = util_safeIndexOf(keys, key);\n                if (-1 === index) {\n                    keys.push(key);\n                    values.push(value);\n                } else values[index] = value;\n            };\n            _proto.get = function(key) {\n                if (!key) throw new Error(\"WeakMap expected key\");\n                var weakmap = this.weakmap;\n                if (weakmap) try {\n                    if (weakmap.has(key)) return weakmap.get(key);\n                } catch (err) {\n                    delete this.weakmap;\n                }\n                if (this.isSafeToReadWrite(key)) try {\n                    var entry = key[this.name];\n                    return entry && entry[0] === key ? entry[1] : void 0;\n                } catch (err) {}\n                this._cleanupClosedWindows();\n                var index = util_safeIndexOf(this.keys, key);\n                if (-1 !== index) return this.values[index];\n            };\n            _proto.delete = function(key) {\n                if (!key) throw new Error(\"WeakMap expected key\");\n                var weakmap = this.weakmap;\n                if (weakmap) try {\n                    weakmap.delete(key);\n                } catch (err) {\n                    delete this.weakmap;\n                }\n                if (this.isSafeToReadWrite(key)) try {\n                    var entry = key[this.name];\n                    entry && entry[0] === key && (entry[0] = entry[1] = void 0);\n                } catch (err) {}\n                this._cleanupClosedWindows();\n                var keys = this.keys;\n                var index = util_safeIndexOf(keys, key);\n                if (-1 !== index) {\n                    keys.splice(index, 1);\n                    this.values.splice(index, 1);\n                }\n            };\n            _proto.has = function(key) {\n                if (!key) throw new Error(\"WeakMap expected key\");\n                var weakmap = this.weakmap;\n                if (weakmap) try {\n                    if (weakmap.has(key)) return !0;\n                } catch (err) {\n                    delete this.weakmap;\n                }\n                if (this.isSafeToReadWrite(key)) try {\n                    var entry = key[this.name];\n                    return !(!entry || entry[0] !== key);\n                } catch (err) {}\n                this._cleanupClosedWindows();\n                return -1 !== util_safeIndexOf(this.keys, key);\n            };\n            _proto.getOrSet = function(key, getter) {\n                if (this.has(key)) return this.get(key);\n                var value = getter();\n                this.set(key, value);\n                return value;\n            };\n            return CrossDomainSafeWeakMap;\n        }();\n        function _getPrototypeOf(o) {\n            return (_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function(o) {\n                return o.__proto__ || Object.getPrototypeOf(o);\n            })(o);\n        }\n        function _isNativeReflectConstruct() {\n            if (\"undefined\" == typeof Reflect || !Reflect.construct) return !1;\n            if (Reflect.construct.sham) return !1;\n            if (\"function\" == typeof Proxy) return !0;\n            try {\n                Date.prototype.toString.call(Reflect.construct(Date, [], (function() {})));\n                return !0;\n            } catch (e) {\n                return !1;\n            }\n        }\n        function construct_construct(Parent, args, Class) {\n            return (construct_construct = _isNativeReflectConstruct() ? Reflect.construct : function(Parent, args, Class) {\n                var a = [ null ];\n                a.push.apply(a, args);\n                var instance = new (Function.bind.apply(Parent, a));\n                Class && _setPrototypeOf(instance, Class.prototype);\n                return instance;\n            }).apply(null, arguments);\n        }\n        function wrapNativeSuper_wrapNativeSuper(Class) {\n            var _cache = \"function\" == typeof Map ? new Map : void 0;\n            return (wrapNativeSuper_wrapNativeSuper = function(Class) {\n                if (null === Class || !(fn = Class, -1 !== Function.toString.call(fn).indexOf(\"[native code]\"))) return Class;\n                var fn;\n                if (\"function\" != typeof Class) throw new TypeError(\"Super expression must either be null or a function\");\n                if (void 0 !== _cache) {\n                    if (_cache.has(Class)) return _cache.get(Class);\n                    _cache.set(Class, Wrapper);\n                }\n                function Wrapper() {\n                    return construct_construct(Class, arguments, _getPrototypeOf(this).constructor);\n                }\n                Wrapper.prototype = Object.create(Class.prototype, {\n                    constructor: {\n                        value: Wrapper,\n                        enumerable: !1,\n                        writable: !0,\n                        configurable: !0\n                    }\n                });\n                return _setPrototypeOf(Wrapper, Class);\n            })(Class);\n        }\n        function getFunctionName(fn) {\n            return fn.name || fn.__name__ || fn.displayName || \"anonymous\";\n        }\n        function setFunctionName(fn, name) {\n            try {\n                delete fn.name;\n                fn.name = name;\n            } catch (err) {}\n            fn.__name__ = fn.displayName = name;\n            return fn;\n        }\n        function base64encode(str) {\n            if (\"function\" == typeof btoa) return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, (function(m, p1) {\n                return String.fromCharCode(parseInt(p1, 16));\n            }))).replace(/[=]/g, \"\");\n            if (\"undefined\" != typeof Buffer) return Buffer.from(str, \"utf8\").toString(\"base64\").replace(/[=]/g, \"\");\n            throw new Error(\"Can not find window.btoa or Buffer\");\n        }\n        function uniqueID() {\n            var chars = \"0123456789abcdef\";\n            return \"uid_\" + \"xxxxxxxxxx\".replace(/./g, (function() {\n                return chars.charAt(Math.floor(Math.random() * chars.length));\n            })) + \"_\" + base64encode((new Date).toISOString().slice(11, 19).replace(\"T\", \".\")).replace(/[^a-zA-Z0-9]/g, \"\").toLowerCase();\n        }\n        var objectIDs;\n        function serializeArgs(args) {\n            try {\n                return JSON.stringify([].slice.call(args), (function(subkey, val) {\n                    return \"function\" == typeof val ? \"memoize[\" + function(obj) {\n                        objectIDs = objectIDs || new weakmap_CrossDomainSafeWeakMap;\n                        if (null == obj || \"object\" != typeof obj && \"function\" != typeof obj) throw new Error(\"Invalid object\");\n                        var uid = objectIDs.get(obj);\n                        if (!uid) {\n                            uid = typeof obj + \":\" + uniqueID();\n                            objectIDs.set(obj, uid);\n                        }\n                        return uid;\n                    }(val) + \"]\" : val;\n                }));\n            } catch (err) {\n                throw new Error(\"Arguments not serializable -- can not be used to memoize\");\n            }\n        }\n        function getEmptyObject() {\n            return {};\n        }\n        var memoizeGlobalIndex = 0;\n        var memoizeGlobalIndexValidFrom = 0;\n        function memoize(method, options) {\n            void 0 === options && (options = {});\n            var _options$thisNamespac = options.thisNamespace, thisNamespace = void 0 !== _options$thisNamespac && _options$thisNamespac, cacheTime = options.time;\n            var simpleCache;\n            var thisCache;\n            var memoizeIndex = memoizeGlobalIndex;\n            memoizeGlobalIndex += 1;\n            var memoizedFunction = function() {\n                for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) args[_key] = arguments[_key];\n                if (memoizeIndex < memoizeGlobalIndexValidFrom) {\n                    simpleCache = null;\n                    thisCache = null;\n                    memoizeIndex = memoizeGlobalIndex;\n                    memoizeGlobalIndex += 1;\n                }\n                var cache;\n                cache = thisNamespace ? (thisCache = thisCache || new weakmap_CrossDomainSafeWeakMap).getOrSet(this, getEmptyObject) : simpleCache = simpleCache || {};\n                var cacheKey = serializeArgs(args);\n                var cacheResult = cache[cacheKey];\n                if (cacheResult && cacheTime && Date.now() - cacheResult.time < cacheTime) {\n                    delete cache[cacheKey];\n                    cacheResult = null;\n                }\n                if (cacheResult) return cacheResult.value;\n                var time = Date.now();\n                var value = method.apply(this, arguments);\n                cache[cacheKey] = {\n                    time: time,\n                    value: value\n                };\n                return value;\n            };\n            memoizedFunction.reset = function() {\n                simpleCache = null;\n                thisCache = null;\n            };\n            return setFunctionName(memoizedFunction, (options.name || getFunctionName(method)) + \"::memoized\");\n        }\n        memoize.clear = function() {\n            memoizeGlobalIndexValidFrom = memoizeGlobalIndex;\n        };\n        function memoizePromise(method) {\n            var cache = {};\n            function memoizedPromiseFunction() {\n                var _arguments = arguments, _this = this;\n                for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) args[_key2] = arguments[_key2];\n                var key = serializeArgs(args);\n                if (cache.hasOwnProperty(key)) return cache[key];\n                cache[key] = promise_ZalgoPromise.try((function() {\n                    return method.apply(_this, _arguments);\n                })).finally((function() {\n                    delete cache[key];\n                }));\n                return cache[key];\n            }\n            memoizedPromiseFunction.reset = function() {\n                cache = {};\n            };\n            return setFunctionName(memoizedPromiseFunction, getFunctionName(method) + \"::promiseMemoized\");\n        }\n        function src_util_noop() {}\n        function once(method) {\n            var called = !1;\n            return setFunctionName((function() {\n                if (!called) {\n                    called = !0;\n                    return method.apply(this, arguments);\n                }\n            }), getFunctionName(method) + \"::once\");\n        }\n        function stringifyError(err, level) {\n            void 0 === level && (level = 1);\n            if (level >= 3) return \"stringifyError stack overflow\";\n            try {\n                if (!err) return \"<unknown error: \" + {}.toString.call(err) + \">\";\n                if (\"string\" == typeof err) return err;\n                if (err instanceof Error) {\n                    var stack = err && err.stack;\n                    var message = err && err.message;\n                    if (stack && message) return -1 !== stack.indexOf(message) ? stack : message + \"\\n\" + stack;\n                    if (stack) return stack;\n                    if (message) return message;\n                }\n                return err && err.toString && \"function\" == typeof err.toString ? err.toString() : {}.toString.call(err);\n            } catch (newErr) {\n                return \"Error while stringifying error: \" + stringifyError(newErr, level + 1);\n            }\n        }\n        function stringify(item) {\n            return \"string\" == typeof item ? item : item && item.toString && \"function\" == typeof item.toString ? item.toString() : {}.toString.call(item);\n        }\n        function extend(obj, source) {\n            if (!source) return obj;\n            if (Object.assign) return Object.assign(obj, source);\n            for (var key in source) source.hasOwnProperty(key) && (obj[key] = source[key]);\n            return obj;\n        }\n        memoize((function(obj) {\n            if (Object.values) return Object.values(obj);\n            var result = [];\n            for (var key in obj) obj.hasOwnProperty(key) && result.push(obj[key]);\n            return result;\n        }));\n        function identity(item) {\n            return item;\n        }\n        function safeInterval(method, time) {\n            var timeout;\n            !function loop() {\n                timeout = setTimeout((function() {\n                    method();\n                    loop();\n                }), time);\n            }();\n            return {\n                cancel: function() {\n                    clearTimeout(timeout);\n                }\n            };\n        }\n        function arrayFrom(item) {\n            return [].slice.call(item);\n        }\n        function isDefined(value) {\n            return null != value;\n        }\n        function util_isRegex(item) {\n            return \"[object RegExp]\" === {}.toString.call(item);\n        }\n        function util_getOrSet(obj, key, getter) {\n            if (obj.hasOwnProperty(key)) return obj[key];\n            var val = getter();\n            obj[key] = val;\n            return val;\n        }\n        function cleanup(obj) {\n            var tasks = [];\n            var cleaned = !1;\n            var cleanErr;\n            var cleaner = {\n                set: function(name, item) {\n                    if (!cleaned) {\n                        obj[name] = item;\n                        cleaner.register((function() {\n                            delete obj[name];\n                        }));\n                    }\n                    return item;\n                },\n                register: function(method) {\n                    var task = once((function() {\n                        return method(cleanErr);\n                    }));\n                    cleaned ? method(cleanErr) : tasks.push(task);\n                    return {\n                        cancel: function() {\n                            var index = tasks.indexOf(task);\n                            -1 !== index && tasks.splice(index, 1);\n                        }\n                    };\n                },\n                all: function(err) {\n                    cleanErr = err;\n                    var results = [];\n                    cleaned = !0;\n                    for (;tasks.length; ) {\n                        var task = tasks.shift();\n                        results.push(task());\n                    }\n                    return promise_ZalgoPromise.all(results).then(src_util_noop);\n                }\n            };\n            return cleaner;\n        }\n        function assertExists(name, thing) {\n            if (null == thing) throw new Error(\"Expected \" + name + \" to be present\");\n            return thing;\n        }\n        var util_ExtendableError = function(_Error) {\n            _inheritsLoose(ExtendableError, _Error);\n            function ExtendableError(message) {\n                var _this6;\n                (_this6 = _Error.call(this, message) || this).name = _this6.constructor.name;\n                \"function\" == typeof Error.captureStackTrace ? Error.captureStackTrace(function(self) {\n                    if (void 0 === self) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n                    return self;\n                }(_this6), _this6.constructor) : _this6.stack = new Error(message).stack;\n                return _this6;\n            }\n            return ExtendableError;\n        }(wrapNativeSuper_wrapNativeSuper(Error));\n        function getBody() {\n            var body = document.body;\n            if (!body) throw new Error(\"Body element not found\");\n            return body;\n        }\n        function isDocumentReady() {\n            return Boolean(document.body) && \"complete\" === document.readyState;\n        }\n        function isDocumentInteractive() {\n            return Boolean(document.body) && \"interactive\" === document.readyState;\n        }\n        function urlEncode(str) {\n            return encodeURIComponent(str);\n        }\n        memoize((function() {\n            return new promise_ZalgoPromise((function(resolve) {\n                if (isDocumentReady() || isDocumentInteractive()) return resolve();\n                var interval = setInterval((function() {\n                    if (isDocumentReady() || isDocumentInteractive()) {\n                        clearInterval(interval);\n                        return resolve();\n                    }\n                }), 10);\n            }));\n        }));\n        function parseQuery(queryString) {\n            return function(method, logic, args) {\n                void 0 === args && (args = []);\n                var cache = method.__inline_memoize_cache__ = method.__inline_memoize_cache__ || {};\n                var key = serializeArgs(args);\n                return cache.hasOwnProperty(key) ? cache[key] : cache[key] = function() {\n                    var params = {};\n                    if (!queryString) return params;\n                    if (-1 === queryString.indexOf(\"=\")) return params;\n                    for (var _i2 = 0, _queryString$split2 = queryString.split(\"&\"); _i2 < _queryString$split2.length; _i2++) {\n                        var pair = _queryString$split2[_i2];\n                        (pair = pair.split(\"=\"))[0] && pair[1] && (params[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]));\n                    }\n                    return params;\n                }.apply(void 0, args);\n            }(parseQuery, 0, [ queryString ]);\n        }\n        function extendQuery(originalQuery, props) {\n            void 0 === props && (props = {});\n            return props && Object.keys(props).length ? function(obj) {\n                void 0 === obj && (obj = {});\n                return Object.keys(obj).filter((function(key) {\n                    return \"string\" == typeof obj[key] || \"boolean\" == typeof obj[key];\n                })).map((function(key) {\n                    var val = obj[key];\n                    if (\"string\" != typeof val && \"boolean\" != typeof val) throw new TypeError(\"Invalid type for query\");\n                    return urlEncode(key) + \"=\" + urlEncode(val.toString());\n                })).join(\"&\");\n            }(_extends({}, parseQuery(originalQuery), props)) : originalQuery;\n        }\n        function appendChild(container, child) {\n            container.appendChild(child);\n        }\n        function isElement(element) {\n            return element instanceof window.Element || null !== element && \"object\" == typeof element && 1 === element.nodeType && \"object\" == typeof element.style && \"object\" == typeof element.ownerDocument;\n        }\n        function getElementSafe(id, doc) {\n            void 0 === doc && (doc = document);\n            return isElement(id) ? id : \"string\" == typeof id ? doc.querySelector(id) : void 0;\n        }\n        function elementReady(id) {\n            return new promise_ZalgoPromise((function(resolve, reject) {\n                var name = stringify(id);\n                var el = getElementSafe(id);\n                if (el) return resolve(el);\n                if (isDocumentReady()) return reject(new Error(\"Document is ready and element \" + name + \" does not exist\"));\n                var interval = setInterval((function() {\n                    if (el = getElementSafe(id)) {\n                        resolve(el);\n                        clearInterval(interval);\n                    } else if (isDocumentReady()) {\n                        clearInterval(interval);\n                        return reject(new Error(\"Document is ready and element \" + name + \" does not exist\"));\n                    }\n                }), 10);\n            }));\n        }\n        var dom_PopupOpenError = function(_ExtendableError) {\n            _inheritsLoose(PopupOpenError, _ExtendableError);\n            function PopupOpenError() {\n                return _ExtendableError.apply(this, arguments) || this;\n            }\n            return PopupOpenError;\n        }(util_ExtendableError);\n        var awaitFrameLoadPromises;\n        function awaitFrameLoad(frame) {\n            if ((awaitFrameLoadPromises = awaitFrameLoadPromises || new weakmap_CrossDomainSafeWeakMap).has(frame)) {\n                var _promise = awaitFrameLoadPromises.get(frame);\n                if (_promise) return _promise;\n            }\n            var promise = new promise_ZalgoPromise((function(resolve, reject) {\n                frame.addEventListener(\"load\", (function() {\n                    !function(frame) {\n                        !function() {\n                            for (var i = 0; i < iframeWindows.length; i++) {\n                                var closed = !1;\n                                try {\n                                    closed = iframeWindows[i].closed;\n                                } catch (err) {}\n                                if (closed) {\n                                    iframeFrames.splice(i, 1);\n                                    iframeWindows.splice(i, 1);\n                                }\n                            }\n                        }();\n                        if (frame && frame.contentWindow) try {\n                            iframeWindows.push(frame.contentWindow);\n                            iframeFrames.push(frame);\n                        } catch (err) {}\n                    }(frame);\n                    resolve(frame);\n                }));\n                frame.addEventListener(\"error\", (function(err) {\n                    frame.contentWindow ? resolve(frame) : reject(err);\n                }));\n            }));\n            awaitFrameLoadPromises.set(frame, promise);\n            return promise;\n        }\n        function awaitFrameWindow(frame) {\n            return awaitFrameLoad(frame).then((function(loadedFrame) {\n                if (!loadedFrame.contentWindow) throw new Error(\"Could not find window in iframe\");\n                return loadedFrame.contentWindow;\n            }));\n        }\n        function dom_iframe(options, container) {\n            void 0 === options && (options = {});\n            var style = options.style || {};\n            var frame = function(tag, options, container) {\n                void 0 === tag && (tag = \"div\");\n                void 0 === options && (options = {});\n                tag = tag.toLowerCase();\n                var element = document.createElement(tag);\n                options.style && extend(element.style, options.style);\n                options.class && (element.className = options.class.join(\" \"));\n                options.id && element.setAttribute(\"id\", options.id);\n                if (options.attributes) for (var _i10 = 0, _Object$keys2 = Object.keys(options.attributes); _i10 < _Object$keys2.length; _i10++) {\n                    var key = _Object$keys2[_i10];\n                    element.setAttribute(key, options.attributes[key]);\n                }\n                options.styleSheet && function(el, styleText, doc) {\n                    void 0 === doc && (doc = window.document);\n                    el.styleSheet ? el.styleSheet.cssText = styleText : el.appendChild(doc.createTextNode(styleText));\n                }(element, options.styleSheet);\n                if (options.html) {\n                    if (\"iframe\" === tag) throw new Error(\"Iframe html can not be written unless container provided and iframe in DOM\");\n                    element.innerHTML = options.html;\n                }\n                return element;\n            }(\"iframe\", {\n                attributes: _extends({\n                    allowTransparency: \"true\"\n                }, options.attributes || {}),\n                style: _extends({\n                    backgroundColor: \"transparent\",\n                    border: \"none\"\n                }, style),\n                html: options.html,\n                class: options.class\n            });\n            var isIE = window.navigator.userAgent.match(/MSIE|Edge/i);\n            frame.hasAttribute(\"id\") || frame.setAttribute(\"id\", uniqueID());\n            awaitFrameLoad(frame);\n            container && function(id, doc) {\n                void 0 === doc && (doc = document);\n                var element = getElementSafe(id, doc);\n                if (element) return element;\n                throw new Error(\"Can not find element: \" + stringify(id));\n            }(container).appendChild(frame);\n            (options.url || isIE) && frame.setAttribute(\"src\", options.url || \"about:blank\");\n            return frame;\n        }\n        function addEventListener(obj, event, handler) {\n            obj.addEventListener(event, handler);\n            return {\n                cancel: function() {\n                    obj.removeEventListener(event, handler);\n                }\n            };\n        }\n        function showElement(element) {\n            element.style.setProperty(\"display\", \"\");\n        }\n        function hideElement(element) {\n            element.style.setProperty(\"display\", \"none\", \"important\");\n        }\n        function destroyElement(element) {\n            element && element.parentNode && element.parentNode.removeChild(element);\n        }\n        function isElementClosed(el) {\n            return !(el && el.parentNode && el.ownerDocument && el.ownerDocument.documentElement && el.ownerDocument.documentElement.contains(el));\n        }\n        function onResize(el, handler, _temp) {\n            var _ref2 = void 0 === _temp ? {} : _temp, _ref2$width = _ref2.width, width = void 0 === _ref2$width || _ref2$width, _ref2$height = _ref2.height, height = void 0 === _ref2$height || _ref2$height, _ref2$interval = _ref2.interval, interval = void 0 === _ref2$interval ? 100 : _ref2$interval, _ref2$win = _ref2.win, win = void 0 === _ref2$win ? window : _ref2$win;\n            var currentWidth = el.offsetWidth;\n            var currentHeight = el.offsetHeight;\n            var canceled = !1;\n            handler({\n                width: currentWidth,\n                height: currentHeight\n            });\n            var check = function() {\n                if (!canceled && function(el) {\n                    return Boolean(el.offsetWidth || el.offsetHeight || el.getClientRects().length);\n                }(el)) {\n                    var newWidth = el.offsetWidth;\n                    var newHeight = el.offsetHeight;\n                    (width && newWidth !== currentWidth || height && newHeight !== currentHeight) && handler({\n                        width: newWidth,\n                        height: newHeight\n                    });\n                    currentWidth = newWidth;\n                    currentHeight = newHeight;\n                }\n            };\n            var observer;\n            var timeout;\n            win.addEventListener(\"resize\", check);\n            if (void 0 !== win.ResizeObserver) {\n                (observer = new win.ResizeObserver(check)).observe(el);\n                timeout = safeInterval(check, 10 * interval);\n            } else if (void 0 !== win.MutationObserver) {\n                (observer = new win.MutationObserver(check)).observe(el, {\n                    attributes: !0,\n                    childList: !0,\n                    subtree: !0,\n                    characterData: !1\n                });\n                timeout = safeInterval(check, 10 * interval);\n            } else timeout = safeInterval(check, interval);\n            return {\n                cancel: function() {\n                    canceled = !0;\n                    observer.disconnect();\n                    window.removeEventListener(\"resize\", check);\n                    timeout.cancel();\n                }\n            };\n        }\n        function isShadowElement(element) {\n            for (;element.parentNode; ) element = element.parentNode;\n            return \"[object ShadowRoot]\" === element.toString();\n        }\n        var currentScript = \"undefined\" != typeof document ? document.currentScript : null;\n        var getCurrentScript = memoize((function() {\n            if (currentScript) return currentScript;\n            if (currentScript = function() {\n                try {\n                    var stack = function() {\n                        try {\n                            throw new Error(\"_\");\n                        } catch (err) {\n                            return err.stack || \"\";\n                        }\n                    }();\n                    var stackDetails = /.*at [^(]*\\((.*):(.+):(.+)\\)$/gi.exec(stack);\n                    var scriptLocation = stackDetails && stackDetails[1];\n                    if (!scriptLocation) return;\n                    for (var _i22 = 0, _Array$prototype$slic2 = [].slice.call(document.getElementsByTagName(\"script\")).reverse(); _i22 < _Array$prototype$slic2.length; _i22++) {\n                        var script = _Array$prototype$slic2[_i22];\n                        if (script.src && script.src === scriptLocation) return script;\n                    }\n                } catch (err) {}\n            }()) return currentScript;\n            throw new Error(\"Can not determine current script\");\n        }));\n        var currentUID = uniqueID();\n        memoize((function() {\n            var script;\n            try {\n                script = getCurrentScript();\n            } catch (err) {\n                return currentUID;\n            }\n            var uid = script.getAttribute(\"data-uid\");\n            if (uid && \"string\" == typeof uid) return uid;\n            if ((uid = script.getAttribute(\"data-uid-auto\")) && \"string\" == typeof uid) return uid;\n            if (script.src) {\n                var hashedString = function(str) {\n                    var hash = \"\";\n                    for (var i = 0; i < str.length; i++) {\n                        var total = str[i].charCodeAt(0) * i;\n                        str[i + 1] && (total += str[i + 1].charCodeAt(0) * (i - 1));\n                        hash += String.fromCharCode(97 + Math.abs(total) % 26);\n                    }\n                    return hash;\n                }(JSON.stringify({\n                    src: script.src,\n                    dataset: script.dataset\n                }));\n                uid = \"uid_\" + hashedString.slice(hashedString.length - 30);\n            } else uid = uniqueID();\n            script.setAttribute(\"data-uid-auto\", uid);\n            return uid;\n        }));\n        function isPerc(str) {\n            return \"string\" == typeof str && /^[0-9]+%$/.test(str);\n        }\n        function toNum(val) {\n            if (\"number\" == typeof val) return val;\n            var match = val.match(/^([0-9]+)(px|%)$/);\n            if (!match) throw new Error(\"Could not match css value from \" + val);\n            return parseInt(match[1], 10);\n        }\n        function toPx(val) {\n            return toNum(val) + \"px\";\n        }\n        function toCSS(val) {\n            return \"number\" == typeof val ? toPx(val) : isPerc(val) ? val : toPx(val);\n        }\n        function normalizeDimension(dim, max) {\n            if (\"number\" == typeof dim) return dim;\n            if (isPerc(dim)) return parseInt(max * toNum(dim) / 100, 10);\n            if (\"string\" == typeof (str = dim) && /^[0-9]+px$/.test(str)) return toNum(dim);\n            var str;\n            throw new Error(\"Can not normalize dimension: \" + dim);\n        }\n        function global_getGlobal(win) {\n            void 0 === win && (win = window);\n            var globalKey = \"__post_robot_10_0_44__\";\n            return win !== window ? win[globalKey] : win[globalKey] = win[globalKey] || {};\n        }\n        var getObj = function() {\n            return {};\n        };\n        function globalStore(key, defStore) {\n            void 0 === key && (key = \"store\");\n            void 0 === defStore && (defStore = getObj);\n            return util_getOrSet(global_getGlobal(), key, (function() {\n                var store = defStore();\n                return {\n                    has: function(storeKey) {\n                        return store.hasOwnProperty(storeKey);\n                    },\n                    get: function(storeKey, defVal) {\n                        return store.hasOwnProperty(storeKey) ? store[storeKey] : defVal;\n                    },\n                    set: function(storeKey, val) {\n                        store[storeKey] = val;\n                        return val;\n                    },\n                    del: function(storeKey) {\n                        delete store[storeKey];\n                    },\n                    getOrSet: function(storeKey, getter) {\n                        return util_getOrSet(store, storeKey, getter);\n                    },\n                    reset: function() {\n                        store = defStore();\n                    },\n                    keys: function() {\n                        return Object.keys(store);\n                    }\n                };\n            }));\n        }\n        var WildCard = function() {};\n        function getWildcard() {\n            var global = global_getGlobal();\n            global.WINDOW_WILDCARD = global.WINDOW_WILDCARD || new WildCard;\n            return global.WINDOW_WILDCARD;\n        }\n        function windowStore(key, defStore) {\n            void 0 === key && (key = \"store\");\n            void 0 === defStore && (defStore = getObj);\n            return globalStore(\"windowStore\").getOrSet(key, (function() {\n                var winStore = new weakmap_CrossDomainSafeWeakMap;\n                var getStore = function(win) {\n                    return winStore.getOrSet(win, defStore);\n                };\n                return {\n                    has: function(win) {\n                        return getStore(win).hasOwnProperty(key);\n                    },\n                    get: function(win, defVal) {\n                        var store = getStore(win);\n                        return store.hasOwnProperty(key) ? store[key] : defVal;\n                    },\n                    set: function(win, val) {\n                        getStore(win)[key] = val;\n                        return val;\n                    },\n                    del: function(win) {\n                        delete getStore(win)[key];\n                    },\n                    getOrSet: function(win, getter) {\n                        return util_getOrSet(getStore(win), key, getter);\n                    }\n                };\n            }));\n        }\n        function getInstanceID() {\n            return globalStore(\"instance\").getOrSet(\"instanceID\", uniqueID);\n        }\n        function resolveHelloPromise(win, _ref) {\n            var domain = _ref.domain;\n            var helloPromises = windowStore(\"helloPromises\");\n            var existingPromise = helloPromises.get(win);\n            existingPromise && existingPromise.resolve({\n                domain: domain\n            });\n            var newPromise = promise_ZalgoPromise.resolve({\n                domain: domain\n            });\n            helloPromises.set(win, newPromise);\n            return newPromise;\n        }\n        function sayHello(win, _ref4) {\n            return (0, _ref4.send)(win, \"postrobot_hello\", {\n                instanceID: getInstanceID()\n            }, {\n                domain: \"*\",\n                timeout: -1\n            }).then((function(_ref5) {\n                var origin = _ref5.origin, instanceID = _ref5.data.instanceID;\n                resolveHelloPromise(win, {\n                    domain: origin\n                });\n                return {\n                    win: win,\n                    domain: origin,\n                    instanceID: instanceID\n                };\n            }));\n        }\n        function getWindowInstanceID(win, _ref6) {\n            var send = _ref6.send;\n            return windowStore(\"windowInstanceIDPromises\").getOrSet(win, (function() {\n                return sayHello(win, {\n                    send: send\n                }).then((function(_ref7) {\n                    return _ref7.instanceID;\n                }));\n            }));\n        }\n        function awaitWindowHello(win, timeout, name) {\n            void 0 === timeout && (timeout = 5e3);\n            void 0 === name && (name = \"Window\");\n            var promise = function(win) {\n                return windowStore(\"helloPromises\").getOrSet(win, (function() {\n                    return new promise_ZalgoPromise;\n                }));\n            }(win);\n            -1 !== timeout && (promise = promise.timeout(timeout, new Error(name + \" did not load after \" + timeout + \"ms\")));\n            return promise;\n        }\n        function markWindowKnown(win) {\n            windowStore(\"knownWindows\").set(win, !0);\n        }\n        function isSerializedType(item) {\n            return \"object\" == typeof item && null !== item && \"string\" == typeof item.__type__;\n        }\n        function determineType(val) {\n            return void 0 === val ? \"undefined\" : null === val ? \"null\" : Array.isArray(val) ? \"array\" : \"function\" == typeof val ? \"function\" : \"object\" == typeof val ? val instanceof Error ? \"error\" : \"function\" == typeof val.then ? \"promise\" : \"[object RegExp]\" === {}.toString.call(val) ? \"regex\" : \"[object Date]\" === {}.toString.call(val) ? \"date\" : \"object\" : \"string\" == typeof val ? \"string\" : \"number\" == typeof val ? \"number\" : \"boolean\" == typeof val ? \"boolean\" : void 0;\n        }\n        function serializeType(type, val) {\n            return {\n                __type__: type,\n                __val__: val\n            };\n        }\n        var _SERIALIZER;\n        var SERIALIZER = ((_SERIALIZER = {}).function = function() {}, _SERIALIZER.error = function(_ref) {\n            return serializeType(\"error\", {\n                message: _ref.message,\n                stack: _ref.stack,\n                code: _ref.code,\n                data: _ref.data\n            });\n        }, _SERIALIZER.promise = function() {}, _SERIALIZER.regex = function(val) {\n            return serializeType(\"regex\", val.source);\n        }, _SERIALIZER.date = function(val) {\n            return serializeType(\"date\", val.toJSON());\n        }, _SERIALIZER.array = function(val) {\n            return val;\n        }, _SERIALIZER.object = function(val) {\n            return val;\n        }, _SERIALIZER.string = function(val) {\n            return val;\n        }, _SERIALIZER.number = function(val) {\n            return val;\n        }, _SERIALIZER.boolean = function(val) {\n            return val;\n        }, _SERIALIZER.null = function(val) {\n            return val;\n        }, _SERIALIZER[void 0] = function(val) {\n            return serializeType(\"undefined\", val);\n        }, _SERIALIZER);\n        var defaultSerializers = {};\n        var _DESERIALIZER;\n        var DESERIALIZER = ((_DESERIALIZER = {}).function = function() {\n            throw new Error(\"Function serialization is not implemented; nothing to deserialize\");\n        }, _DESERIALIZER.error = function(_ref2) {\n            var stack = _ref2.stack, code = _ref2.code, data = _ref2.data;\n            var error = new Error(_ref2.message);\n            error.code = code;\n            data && (error.data = data);\n            error.stack = stack + \"\\n\\n\" + error.stack;\n            return error;\n        }, _DESERIALIZER.promise = function() {\n            throw new Error(\"Promise serialization is not implemented; nothing to deserialize\");\n        }, _DESERIALIZER.regex = function(val) {\n            return new RegExp(val);\n        }, _DESERIALIZER.date = function(val) {\n            return new Date(val);\n        }, _DESERIALIZER.array = function(val) {\n            return val;\n        }, _DESERIALIZER.object = function(val) {\n            return val;\n        }, _DESERIALIZER.string = function(val) {\n            return val;\n        }, _DESERIALIZER.number = function(val) {\n            return val;\n        }, _DESERIALIZER.boolean = function(val) {\n            return val;\n        }, _DESERIALIZER.null = function(val) {\n            return val;\n        }, _DESERIALIZER[void 0] = function() {}, _DESERIALIZER);\n        var defaultDeserializers = {};\n        function needsBridgeForBrowser() {\n            return !!utils_getUserAgent(window).match(/MSIE|trident|edge\\/12|edge\\/13/i);\n        }\n        function needsBridgeForWin(win) {\n            return !isSameTopWindow(window, win);\n        }\n        function needsBridgeForDomain(domain, win) {\n            if (domain) {\n                if (getDomain() !== getDomainFromUrl(domain)) return !0;\n            } else if (win && !isSameDomain(win)) return !0;\n            return !1;\n        }\n        function needsBridge(_ref) {\n            var win = _ref.win, domain = _ref.domain;\n            return !(!needsBridgeForBrowser() || domain && !needsBridgeForDomain(domain, win) || win && !needsBridgeForWin(win));\n        }\n        function getBridgeName(domain) {\n            return \"__postrobot_bridge___\" + (domain = domain || getDomainFromUrl(domain)).replace(/[^a-zA-Z0-9]+/g, \"_\");\n        }\n        function isBridge() {\n            return Boolean(window.name && window.name === getBridgeName(getDomain()));\n        }\n        var documentBodyReady = new promise_ZalgoPromise((function(resolve) {\n            if (window.document && window.document.body) return resolve(window.document.body);\n            var interval = setInterval((function() {\n                if (window.document && window.document.body) {\n                    clearInterval(interval);\n                    return resolve(window.document.body);\n                }\n            }), 10);\n        }));\n        function registerRemoteWindow(win) {\n            windowStore(\"remoteWindowPromises\").getOrSet(win, (function() {\n                return new promise_ZalgoPromise;\n            }));\n        }\n        function findRemoteWindow(win) {\n            var remoteWinPromise = windowStore(\"remoteWindowPromises\").get(win);\n            if (!remoteWinPromise) throw new Error(\"Remote window promise not found\");\n            return remoteWinPromise;\n        }\n        function registerRemoteSendMessage(win, domain, sendMessage) {\n            findRemoteWindow(win).resolve((function(remoteWin, remoteDomain, message) {\n                if (remoteWin !== win) throw new Error(\"Remote window does not match window\");\n                if (!matchDomain(remoteDomain, domain)) throw new Error(\"Remote domain \" + remoteDomain + \" does not match domain \" + domain);\n                sendMessage.fireAndForget(message);\n            }));\n        }\n        function rejectRemoteSendMessage(win, err) {\n            findRemoteWindow(win).reject(err).catch(src_util_noop);\n        }\n        function linkWindow(_ref3) {\n            var win = _ref3.win, name = _ref3.name, domain = _ref3.domain;\n            var popupWindowsByName = globalStore(\"popupWindowsByName\");\n            var popupWindowsByWin = windowStore(\"popupWindowsByWin\");\n            for (var _i2 = 0, _popupWindowsByName$k2 = popupWindowsByName.keys(); _i2 < _popupWindowsByName$k2.length; _i2++) {\n                var winName = _popupWindowsByName$k2[_i2];\n                var _details = popupWindowsByName.get(winName);\n                _details && !isWindowClosed(_details.win) || popupWindowsByName.del(winName);\n            }\n            if (isWindowClosed(win)) return {\n                win: win,\n                name: name,\n                domain: domain\n            };\n            var details = popupWindowsByWin.getOrSet(win, (function() {\n                return name ? popupWindowsByName.getOrSet(name, (function() {\n                    return {\n                        win: win,\n                        name: name\n                    };\n                })) : {\n                    win: win\n                };\n            }));\n            if (details.win && details.win !== win) throw new Error(\"Different window already linked for window: \" + (name || \"undefined\"));\n            if (name) {\n                details.name = name;\n                popupWindowsByName.set(name, details);\n            }\n            if (domain) {\n                details.domain = domain;\n                registerRemoteWindow(win);\n            }\n            popupWindowsByWin.set(win, details);\n            return details;\n        }\n        function setupBridge(_ref) {\n            var on = _ref.on, send = _ref.send, receiveMessage = _ref.receiveMessage;\n            windowOpen = window.open, window.open = function(url, name, options, last) {\n                var win = windowOpen.call(this, normalizeMockUrl(url), name, options, last);\n                if (!win) return win;\n                linkWindow({\n                    win: win,\n                    name: name,\n                    domain: url ? getDomainFromUrl(url) : null\n                });\n                return win;\n            };\n            var windowOpen;\n            !function(_ref) {\n                var on = _ref.on, send = _ref.send, receiveMessage = _ref.receiveMessage;\n                var popupWindowsByName = globalStore(\"popupWindowsByName\");\n                on(\"postrobot_open_tunnel\", (function(_ref2) {\n                    var source = _ref2.source, origin = _ref2.origin, data = _ref2.data;\n                    var bridgePromise = globalStore(\"bridges\").get(origin);\n                    if (!bridgePromise) throw new Error(\"Can not find bridge promise for domain \" + origin);\n                    return bridgePromise.then((function(bridge) {\n                        if (source !== bridge) throw new Error(\"Message source does not matched registered bridge for domain \" + origin);\n                        if (!data.name) throw new Error(\"Register window expected to be passed window name\");\n                        if (!data.sendMessage) throw new Error(\"Register window expected to be passed sendMessage method\");\n                        if (!popupWindowsByName.has(data.name)) throw new Error(\"Window with name \" + data.name + \" does not exist, or was not opened by this window\");\n                        var getWindowDetails = function() {\n                            return popupWindowsByName.get(data.name);\n                        };\n                        if (!getWindowDetails().domain) throw new Error(\"We do not have a registered domain for window \" + data.name);\n                        if (getWindowDetails().domain !== origin) throw new Error(\"Message origin \" + origin + \" does not matched registered window origin \" + (getWindowDetails().domain || \"unknown\"));\n                        registerRemoteSendMessage(getWindowDetails().win, origin, data.sendMessage);\n                        return {\n                            sendMessage: function(message) {\n                                if (window && !window.closed && getWindowDetails()) {\n                                    var domain = getWindowDetails().domain;\n                                    if (domain) try {\n                                        receiveMessage({\n                                            data: message,\n                                            origin: domain,\n                                            source: getWindowDetails().win\n                                        }, {\n                                            on: on,\n                                            send: send\n                                        });\n                                    } catch (err) {\n                                        promise_ZalgoPromise.reject(err);\n                                    }\n                                }\n                            }\n                        };\n                    }));\n                }));\n            }({\n                on: on,\n                send: send,\n                receiveMessage: receiveMessage\n            });\n            !function(_ref2) {\n                var send = _ref2.send;\n                global_getGlobal(window).openTunnelToParent = function(_ref3) {\n                    var name = _ref3.name, source = _ref3.source, canary = _ref3.canary, sendMessage = _ref3.sendMessage;\n                    var tunnelWindows = globalStore(\"tunnelWindows\");\n                    var parentWindow = utils_getParent(window);\n                    if (!parentWindow) throw new Error(\"No parent window found to open tunnel to\");\n                    var id = function(_ref) {\n                        var name = _ref.name, source = _ref.source, canary = _ref.canary, sendMessage = _ref.sendMessage;\n                        !function() {\n                            var tunnelWindows = globalStore(\"tunnelWindows\");\n                            for (var _i2 = 0, _tunnelWindows$keys2 = tunnelWindows.keys(); _i2 < _tunnelWindows$keys2.length; _i2++) {\n                                var key = _tunnelWindows$keys2[_i2];\n                                isWindowClosed(tunnelWindows[key].source) && tunnelWindows.del(key);\n                            }\n                        }();\n                        var id = uniqueID();\n                        globalStore(\"tunnelWindows\").set(id, {\n                            name: name,\n                            source: source,\n                            canary: canary,\n                            sendMessage: sendMessage\n                        });\n                        return id;\n                    }({\n                        name: name,\n                        source: source,\n                        canary: canary,\n                        sendMessage: sendMessage\n                    });\n                    return send(parentWindow, \"postrobot_open_tunnel\", {\n                        name: name,\n                        sendMessage: function() {\n                            var tunnelWindow = tunnelWindows.get(id);\n                            if (tunnelWindow && tunnelWindow.source && !isWindowClosed(tunnelWindow.source)) {\n                                try {\n                                    tunnelWindow.canary();\n                                } catch (err) {\n                                    return;\n                                }\n                                tunnelWindow.sendMessage.apply(this, arguments);\n                            }\n                        }\n                    }, {\n                        domain: \"*\"\n                    });\n                };\n            }({\n                send: send\n            });\n            !function(_ref) {\n                var on = _ref.on, send = _ref.send, receiveMessage = _ref.receiveMessage;\n                promise_ZalgoPromise.try((function() {\n                    var opener = getOpener(window);\n                    if (opener && needsBridge({\n                        win: opener\n                    })) {\n                        registerRemoteWindow(opener);\n                        return (win = opener, windowStore(\"remoteBridgeAwaiters\").getOrSet(win, (function() {\n                            return promise_ZalgoPromise.try((function() {\n                                var frame = getFrameByName(win, getBridgeName(getDomain()));\n                                if (frame) return isSameDomain(frame) && global_getGlobal(assertSameDomain(frame)) ? frame : new promise_ZalgoPromise((function(resolve) {\n                                    var interval;\n                                    var timeout;\n                                    interval = setInterval((function() {\n                                        if (frame && isSameDomain(frame) && global_getGlobal(assertSameDomain(frame))) {\n                                            clearInterval(interval);\n                                            clearTimeout(timeout);\n                                            return resolve(frame);\n                                        }\n                                    }), 100);\n                                    timeout = setTimeout((function() {\n                                        clearInterval(interval);\n                                        return resolve();\n                                    }), 2e3);\n                                }));\n                            }));\n                        }))).then((function(bridge) {\n                            return bridge ? window.name ? global_getGlobal(assertSameDomain(bridge)).openTunnelToParent({\n                                name: window.name,\n                                source: window,\n                                canary: function() {},\n                                sendMessage: function(message) {\n                                    try {\n                                        window;\n                                    } catch (err) {\n                                        return;\n                                    }\n                                    if (window && !window.closed) try {\n                                        receiveMessage({\n                                            data: message,\n                                            origin: this.origin,\n                                            source: this.source\n                                        }, {\n                                            on: on,\n                                            send: send\n                                        });\n                                    } catch (err) {\n                                        promise_ZalgoPromise.reject(err);\n                                    }\n                                }\n                            }).then((function(_ref2) {\n                                var source = _ref2.source, origin = _ref2.origin, data = _ref2.data;\n                                if (source !== opener) throw new Error(\"Source does not match opener\");\n                                registerRemoteSendMessage(source, origin, data.sendMessage);\n                            })).catch((function(err) {\n                                rejectRemoteSendMessage(opener, err);\n                                throw err;\n                            })) : rejectRemoteSendMessage(opener, new Error(\"Can not register with opener: window does not have a name\")) : rejectRemoteSendMessage(opener, new Error(\"Can not register with opener: no bridge found in opener\"));\n                        }));\n                        var win;\n                    }\n                }));\n            }({\n                on: on,\n                send: send,\n                receiveMessage: receiveMessage\n            });\n        }\n        function cleanupProxyWindows() {\n            var idToProxyWindow = globalStore(\"idToProxyWindow\");\n            for (var _i2 = 0, _idToProxyWindow$keys2 = idToProxyWindow.keys(); _i2 < _idToProxyWindow$keys2.length; _i2++) {\n                var id = _idToProxyWindow$keys2[_i2];\n                idToProxyWindow.get(id).shouldClean() && idToProxyWindow.del(id);\n            }\n        }\n        function getSerializedWindow(winPromise, _ref) {\n            var send = _ref.send, _ref$id = _ref.id, id = void 0 === _ref$id ? uniqueID() : _ref$id;\n            var windowNamePromise = winPromise.then((function(win) {\n                if (isSameDomain(win)) return assertSameDomain(win).name;\n            }));\n            var windowTypePromise = winPromise.then((function(window) {\n                if (isWindowClosed(window)) throw new Error(\"Window is closed, can not determine type\");\n                return getOpener(window) ? WINDOW_TYPE.POPUP : WINDOW_TYPE.IFRAME;\n            }));\n            windowNamePromise.catch(src_util_noop);\n            windowTypePromise.catch(src_util_noop);\n            var getName = function() {\n                return winPromise.then((function(win) {\n                    if (!isWindowClosed(win)) return isSameDomain(win) ? assertSameDomain(win).name : windowNamePromise;\n                }));\n            };\n            return {\n                id: id,\n                getType: function() {\n                    return windowTypePromise;\n                },\n                getInstanceID: memoizePromise((function() {\n                    return winPromise.then((function(win) {\n                        return getWindowInstanceID(win, {\n                            send: send\n                        });\n                    }));\n                })),\n                close: function() {\n                    return winPromise.then(closeWindow);\n                },\n                getName: getName,\n                focus: function() {\n                    return winPromise.then((function(win) {\n                        win.focus();\n                    }));\n                },\n                isClosed: function() {\n                    return winPromise.then((function(win) {\n                        return isWindowClosed(win);\n                    }));\n                },\n                setLocation: function(href, opts) {\n                    void 0 === opts && (opts = {});\n                    return winPromise.then((function(win) {\n                        var domain = window.location.protocol + \"//\" + window.location.host;\n                        var _opts$method = opts.method, method = void 0 === _opts$method ? \"get\" : _opts$method, body = opts.body;\n                        if (0 === href.indexOf(\"/\")) href = \"\" + domain + href; else if (!href.match(/^https?:\\/\\//) && 0 !== href.indexOf(domain)) throw new Error(\"Expected url to be http or https url, or absolute path, got \" + JSON.stringify(href));\n                        if (\"post\" === method) return getName().then((function(name) {\n                            if (!name) throw new Error(\"Can not post to window without target name\");\n                            !function(_ref3) {\n                                var url = _ref3.url, target = _ref3.target, body = _ref3.body, _ref3$method = _ref3.method, method = void 0 === _ref3$method ? \"post\" : _ref3$method;\n                                var form = document.createElement(\"form\");\n                                form.setAttribute(\"target\", target);\n                                form.setAttribute(\"method\", method);\n                                form.setAttribute(\"action\", url);\n                                form.style.display = \"none\";\n                                if (body) for (var _i24 = 0, _Object$keys4 = Object.keys(body); _i24 < _Object$keys4.length; _i24++) {\n                                    var _body$key;\n                                    var key = _Object$keys4[_i24];\n                                    var input = document.createElement(\"input\");\n                                    input.setAttribute(\"name\", key);\n                                    input.setAttribute(\"value\", null == (_body$key = body[key]) ? void 0 : _body$key.toString());\n                                    form.appendChild(input);\n                                }\n                                getBody().appendChild(form);\n                                form.submit();\n                                getBody().removeChild(form);\n                            }({\n                                url: href,\n                                target: name,\n                                method: method,\n                                body: body\n                            });\n                        }));\n                        if (\"get\" !== method) throw new Error(\"Unsupported method: \" + method);\n                        if (isSameDomain(win)) try {\n                            if (win.location && \"function\" == typeof win.location.replace) {\n                                win.location.replace(href);\n                                return;\n                            }\n                        } catch (err) {}\n                        win.location = href;\n                    }));\n                },\n                setName: function(name) {\n                    return winPromise.then((function(win) {\n                        linkWindow({\n                            win: win,\n                            name: name\n                        });\n                        var sameDomain = isSameDomain(win);\n                        var frame = getFrameForWindow(win);\n                        if (!sameDomain) throw new Error(\"Can not set name for cross-domain window: \" + name);\n                        assertSameDomain(win).name = name;\n                        frame && frame.setAttribute(\"name\", name);\n                        windowNamePromise = promise_ZalgoPromise.resolve(name);\n                    }));\n                }\n            };\n        }\n        var window_ProxyWindow = function() {\n            function ProxyWindow(_ref2) {\n                var send = _ref2.send, win = _ref2.win, serializedWindow = _ref2.serializedWindow;\n                this.id = void 0;\n                this.isProxyWindow = !0;\n                this.serializedWindow = void 0;\n                this.actualWindow = void 0;\n                this.actualWindowPromise = void 0;\n                this.send = void 0;\n                this.name = void 0;\n                this.actualWindowPromise = new promise_ZalgoPromise;\n                this.serializedWindow = serializedWindow || getSerializedWindow(this.actualWindowPromise, {\n                    send: send\n                });\n                globalStore(\"idToProxyWindow\").set(this.getID(), this);\n                win && this.setWindow(win, {\n                    send: send\n                });\n            }\n            var _proto = ProxyWindow.prototype;\n            _proto.getID = function() {\n                return this.serializedWindow.id;\n            };\n            _proto.getType = function() {\n                return this.serializedWindow.getType();\n            };\n            _proto.isPopup = function() {\n                return this.getType().then((function(type) {\n                    return type === WINDOW_TYPE.POPUP;\n                }));\n            };\n            _proto.setLocation = function(href, opts) {\n                var _this = this;\n                return this.serializedWindow.setLocation(href, opts).then((function() {\n                    return _this;\n                }));\n            };\n            _proto.getName = function() {\n                return this.serializedWindow.getName();\n            };\n            _proto.setName = function(name) {\n                var _this2 = this;\n                return this.serializedWindow.setName(name).then((function() {\n                    return _this2;\n                }));\n            };\n            _proto.close = function() {\n                var _this3 = this;\n                return this.serializedWindow.close().then((function() {\n                    return _this3;\n                }));\n            };\n            _proto.focus = function() {\n                var _this4 = this;\n                var isPopupPromise = this.isPopup();\n                var getNamePromise = this.getName();\n                var reopenPromise = promise_ZalgoPromise.hash({\n                    isPopup: isPopupPromise,\n                    name: getNamePromise\n                }).then((function(_ref3) {\n                    var name = _ref3.name;\n                    _ref3.isPopup && name && window.open(\"\", name);\n                }));\n                var focusPromise = this.serializedWindow.focus();\n                return promise_ZalgoPromise.all([ reopenPromise, focusPromise ]).then((function() {\n                    return _this4;\n                }));\n            };\n            _proto.isClosed = function() {\n                return this.serializedWindow.isClosed();\n            };\n            _proto.getWindow = function() {\n                return this.actualWindow;\n            };\n            _proto.setWindow = function(win, _ref4) {\n                var send = _ref4.send;\n                this.actualWindow = win;\n                this.actualWindowPromise.resolve(this.actualWindow);\n                this.serializedWindow = getSerializedWindow(this.actualWindowPromise, {\n                    send: send,\n                    id: this.getID()\n                });\n                windowStore(\"winToProxyWindow\").set(win, this);\n            };\n            _proto.awaitWindow = function() {\n                return this.actualWindowPromise;\n            };\n            _proto.matchWindow = function(win, _ref5) {\n                var _this5 = this;\n                var send = _ref5.send;\n                return promise_ZalgoPromise.try((function() {\n                    return _this5.actualWindow ? win === _this5.actualWindow : promise_ZalgoPromise.hash({\n                        proxyInstanceID: _this5.getInstanceID(),\n                        knownWindowInstanceID: getWindowInstanceID(win, {\n                            send: send\n                        })\n                    }).then((function(_ref6) {\n                        var match = _ref6.proxyInstanceID === _ref6.knownWindowInstanceID;\n                        match && _this5.setWindow(win, {\n                            send: send\n                        });\n                        return match;\n                    }));\n                }));\n            };\n            _proto.unwrap = function() {\n                return this.actualWindow || this;\n            };\n            _proto.getInstanceID = function() {\n                return this.serializedWindow.getInstanceID();\n            };\n            _proto.shouldClean = function() {\n                return Boolean(this.actualWindow && isWindowClosed(this.actualWindow));\n            };\n            _proto.serialize = function() {\n                return this.serializedWindow;\n            };\n            ProxyWindow.unwrap = function(win) {\n                return ProxyWindow.isProxyWindow(win) ? win.unwrap() : win;\n            };\n            ProxyWindow.serialize = function(win, _ref7) {\n                var send = _ref7.send;\n                cleanupProxyWindows();\n                return ProxyWindow.toProxyWindow(win, {\n                    send: send\n                }).serialize();\n            };\n            ProxyWindow.deserialize = function(serializedWindow, _ref8) {\n                var send = _ref8.send;\n                cleanupProxyWindows();\n                return globalStore(\"idToProxyWindow\").get(serializedWindow.id) || new ProxyWindow({\n                    serializedWindow: serializedWindow,\n                    send: send\n                });\n            };\n            ProxyWindow.isProxyWindow = function(obj) {\n                return Boolean(obj && !isWindow(obj) && obj.isProxyWindow);\n            };\n            ProxyWindow.toProxyWindow = function(win, _ref9) {\n                var send = _ref9.send;\n                cleanupProxyWindows();\n                if (ProxyWindow.isProxyWindow(win)) return win;\n                var actualWindow = win;\n                return windowStore(\"winToProxyWindow\").get(actualWindow) || new ProxyWindow({\n                    win: actualWindow,\n                    send: send\n                });\n            };\n            return ProxyWindow;\n        }();\n        function addMethod(id, val, name, source, domain) {\n            var methodStore = windowStore(\"methodStore\");\n            var proxyWindowMethods = globalStore(\"proxyWindowMethods\");\n            if (window_ProxyWindow.isProxyWindow(source)) proxyWindowMethods.set(id, {\n                val: val,\n                name: name,\n                domain: domain,\n                source: source\n            }); else {\n                proxyWindowMethods.del(id);\n                methodStore.getOrSet(source, (function() {\n                    return {};\n                }))[id] = {\n                    domain: domain,\n                    name: name,\n                    val: val,\n                    source: source\n                };\n            }\n        }\n        function lookupMethod(source, id) {\n            var methodStore = windowStore(\"methodStore\");\n            var proxyWindowMethods = globalStore(\"proxyWindowMethods\");\n            return methodStore.getOrSet(source, (function() {\n                return {};\n            }))[id] || proxyWindowMethods.get(id);\n        }\n        function function_serializeFunction(destination, domain, val, key, _ref3) {\n            on = (_ref = {\n                on: _ref3.on,\n                send: _ref3.send\n            }).on, send = _ref.send, globalStore(\"builtinListeners\").getOrSet(\"functionCalls\", (function() {\n                return on(\"postrobot_method\", {\n                    domain: \"*\"\n                }, (function(_ref2) {\n                    var source = _ref2.source, origin = _ref2.origin, data = _ref2.data;\n                    var id = data.id, name = data.name;\n                    var meth = lookupMethod(source, id);\n                    if (!meth) throw new Error(\"Could not find method '\" + name + \"' with id: \" + data.id + \" in \" + getDomain(window));\n                    var methodSource = meth.source, domain = meth.domain, val = meth.val;\n                    return promise_ZalgoPromise.try((function() {\n                        if (!matchDomain(domain, origin)) throw new Error(\"Method '\" + data.name + \"' domain \" + JSON.stringify(util_isRegex(meth.domain) ? meth.domain.source : meth.domain) + \" does not match origin \" + origin + \" in \" + getDomain(window));\n                        if (window_ProxyWindow.isProxyWindow(methodSource)) return methodSource.matchWindow(source, {\n                            send: send\n                        }).then((function(match) {\n                            if (!match) throw new Error(\"Method call '\" + data.name + \"' failed - proxy window does not match source in \" + getDomain(window));\n                        }));\n                    })).then((function() {\n                        return val.apply({\n                            source: source,\n                            origin: origin\n                        }, data.args);\n                    }), (function(err) {\n                        return promise_ZalgoPromise.try((function() {\n                            if (val.onError) return val.onError(err);\n                        })).then((function() {\n                            err.stack && (err.stack = \"Remote call to \" + name + \"(\" + function(args) {\n                                void 0 === args && (args = []);\n                                return arrayFrom(args).map((function(arg) {\n                                    return \"string\" == typeof arg ? \"'\" + arg + \"'\" : void 0 === arg ? \"undefined\" : null === arg ? \"null\" : \"boolean\" == typeof arg ? arg.toString() : Array.isArray(arg) ? \"[ ... ]\" : \"object\" == typeof arg ? \"{ ... }\" : \"function\" == typeof arg ? \"() => { ... }\" : \"<\" + typeof arg + \">\";\n                                })).join(\", \");\n                            }(data.args) + \") failed\\n\\n\" + err.stack);\n                            throw err;\n                        }));\n                    })).then((function(result) {\n                        return {\n                            result: result,\n                            id: id,\n                            name: name\n                        };\n                    }));\n                }));\n            }));\n            var _ref, on, send;\n            var id = val.__id__ || uniqueID();\n            destination = window_ProxyWindow.unwrap(destination);\n            var name = val.__name__ || val.name || key;\n            \"string\" == typeof name && \"function\" == typeof name.indexOf && 0 === name.indexOf(\"anonymous::\") && (name = name.replace(\"anonymous::\", key + \"::\"));\n            if (window_ProxyWindow.isProxyWindow(destination)) {\n                addMethod(id, val, name, destination, domain);\n                destination.awaitWindow().then((function(win) {\n                    addMethod(id, val, name, win, domain);\n                }));\n            } else addMethod(id, val, name, destination, domain);\n            return serializeType(\"cross_domain_function\", {\n                id: id,\n                name: name\n            });\n        }\n        function serializeMessage(destination, domain, obj, _ref) {\n            var _serialize;\n            var on = _ref.on, send = _ref.send;\n            return function(obj, serializers) {\n                void 0 === serializers && (serializers = defaultSerializers);\n                var result = JSON.stringify(obj, (function(key) {\n                    var val = this[key];\n                    if (isSerializedType(this)) return val;\n                    var type = determineType(val);\n                    if (!type) return val;\n                    var serializer = serializers[type] || SERIALIZER[type];\n                    return serializer ? serializer(val, key) : val;\n                }));\n                return void 0 === result ? \"undefined\" : result;\n            }(obj, ((_serialize = {}).promise = function(val, key) {\n                return function(destination, domain, val, key, _ref) {\n                    return serializeType(\"cross_domain_zalgo_promise\", {\n                        then: function_serializeFunction(destination, domain, (function(resolve, reject) {\n                            return val.then(resolve, reject);\n                        }), key, {\n                            on: _ref.on,\n                            send: _ref.send\n                        })\n                    });\n                }(destination, domain, val, key, {\n                    on: on,\n                    send: send\n                });\n            }, _serialize.function = function(val, key) {\n                return function_serializeFunction(destination, domain, val, key, {\n                    on: on,\n                    send: send\n                });\n            }, _serialize.object = function(val) {\n                return isWindow(val) || window_ProxyWindow.isProxyWindow(val) ? serializeType(\"cross_domain_window\", window_ProxyWindow.serialize(val, {\n                    send: send\n                })) : val;\n            }, _serialize));\n        }\n        function deserializeMessage(source, origin, message, _ref2) {\n            var _deserialize;\n            var send = _ref2.send;\n            return function(str, deserializers) {\n                void 0 === deserializers && (deserializers = defaultDeserializers);\n                if (\"undefined\" !== str) return JSON.parse(str, (function(key, val) {\n                    if (isSerializedType(this)) return val;\n                    var type;\n                    var value;\n                    if (isSerializedType(val)) {\n                        type = val.__type__;\n                        value = val.__val__;\n                    } else {\n                        type = determineType(val);\n                        value = val;\n                    }\n                    if (!type) return value;\n                    var deserializer = deserializers[type] || DESERIALIZER[type];\n                    return deserializer ? deserializer(value, key) : value;\n                }));\n            }(message, ((_deserialize = {}).cross_domain_zalgo_promise = function(serializedPromise) {\n                return function(source, origin, _ref2) {\n                    return new promise_ZalgoPromise(_ref2.then);\n                }(0, 0, serializedPromise);\n            }, _deserialize.cross_domain_function = function(serializedFunction) {\n                return function(source, origin, _ref4, _ref5) {\n                    var id = _ref4.id, name = _ref4.name;\n                    var send = _ref5.send;\n                    var getDeserializedFunction = function(opts) {\n                        void 0 === opts && (opts = {});\n                        function crossDomainFunctionWrapper() {\n                            var _arguments = arguments;\n                            return window_ProxyWindow.toProxyWindow(source, {\n                                send: send\n                            }).awaitWindow().then((function(win) {\n                                var meth = lookupMethod(win, id);\n                                if (meth && meth.val !== crossDomainFunctionWrapper) return meth.val.apply({\n                                    source: window,\n                                    origin: getDomain()\n                                }, _arguments);\n                                var _args = [].slice.call(_arguments);\n                                return opts.fireAndForget ? send(win, \"postrobot_method\", {\n                                    id: id,\n                                    name: name,\n                                    args: _args\n                                }, {\n                                    domain: origin,\n                                    fireAndForget: !0\n                                }) : send(win, \"postrobot_method\", {\n                                    id: id,\n                                    name: name,\n                                    args: _args\n                                }, {\n                                    domain: origin,\n                                    fireAndForget: !1\n                                }).then((function(res) {\n                                    return res.data.result;\n                                }));\n                            })).catch((function(err) {\n                                throw err;\n                            }));\n                        }\n                        crossDomainFunctionWrapper.__name__ = name;\n                        crossDomainFunctionWrapper.__origin__ = origin;\n                        crossDomainFunctionWrapper.__source__ = source;\n                        crossDomainFunctionWrapper.__id__ = id;\n                        crossDomainFunctionWrapper.origin = origin;\n                        return crossDomainFunctionWrapper;\n                    };\n                    var crossDomainFunctionWrapper = getDeserializedFunction();\n                    crossDomainFunctionWrapper.fireAndForget = getDeserializedFunction({\n                        fireAndForget: !0\n                    });\n                    return crossDomainFunctionWrapper;\n                }(source, origin, serializedFunction, {\n                    send: send\n                });\n            }, _deserialize.cross_domain_window = function(serializedWindow) {\n                return window_ProxyWindow.deserialize(serializedWindow, {\n                    send: send\n                });\n            }, _deserialize));\n        }\n        var SEND_MESSAGE_STRATEGIES = {};\n        SEND_MESSAGE_STRATEGIES.postrobot_post_message = function(win, serializedMessage, domain) {\n            0 === domain.indexOf(\"file:\") && (domain = \"*\");\n            win.postMessage(serializedMessage, domain);\n        };\n        SEND_MESSAGE_STRATEGIES.postrobot_bridge = function(win, serializedMessage, domain) {\n            if (!needsBridgeForBrowser() && !isBridge()) throw new Error(\"Bridge not needed for browser\");\n            if (isSameDomain(win)) throw new Error(\"Post message through bridge disabled between same domain windows\");\n            if (!1 !== isSameTopWindow(window, win)) throw new Error(\"Can only use bridge to communicate between two different windows, not between frames\");\n            !function(win, domain, message) {\n                var messagingChild = isOpener(window, win);\n                var messagingParent = isOpener(win, window);\n                if (!messagingChild && !messagingParent) throw new Error(\"Can only send messages to and from parent and popup windows\");\n                findRemoteWindow(win).then((function(sendMessage) {\n                    return sendMessage(win, domain, message);\n                }));\n            }(win, domain, serializedMessage);\n        };\n        SEND_MESSAGE_STRATEGIES.postrobot_global = function(win, serializedMessage) {\n            if (!utils_getUserAgent(window).match(/MSIE|rv:11|trident|edge\\/12|edge\\/13/i)) throw new Error(\"Global messaging not needed for browser\");\n            if (!isSameDomain(win)) throw new Error(\"Post message through global disabled between different domain windows\");\n            if (!1 !== isSameTopWindow(window, win)) throw new Error(\"Can only use global to communicate between two different windows, not between frames\");\n            var foreignGlobal = global_getGlobal(win);\n            if (!foreignGlobal) throw new Error(\"Can not find postRobot global on foreign window\");\n            foreignGlobal.receiveMessage({\n                source: window,\n                origin: getDomain(),\n                data: serializedMessage\n            });\n        };\n        function send_sendMessage(win, domain, message, _ref2) {\n            var on = _ref2.on, send = _ref2.send;\n            return promise_ZalgoPromise.try((function() {\n                var domainBuffer = windowStore().getOrSet(win, (function() {\n                    return {};\n                }));\n                domainBuffer.buffer = domainBuffer.buffer || [];\n                domainBuffer.buffer.push(message);\n                domainBuffer.flush = domainBuffer.flush || promise_ZalgoPromise.flush().then((function() {\n                    if (isWindowClosed(win)) throw new Error(\"Window is closed\");\n                    var serializedMessage = serializeMessage(win, domain, ((_ref = {}).__post_robot_10_0_44__ = domainBuffer.buffer || [], \n                    _ref), {\n                        on: on,\n                        send: send\n                    });\n                    var _ref;\n                    delete domainBuffer.buffer;\n                    var strategies = Object.keys(SEND_MESSAGE_STRATEGIES);\n                    var errors = [];\n                    for (var _i2 = 0; _i2 < strategies.length; _i2++) {\n                        var strategyName = strategies[_i2];\n                        try {\n                            SEND_MESSAGE_STRATEGIES[strategyName](win, serializedMessage, domain);\n                        } catch (err) {\n                            errors.push(err);\n                        }\n                    }\n                    if (errors.length === strategies.length) throw new Error(\"All post-robot messaging strategies failed:\\n\\n\" + errors.map((function(err, i) {\n                        return i + \". \" + stringifyError(err);\n                    })).join(\"\\n\\n\"));\n                }));\n                return domainBuffer.flush.then((function() {\n                    delete domainBuffer.flush;\n                }));\n            })).then(src_util_noop);\n        }\n        function getResponseListener(hash) {\n            return globalStore(\"responseListeners\").get(hash);\n        }\n        function deleteResponseListener(hash) {\n            globalStore(\"responseListeners\").del(hash);\n        }\n        function isResponseListenerErrored(hash) {\n            return globalStore(\"erroredResponseListeners\").has(hash);\n        }\n        function getRequestListener(_ref) {\n            var name = _ref.name, win = _ref.win, domain = _ref.domain;\n            var requestListeners = windowStore(\"requestListeners\");\n            \"*\" === win && (win = null);\n            \"*\" === domain && (domain = null);\n            if (!name) throw new Error(\"Name required to get request listener\");\n            for (var _i4 = 0, _ref3 = [ win, getWildcard() ]; _i4 < _ref3.length; _i4++) {\n                var winQualifier = _ref3[_i4];\n                if (winQualifier) {\n                    var nameListeners = requestListeners.get(winQualifier);\n                    if (nameListeners) {\n                        var domainListeners = nameListeners[name];\n                        if (domainListeners) {\n                            if (domain && \"string\" == typeof domain) {\n                                if (domainListeners[domain]) return domainListeners[domain];\n                                if (domainListeners.__domain_regex__) for (var _i6 = 0, _domainListeners$__DO2 = domainListeners.__domain_regex__; _i6 < _domainListeners$__DO2.length; _i6++) {\n                                    var _domainListeners$__DO3 = _domainListeners$__DO2[_i6], listener = _domainListeners$__DO3.listener;\n                                    if (matchDomain(_domainListeners$__DO3.regex, domain)) return listener;\n                                }\n                            }\n                            if (domainListeners[\"*\"]) return domainListeners[\"*\"];\n                        }\n                    }\n                }\n            }\n        }\n        function handleRequest(source, origin, message, _ref) {\n            var on = _ref.on, send = _ref.send;\n            var options = getRequestListener({\n                name: message.name,\n                win: source,\n                domain: origin\n            });\n            var logName = \"postrobot_method\" === message.name && message.data && \"string\" == typeof message.data.name ? message.data.name + \"()\" : message.name;\n            function sendResponse(ack, data, error) {\n                return promise_ZalgoPromise.flush().then((function() {\n                    if (!message.fireAndForget && !isWindowClosed(source)) try {\n                        return send_sendMessage(source, origin, {\n                            id: uniqueID(),\n                            origin: getDomain(window),\n                            type: \"postrobot_message_response\",\n                            hash: message.hash,\n                            name: message.name,\n                            ack: ack,\n                            data: data,\n                            error: error\n                        }, {\n                            on: on,\n                            send: send\n                        });\n                    } catch (err) {\n                        throw new Error(\"Send response message failed for \" + logName + \" in \" + getDomain() + \"\\n\\n\" + stringifyError(err));\n                    }\n                }));\n            }\n            return promise_ZalgoPromise.all([ promise_ZalgoPromise.flush().then((function() {\n                if (!message.fireAndForget && !isWindowClosed(source)) try {\n                    return send_sendMessage(source, origin, {\n                        id: uniqueID(),\n                        origin: getDomain(window),\n                        type: \"postrobot_message_ack\",\n                        hash: message.hash,\n                        name: message.name\n                    }, {\n                        on: on,\n                        send: send\n                    });\n                } catch (err) {\n                    throw new Error(\"Send ack message failed for \" + logName + \" in \" + getDomain() + \"\\n\\n\" + stringifyError(err));\n                }\n            })), promise_ZalgoPromise.try((function() {\n                if (!options) throw new Error(\"No handler found for post message: \" + message.name + \" from \" + origin + \" in \" + window.location.protocol + \"//\" + window.location.host + window.location.pathname);\n                if (!matchDomain(options.domain, origin)) throw new Error(\"Request origin \" + origin + \" does not match domain \" + options.domain.toString());\n                return options.handler({\n                    source: source,\n                    origin: origin,\n                    data: message.data\n                });\n            })).then((function(data) {\n                return sendResponse(\"success\", data);\n            }), (function(error) {\n                return sendResponse(\"error\", null, error);\n            })) ]).then(src_util_noop).catch((function(err) {\n                if (options && options.handleError) return options.handleError(err);\n                throw err;\n            }));\n        }\n        function handleAck(source, origin, message) {\n            if (!isResponseListenerErrored(message.hash)) {\n                var options = getResponseListener(message.hash);\n                if (!options) throw new Error(\"No handler found for post message ack for message: \" + message.name + \" from \" + origin + \" in \" + window.location.protocol + \"//\" + window.location.host + window.location.pathname);\n                try {\n                    if (!matchDomain(options.domain, origin)) throw new Error(\"Ack origin \" + origin + \" does not match domain \" + options.domain.toString());\n                    if (source !== options.win) throw new Error(\"Ack source does not match registered window\");\n                } catch (err) {\n                    options.promise.reject(err);\n                }\n                options.ack = !0;\n            }\n        }\n        function handleResponse(source, origin, message) {\n            if (!isResponseListenerErrored(message.hash)) {\n                var options = getResponseListener(message.hash);\n                if (!options) throw new Error(\"No handler found for post message response for message: \" + message.name + \" from \" + origin + \" in \" + window.location.protocol + \"//\" + window.location.host + window.location.pathname);\n                if (!matchDomain(options.domain, origin)) throw new Error(\"Response origin \" + origin + \" does not match domain \" + (pattern = options.domain, \n                Array.isArray(pattern) ? \"(\" + pattern.join(\" | \") + \")\" : isRegex(pattern) ? \"RegExp(\" + pattern.toString() + \")\" : pattern.toString()));\n                var pattern;\n                if (source !== options.win) throw new Error(\"Response source does not match registered window\");\n                deleteResponseListener(message.hash);\n                \"error\" === message.ack ? options.promise.reject(message.error) : \"success\" === message.ack && options.promise.resolve({\n                    source: source,\n                    origin: origin,\n                    data: message.data\n                });\n            }\n        }\n        function receive_receiveMessage(event, _ref2) {\n            var on = _ref2.on, send = _ref2.send;\n            var receivedMessages = globalStore(\"receivedMessages\");\n            try {\n                if (!window || window.closed || !event.source) return;\n            } catch (err) {\n                return;\n            }\n            var source = event.source, origin = event.origin;\n            var messages = function(message, source, origin, _ref) {\n                var on = _ref.on, send = _ref.send;\n                var parsedMessage;\n                try {\n                    parsedMessage = deserializeMessage(source, origin, message, {\n                        on: on,\n                        send: send\n                    });\n                } catch (err) {\n                    return;\n                }\n                if (parsedMessage && \"object\" == typeof parsedMessage && null !== parsedMessage) {\n                    var parseMessages = parsedMessage.__post_robot_10_0_44__;\n                    if (Array.isArray(parseMessages)) return parseMessages;\n                }\n            }(event.data, source, origin, {\n                on: on,\n                send: send\n            });\n            if (messages) {\n                markWindowKnown(source);\n                for (var _i2 = 0; _i2 < messages.length; _i2++) {\n                    var message = messages[_i2];\n                    if (receivedMessages.has(message.id)) return;\n                    receivedMessages.set(message.id, !0);\n                    if (isWindowClosed(source) && !message.fireAndForget) return;\n                    0 === message.origin.indexOf(\"file:\") && (origin = \"file://\");\n                    try {\n                        \"postrobot_message_request\" === message.type ? handleRequest(source, origin, message, {\n                            on: on,\n                            send: send\n                        }) : \"postrobot_message_response\" === message.type ? handleResponse(source, origin, message) : \"postrobot_message_ack\" === message.type && handleAck(source, origin, message);\n                    } catch (err) {\n                        setTimeout((function() {\n                            throw err;\n                        }), 0);\n                    }\n                }\n            }\n        }\n        function on_on(name, options, handler) {\n            if (!name) throw new Error(\"Expected name\");\n            if (\"function\" == typeof (options = options || {})) {\n                handler = options;\n                options = {};\n            }\n            if (!handler) throw new Error(\"Expected handler\");\n            (options = options || {}).name = name;\n            options.handler = handler || options.handler;\n            var win = options.window;\n            var domain = options.domain;\n            var requestListener = function addRequestListener(_ref4, listener) {\n                var name = _ref4.name, win = _ref4.win, domain = _ref4.domain;\n                var requestListeners = windowStore(\"requestListeners\");\n                if (!name || \"string\" != typeof name) throw new Error(\"Name required to add request listener\");\n                if (Array.isArray(win)) {\n                    var listenersCollection = [];\n                    for (var _i8 = 0, _win2 = win; _i8 < _win2.length; _i8++) listenersCollection.push(addRequestListener({\n                        name: name,\n                        domain: domain,\n                        win: _win2[_i8]\n                    }, listener));\n                    return {\n                        cancel: function() {\n                            for (var _i10 = 0; _i10 < listenersCollection.length; _i10++) listenersCollection[_i10].cancel();\n                        }\n                    };\n                }\n                if (Array.isArray(domain)) {\n                    var _listenersCollection = [];\n                    for (var _i12 = 0, _domain2 = domain; _i12 < _domain2.length; _i12++) _listenersCollection.push(addRequestListener({\n                        name: name,\n                        win: win,\n                        domain: _domain2[_i12]\n                    }, listener));\n                    return {\n                        cancel: function() {\n                            for (var _i14 = 0; _i14 < _listenersCollection.length; _i14++) _listenersCollection[_i14].cancel();\n                        }\n                    };\n                }\n                var existingListener = getRequestListener({\n                    name: name,\n                    win: win,\n                    domain: domain\n                });\n                win && \"*\" !== win || (win = getWildcard());\n                domain = domain || \"*\";\n                if (existingListener) throw win && domain ? new Error(\"Request listener already exists for \" + name + \" on domain \" + domain.toString() + \" for \" + (win === getWildcard() ? \"wildcard\" : \"specified\") + \" window\") : win ? new Error(\"Request listener already exists for \" + name + \" for \" + (win === getWildcard() ? \"wildcard\" : \"specified\") + \" window\") : domain ? new Error(\"Request listener already exists for \" + name + \" on domain \" + domain.toString()) : new Error(\"Request listener already exists for \" + name);\n                var nameListeners = requestListeners.getOrSet(win, (function() {\n                    return {};\n                }));\n                var domainListeners = util_getOrSet(nameListeners, name, (function() {\n                    return {};\n                }));\n                var strDomain = domain.toString();\n                var regexListeners;\n                var regexListener;\n                util_isRegex(domain) ? (regexListeners = util_getOrSet(domainListeners, \"__domain_regex__\", (function() {\n                    return [];\n                }))).push(regexListener = {\n                    regex: domain,\n                    listener: listener\n                }) : domainListeners[strDomain] = listener;\n                return {\n                    cancel: function() {\n                        delete domainListeners[strDomain];\n                        if (regexListener) {\n                            regexListeners.splice(regexListeners.indexOf(regexListener, 1));\n                            regexListeners.length || delete domainListeners.__domain_regex__;\n                        }\n                        Object.keys(domainListeners).length || delete nameListeners[name];\n                        win && !Object.keys(nameListeners).length && requestListeners.del(win);\n                    }\n                };\n            }({\n                name: name,\n                win: win,\n                domain: domain\n            }, {\n                handler: options.handler,\n                handleError: options.errorHandler || function(err) {\n                    throw err;\n                },\n                window: win,\n                domain: domain || \"*\",\n                name: name\n            });\n            return {\n                cancel: function() {\n                    requestListener.cancel();\n                }\n            };\n        }\n        var send_send = function send(win, name, data, options) {\n            var domainMatcher = (options = options || {}).domain || \"*\";\n            var responseTimeout = options.timeout || -1;\n            var childTimeout = options.timeout || 5e3;\n            var fireAndForget = options.fireAndForget || !1;\n            return promise_ZalgoPromise.try((function() {\n                !function(name, win, domain) {\n                    if (!name) throw new Error(\"Expected name\");\n                    if (domain && \"string\" != typeof domain && !Array.isArray(domain) && !util_isRegex(domain)) throw new TypeError(\"Can not send \" + name + \". Expected domain \" + JSON.stringify(domain) + \" to be a string, array, or regex\");\n                    if (isWindowClosed(win)) throw new Error(\"Can not send \" + name + \". Target window is closed\");\n                }(name, win, domainMatcher);\n                if (function(parent, child) {\n                    var actualParent = getAncestor(child);\n                    if (actualParent) return actualParent === parent;\n                    if (child === parent) return !1;\n                    if (getTop(child) === child) return !1;\n                    for (var _i15 = 0, _getFrames8 = getFrames(parent); _i15 < _getFrames8.length; _i15++) if (_getFrames8[_i15] === child) return !0;\n                    return !1;\n                }(window, win)) return awaitWindowHello(win, childTimeout);\n            })).then((function(_temp) {\n                return function(win, targetDomain, actualDomain, _ref) {\n                    var send = _ref.send;\n                    return promise_ZalgoPromise.try((function() {\n                        return \"string\" == typeof targetDomain ? targetDomain : promise_ZalgoPromise.try((function() {\n                            return actualDomain || sayHello(win, {\n                                send: send\n                            }).then((function(_ref2) {\n                                return _ref2.domain;\n                            }));\n                        })).then((function(normalizedDomain) {\n                            if (!matchDomain(targetDomain, targetDomain)) throw new Error(\"Domain \" + stringify(targetDomain) + \" does not match \" + stringify(targetDomain));\n                            return normalizedDomain;\n                        }));\n                    }));\n                }(win, domainMatcher, (void 0 === _temp ? {} : _temp).domain, {\n                    send: send\n                });\n            })).then((function(targetDomain) {\n                var domain = targetDomain;\n                var logName = \"postrobot_method\" === name && data && \"string\" == typeof data.name ? data.name + \"()\" : name;\n                var promise = new promise_ZalgoPromise;\n                var hash = name + \"_\" + uniqueID();\n                if (!fireAndForget) {\n                    var responseListener = {\n                        name: name,\n                        win: win,\n                        domain: domain,\n                        promise: promise\n                    };\n                    !function(hash, listener) {\n                        globalStore(\"responseListeners\").set(hash, listener);\n                    }(hash, responseListener);\n                    var reqPromises = windowStore(\"requestPromises\").getOrSet(win, (function() {\n                        return [];\n                    }));\n                    reqPromises.push(promise);\n                    promise.catch((function() {\n                        !function(hash) {\n                            globalStore(\"erroredResponseListeners\").set(hash, !0);\n                        }(hash);\n                        deleteResponseListener(hash);\n                    }));\n                    var totalAckTimeout = function(win) {\n                        return windowStore(\"knownWindows\").get(win, !1);\n                    }(win) ? 1e4 : 2e3;\n                    var totalResTimeout = responseTimeout;\n                    var ackTimeout = totalAckTimeout;\n                    var resTimeout = totalResTimeout;\n                    var interval = safeInterval((function() {\n                        if (isWindowClosed(win)) return promise.reject(new Error(\"Window closed for \" + name + \" before \" + (responseListener.ack ? \"response\" : \"ack\")));\n                        if (responseListener.cancelled) return promise.reject(new Error(\"Response listener was cancelled for \" + name));\n                        ackTimeout = Math.max(ackTimeout - 500, 0);\n                        -1 !== resTimeout && (resTimeout = Math.max(resTimeout - 500, 0));\n                        return responseListener.ack || 0 !== ackTimeout ? 0 === resTimeout ? promise.reject(new Error(\"No response for postMessage \" + logName + \" in \" + getDomain() + \" in \" + totalResTimeout + \"ms\")) : void 0 : promise.reject(new Error(\"No ack for postMessage \" + logName + \" in \" + getDomain() + \" in \" + totalAckTimeout + \"ms\"));\n                    }), 500);\n                    promise.finally((function() {\n                        interval.cancel();\n                        reqPromises.splice(reqPromises.indexOf(promise, 1));\n                    })).catch(src_util_noop);\n                }\n                return send_sendMessage(win, domain, {\n                    id: uniqueID(),\n                    origin: getDomain(window),\n                    type: \"postrobot_message_request\",\n                    hash: hash,\n                    name: name,\n                    data: data,\n                    fireAndForget: fireAndForget\n                }, {\n                    on: on_on,\n                    send: send\n                }).then((function() {\n                    return fireAndForget ? promise.resolve() : promise;\n                }), (function(err) {\n                    throw new Error(\"Send request message failed for \" + logName + \" in \" + getDomain() + \"\\n\\n\" + stringifyError(err));\n                }));\n            }));\n        };\n        function setup_toProxyWindow(win) {\n            return window_ProxyWindow.toProxyWindow(win, {\n                send: send_send\n            });\n        }\n        function cleanUpWindow(win) {\n            for (var _i2 = 0, _requestPromises$get2 = windowStore(\"requestPromises\").get(win, []); _i2 < _requestPromises$get2.length; _i2++) _requestPromises$get2[_i2].reject(new Error(\"Window \" + (isWindowClosed(win) ? \"closed\" : \"cleaned up\") + \" before response\")).catch(src_util_noop);\n        }\n        var src_bridge;\n        src_bridge = {\n            setupBridge: setupBridge,\n            openBridge: function(url, domain) {\n                var bridges = globalStore(\"bridges\");\n                var bridgeFrames = globalStore(\"bridgeFrames\");\n                domain = domain || getDomainFromUrl(url);\n                return bridges.getOrSet(domain, (function() {\n                    return promise_ZalgoPromise.try((function() {\n                        if (getDomain() === domain) throw new Error(\"Can not open bridge on the same domain as current domain: \" + domain);\n                        var name = getBridgeName(domain);\n                        if (getFrameByName(window, name)) throw new Error(\"Frame with name \" + name + \" already exists on page\");\n                        var iframe = function(name, url) {\n                            var iframe = document.createElement(\"iframe\");\n                            iframe.setAttribute(\"name\", name);\n                            iframe.setAttribute(\"id\", name);\n                            iframe.setAttribute(\"style\", \"display: none; margin: 0; padding: 0; border: 0px none; overflow: hidden;\");\n                            iframe.setAttribute(\"frameborder\", \"0\");\n                            iframe.setAttribute(\"border\", \"0\");\n                            iframe.setAttribute(\"scrolling\", \"no\");\n                            iframe.setAttribute(\"allowTransparency\", \"true\");\n                            iframe.setAttribute(\"tabindex\", \"-1\");\n                            iframe.setAttribute(\"hidden\", \"true\");\n                            iframe.setAttribute(\"title\", \"\");\n                            iframe.setAttribute(\"role\", \"presentation\");\n                            iframe.src = url;\n                            return iframe;\n                        }(name, url);\n                        bridgeFrames.set(domain, iframe);\n                        return documentBodyReady.then((function(body) {\n                            body.appendChild(iframe);\n                            var bridge = iframe.contentWindow;\n                            return new promise_ZalgoPromise((function(resolve, reject) {\n                                iframe.addEventListener(\"load\", resolve);\n                                iframe.addEventListener(\"error\", reject);\n                            })).then((function() {\n                                return awaitWindowHello(bridge, 5e3, \"Bridge \" + url);\n                            })).then((function() {\n                                return bridge;\n                            }));\n                        }));\n                    }));\n                }));\n            },\n            linkWindow: linkWindow,\n            linkUrl: function(win, url) {\n                linkWindow({\n                    win: win,\n                    domain: getDomainFromUrl(url)\n                });\n            },\n            isBridge: isBridge,\n            needsBridge: needsBridge,\n            needsBridgeForBrowser: needsBridgeForBrowser,\n            hasBridge: function(url, domain) {\n                return globalStore(\"bridges\").has(domain || getDomainFromUrl(url));\n            },\n            needsBridgeForWin: needsBridgeForWin,\n            needsBridgeForDomain: needsBridgeForDomain,\n            destroyBridges: function() {\n                var bridges = globalStore(\"bridges\");\n                var bridgeFrames = globalStore(\"bridgeFrames\");\n                for (var _i4 = 0, _bridgeFrames$keys2 = bridgeFrames.keys(); _i4 < _bridgeFrames$keys2.length; _i4++) {\n                    var frame = bridgeFrames.get(_bridgeFrames$keys2[_i4]);\n                    frame && frame.parentNode && frame.parentNode.removeChild(frame);\n                }\n                bridgeFrames.reset();\n                bridges.reset();\n            }\n        };\n        function lib_global_getGlobal(win) {\n            if (!isSameDomain(win)) throw new Error(\"Can not get global for window on different domain\");\n            win.__zoid_9_0_86__ || (win.__zoid_9_0_86__ = {});\n            return win.__zoid_9_0_86__;\n        }\n        function tryGlobal(win, handler) {\n            try {\n                return handler(lib_global_getGlobal(win));\n            } catch (err) {}\n        }\n        function getProxyObject(obj) {\n            return {\n                get: function() {\n                    var _this = this;\n                    return promise_ZalgoPromise.try((function() {\n                        if (_this.source && _this.source !== window) throw new Error(\"Can not call get on proxy object from a remote window\");\n                        return obj;\n                    }));\n                }\n            };\n        }\n        function basicSerialize(data) {\n            return base64encode(JSON.stringify(data));\n        }\n        function getUIDRefStore(win) {\n            var global = lib_global_getGlobal(win);\n            global.references = global.references || {};\n            return global.references;\n        }\n        function crossDomainSerialize(_ref) {\n            var data = _ref.data, metaData = _ref.metaData, sender = _ref.sender, receiver = _ref.receiver, _ref$passByReference = _ref.passByReference, passByReference = void 0 !== _ref$passByReference && _ref$passByReference, _ref$basic = _ref.basic, basic = void 0 !== _ref$basic && _ref$basic;\n            var proxyWin = setup_toProxyWindow(receiver.win);\n            var serializedMessage = basic ? JSON.stringify(data) : serializeMessage(proxyWin, receiver.domain, data, {\n                on: on_on,\n                send: send_send\n            });\n            var reference = passByReference ? function(val) {\n                var uid = uniqueID();\n                getUIDRefStore(window)[uid] = val;\n                return {\n                    type: \"uid\",\n                    uid: uid\n                };\n            }(serializedMessage) : {\n                type: \"raw\",\n                val: serializedMessage\n            };\n            return {\n                serializedData: basicSerialize({\n                    sender: {\n                        domain: sender.domain\n                    },\n                    metaData: metaData,\n                    reference: reference\n                }),\n                cleanReference: function() {\n                    win = window, \"uid\" === (ref = reference).type && delete getUIDRefStore(win)[ref.uid];\n                    var win, ref;\n                }\n            };\n        }\n        function crossDomainDeserialize(_ref2) {\n            var sender = _ref2.sender, _ref2$basic = _ref2.basic, basic = void 0 !== _ref2$basic && _ref2$basic;\n            var message = function(serializedData) {\n                return JSON.parse(function(str) {\n                    if (\"function\" == typeof atob) return decodeURIComponent([].map.call(atob(str), (function(c) {\n                        return \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2);\n                    })).join(\"\"));\n                    if (\"undefined\" != typeof Buffer) return Buffer.from(str, \"base64\").toString(\"utf8\");\n                    throw new Error(\"Can not find window.atob or Buffer\");\n                }(serializedData));\n            }(_ref2.data);\n            var reference = message.reference, metaData = message.metaData;\n            var win;\n            win = \"function\" == typeof sender.win ? sender.win({\n                metaData: metaData\n            }) : sender.win;\n            var domain;\n            domain = \"function\" == typeof sender.domain ? sender.domain({\n                metaData: metaData\n            }) : \"string\" == typeof sender.domain ? sender.domain : message.sender.domain;\n            var serializedData = function(win, ref) {\n                if (\"raw\" === ref.type) return ref.val;\n                if (\"uid\" === ref.type) return getUIDRefStore(win)[ref.uid];\n                throw new Error(\"Unsupported ref type: \" + ref.type);\n            }(win, reference);\n            return {\n                data: basic ? JSON.parse(serializedData) : function(source, origin, message) {\n                    return deserializeMessage(source, origin, message, {\n                        on: on_on,\n                        send: send_send\n                    });\n                }(win, domain, serializedData),\n                metaData: metaData,\n                sender: {\n                    win: win,\n                    domain: domain\n                },\n                reference: reference\n            };\n        }\n        var PROP_TYPE = {\n            STRING: \"string\",\n            OBJECT: \"object\",\n            FUNCTION: \"function\",\n            BOOLEAN: \"boolean\",\n            NUMBER: \"number\",\n            ARRAY: \"array\"\n        };\n        var PROP_SERIALIZATION = {\n            JSON: \"json\",\n            DOTIFY: \"dotify\",\n            BASE64: \"base64\"\n        };\n        var CONTEXT = WINDOW_TYPE;\n        var EVENT = {\n            RENDER: \"zoid-render\",\n            RENDERED: \"zoid-rendered\",\n            DISPLAY: \"zoid-display\",\n            ERROR: \"zoid-error\",\n            CLOSE: \"zoid-close\",\n            DESTROY: \"zoid-destroy\",\n            PROPS: \"zoid-props\",\n            RESIZE: \"zoid-resize\",\n            FOCUS: \"zoid-focus\"\n        };\n        function buildChildWindowName(_ref) {\n            return \"__zoid__\" + _ref.name + \"__\" + _ref.serializedPayload + \"__\";\n        }\n        function parseWindowName(windowName) {\n            if (!windowName) throw new Error(\"No window name\");\n            var _windowName$split = windowName.split(\"__\"), zoidcomp = _windowName$split[1], name = _windowName$split[2], serializedInitialPayload = _windowName$split[3];\n            if (\"zoid\" !== zoidcomp) throw new Error(\"Window not rendered by zoid - got \" + zoidcomp);\n            if (!name) throw new Error(\"Expected component name\");\n            if (!serializedInitialPayload) throw new Error(\"Expected serialized payload ref\");\n            return {\n                name: name,\n                serializedInitialPayload: serializedInitialPayload\n            };\n        }\n        var parseInitialParentPayload = memoize((function(windowName) {\n            var _crossDomainDeseriali = crossDomainDeserialize({\n                data: parseWindowName(windowName).serializedInitialPayload,\n                sender: {\n                    win: function(_ref2) {\n                        return function(windowRef) {\n                            if (\"opener\" === windowRef.type) return assertExists(\"opener\", getOpener(window));\n                            if (\"parent\" === windowRef.type && \"number\" == typeof windowRef.distance) return assertExists(\"parent\", function(win, n) {\n                                void 0 === n && (n = 1);\n                                return function(win, n) {\n                                    void 0 === n && (n = 1);\n                                    var parent = win;\n                                    for (var i = 0; i < n; i++) {\n                                        if (!parent) return;\n                                        parent = utils_getParent(parent);\n                                    }\n                                    return parent;\n                                }(win, getDistanceFromTop(win) - n);\n                            }(window, windowRef.distance));\n                            if (\"global\" === windowRef.type && windowRef.uid && \"string\" == typeof windowRef.uid) {\n                                var _ret = function() {\n                                    var uid = windowRef.uid;\n                                    var ancestor = getAncestor(window);\n                                    if (!ancestor) throw new Error(\"Can not find ancestor window\");\n                                    for (var _i2 = 0, _getAllFramesInWindow2 = getAllFramesInWindow(ancestor); _i2 < _getAllFramesInWindow2.length; _i2++) {\n                                        var frame = _getAllFramesInWindow2[_i2];\n                                        if (isSameDomain(frame)) {\n                                            var win = tryGlobal(frame, (function(global) {\n                                                return global.windows && global.windows[uid];\n                                            }));\n                                            if (win) return {\n                                                v: win\n                                            };\n                                        }\n                                    }\n                                }();\n                                if (\"object\" == typeof _ret) return _ret.v;\n                            } else if (\"name\" === windowRef.type) {\n                                var name = windowRef.name;\n                                return assertExists(\"namedWindow\", function(win, name) {\n                                    return getFrameByName(win, name) || function findChildFrameByName(win, name) {\n                                        var frame = getFrameByName(win, name);\n                                        if (frame) return frame;\n                                        for (var _i11 = 0, _getFrames4 = getFrames(win); _i11 < _getFrames4.length; _i11++) {\n                                            var namedFrame = findChildFrameByName(_getFrames4[_i11], name);\n                                            if (namedFrame) return namedFrame;\n                                        }\n                                    }(getTop(win) || win, name);\n                                }(assertExists(\"ancestor\", getAncestor(window)), name));\n                            }\n                            throw new Error(\"Unable to find \" + windowRef.type + \" parent component window\");\n                        }(_ref2.metaData.windowRef);\n                    }\n                }\n            });\n            return {\n                parent: _crossDomainDeseriali.sender,\n                payload: _crossDomainDeseriali.data,\n                reference: _crossDomainDeseriali.reference\n            };\n        }));\n        function getInitialParentPayload() {\n            return parseInitialParentPayload(window.name);\n        }\n        function window_getWindowRef(targetWindow, currentWindow) {\n            void 0 === currentWindow && (currentWindow = window);\n            if (targetWindow === utils_getParent(currentWindow)) return {\n                type: \"parent\",\n                distance: getDistanceFromTop(targetWindow)\n            };\n            if (targetWindow === getOpener(currentWindow)) return {\n                type: \"opener\"\n            };\n            if (isSameDomain(targetWindow) && !(win = targetWindow, win === getTop(win))) {\n                var windowName = assertSameDomain(targetWindow).name;\n                if (windowName) return {\n                    type: \"name\",\n                    name: windowName\n                };\n            }\n            var win;\n        }\n        function normalizeChildProp(propsDef, props, key, value, helpers) {\n            if (!propsDef.hasOwnProperty(key)) return value;\n            var prop = propsDef[key];\n            return \"function\" == typeof prop.childDecorate ? prop.childDecorate({\n                value: value,\n                uid: helpers.uid,\n                tag: helpers.tag,\n                close: helpers.close,\n                focus: helpers.focus,\n                onError: helpers.onError,\n                onProps: helpers.onProps,\n                resize: helpers.resize,\n                getParent: helpers.getParent,\n                getParentDomain: helpers.getParentDomain,\n                show: helpers.show,\n                hide: helpers.hide,\n                export: helpers.export,\n                getSiblings: helpers.getSiblings\n            }) : value;\n        }\n        function child_focus() {\n            return promise_ZalgoPromise.try((function() {\n                window.focus();\n            }));\n        }\n        function child_destroy() {\n            return promise_ZalgoPromise.try((function() {\n                window.close();\n            }));\n        }\n        var props_defaultNoop = function() {\n            return src_util_noop;\n        };\n        var props_decorateOnce = function(_ref) {\n            return once(_ref.value);\n        };\n        function eachProp(props, propsDef, handler) {\n            for (var _i2 = 0, _Object$keys2 = Object.keys(_extends({}, props, propsDef)); _i2 < _Object$keys2.length; _i2++) {\n                var key = _Object$keys2[_i2];\n                handler(key, propsDef[key], props[key]);\n            }\n        }\n        function serializeProps(propsDef, props, method) {\n            var params = {};\n            return promise_ZalgoPromise.all(function(props, propsDef, handler) {\n                var results = [];\n                eachProp(props, propsDef, (function(key, propDef, value) {\n                    var result = function(key, propDef, value) {\n                        return promise_ZalgoPromise.resolve().then((function() {\n                            var _METHOD$GET$METHOD$PO, _METHOD$GET$METHOD$PO2;\n                            if (null != value && propDef) {\n                                var getParam = (_METHOD$GET$METHOD$PO = {}, _METHOD$GET$METHOD$PO.get = propDef.queryParam, \n                                _METHOD$GET$METHOD$PO.post = propDef.bodyParam, _METHOD$GET$METHOD$PO)[method];\n                                var getValue = (_METHOD$GET$METHOD$PO2 = {}, _METHOD$GET$METHOD$PO2.get = propDef.queryValue, \n                                _METHOD$GET$METHOD$PO2.post = propDef.bodyValue, _METHOD$GET$METHOD$PO2)[method];\n                                if (getParam) return promise_ZalgoPromise.hash({\n                                    finalParam: promise_ZalgoPromise.try((function() {\n                                        return \"function\" == typeof getParam ? getParam({\n                                            value: value\n                                        }) : \"string\" == typeof getParam ? getParam : key;\n                                    })),\n                                    finalValue: promise_ZalgoPromise.try((function() {\n                                        return \"function\" == typeof getValue && isDefined(value) ? getValue({\n                                            value: value\n                                        }) : value;\n                                    }))\n                                }).then((function(_ref) {\n                                    var finalParam = _ref.finalParam, finalValue = _ref.finalValue;\n                                    var result;\n                                    if (\"boolean\" == typeof finalValue) result = finalValue.toString(); else if (\"string\" == typeof finalValue) result = finalValue.toString(); else if (\"object\" == typeof finalValue && null !== finalValue) {\n                                        if (propDef.serialization === PROP_SERIALIZATION.JSON) result = JSON.stringify(finalValue); else if (propDef.serialization === PROP_SERIALIZATION.BASE64) result = base64encode(JSON.stringify(finalValue)); else if (propDef.serialization === PROP_SERIALIZATION.DOTIFY || !propDef.serialization) {\n                                            result = function dotify(obj, prefix, newobj) {\n                                                void 0 === prefix && (prefix = \"\");\n                                                void 0 === newobj && (newobj = {});\n                                                prefix = prefix ? prefix + \".\" : prefix;\n                                                for (var key in obj) obj.hasOwnProperty(key) && null != obj[key] && \"function\" != typeof obj[key] && (obj[key] && Array.isArray(obj[key]) && obj[key].length && obj[key].every((function(val) {\n                                                    return \"object\" != typeof val;\n                                                })) ? newobj[\"\" + prefix + key + \"[]\"] = obj[key].join(\",\") : obj[key] && \"object\" == typeof obj[key] ? newobj = dotify(obj[key], \"\" + prefix + key, newobj) : newobj[\"\" + prefix + key] = obj[key].toString());\n                                                return newobj;\n                                            }(finalValue, key);\n                                            for (var _i2 = 0, _Object$keys2 = Object.keys(result); _i2 < _Object$keys2.length; _i2++) {\n                                                var dotkey = _Object$keys2[_i2];\n                                                params[dotkey] = result[dotkey];\n                                            }\n                                            return;\n                                        }\n                                    } else \"number\" == typeof finalValue && (result = finalValue.toString());\n                                    params[finalParam] = result;\n                                }));\n                            }\n                        }));\n                    }(key, propDef, value);\n                    results.push(result);\n                }));\n                return results;\n            }(props, propsDef)).then((function() {\n                return params;\n            }));\n        }\n        function parentComponent(_ref) {\n            var uid = _ref.uid, options = _ref.options, _ref$overrides = _ref.overrides, overrides = void 0 === _ref$overrides ? {} : _ref$overrides, _ref$parentWin = _ref.parentWin, parentWin = void 0 === _ref$parentWin ? window : _ref$parentWin;\n            var propsDef = options.propsDef, containerTemplate = options.containerTemplate, prerenderTemplate = options.prerenderTemplate, tag = options.tag, name = options.name, attributes = options.attributes, dimensions = options.dimensions, autoResize = options.autoResize, url = options.url, domainMatch = options.domain, xports = options.exports;\n            var initPromise = new promise_ZalgoPromise;\n            var handledErrors = [];\n            var clean = cleanup();\n            var state = {};\n            var inputProps = {};\n            var internalState = {\n                visible: !0\n            };\n            var event = overrides.event ? overrides.event : (triggered = {}, handlers = {}, \n            emitter = {\n                on: function(eventName, handler) {\n                    var handlerList = handlers[eventName] = handlers[eventName] || [];\n                    handlerList.push(handler);\n                    var cancelled = !1;\n                    return {\n                        cancel: function() {\n                            if (!cancelled) {\n                                cancelled = !0;\n                                handlerList.splice(handlerList.indexOf(handler), 1);\n                            }\n                        }\n                    };\n                },\n                once: function(eventName, handler) {\n                    var listener = emitter.on(eventName, (function() {\n                        listener.cancel();\n                        handler();\n                    }));\n                    return listener;\n                },\n                trigger: function(eventName) {\n                    for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) args[_key3 - 1] = arguments[_key3];\n                    var handlerList = handlers[eventName];\n                    var promises = [];\n                    if (handlerList) {\n                        var _loop = function(_i2) {\n                            var handler = handlerList[_i2];\n                            promises.push(promise_ZalgoPromise.try((function() {\n                                return handler.apply(void 0, args);\n                            })));\n                        };\n                        for (var _i2 = 0; _i2 < handlerList.length; _i2++) _loop(_i2);\n                    }\n                    return promise_ZalgoPromise.all(promises).then(src_util_noop);\n                },\n                triggerOnce: function(eventName) {\n                    if (triggered[eventName]) return promise_ZalgoPromise.resolve();\n                    triggered[eventName] = !0;\n                    for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) args[_key4 - 1] = arguments[_key4];\n                    return emitter.trigger.apply(emitter, [ eventName ].concat(args));\n                },\n                reset: function() {\n                    handlers = {};\n                }\n            });\n            var triggered, handlers, emitter;\n            var props = overrides.props ? overrides.props : {};\n            var currentProxyWin;\n            var currentProxyContainer;\n            var childComponent;\n            var currentChildDomain;\n            var currentContainer;\n            var onErrorOverride = overrides.onError;\n            var getProxyContainerOverride = overrides.getProxyContainer;\n            var showOverride = overrides.show;\n            var hideOverride = overrides.hide;\n            var closeOverride = overrides.close;\n            var renderContainerOverride = overrides.renderContainer;\n            var getProxyWindowOverride = overrides.getProxyWindow;\n            var setProxyWinOverride = overrides.setProxyWin;\n            var openFrameOverride = overrides.openFrame;\n            var openPrerenderFrameOverride = overrides.openPrerenderFrame;\n            var prerenderOverride = overrides.prerender;\n            var openOverride = overrides.open;\n            var openPrerenderOverride = overrides.openPrerender;\n            var watchForUnloadOverride = overrides.watchForUnload;\n            var getInternalStateOverride = overrides.getInternalState;\n            var setInternalStateOverride = overrides.setInternalState;\n            var getDimensions = function() {\n                return \"function\" == typeof dimensions ? dimensions({\n                    props: props\n                }) : dimensions;\n            };\n            var resolveInitPromise = function() {\n                return promise_ZalgoPromise.try((function() {\n                    return overrides.resolveInitPromise ? overrides.resolveInitPromise() : initPromise.resolve();\n                }));\n            };\n            var rejectInitPromise = function(err) {\n                return promise_ZalgoPromise.try((function() {\n                    return overrides.rejectInitPromise ? overrides.rejectInitPromise(err) : initPromise.reject(err);\n                }));\n            };\n            var getPropsForChild = function(initialChildDomain) {\n                var result = {};\n                for (var _i2 = 0, _Object$keys2 = Object.keys(props); _i2 < _Object$keys2.length; _i2++) {\n                    var key = _Object$keys2[_i2];\n                    var prop = propsDef[key];\n                    prop && !1 === prop.sendToChild || prop && prop.sameDomain && !matchDomain(initialChildDomain, getDomain(window)) || (result[key] = props[key]);\n                }\n                return promise_ZalgoPromise.hash(result);\n            };\n            var getInternalState = function() {\n                return promise_ZalgoPromise.try((function() {\n                    return getInternalStateOverride ? getInternalStateOverride() : internalState;\n                }));\n            };\n            var setInternalState = function(newInternalState) {\n                return promise_ZalgoPromise.try((function() {\n                    return setInternalStateOverride ? setInternalStateOverride(newInternalState) : internalState = _extends({}, internalState, newInternalState);\n                }));\n            };\n            var getProxyWindow = function() {\n                return getProxyWindowOverride ? getProxyWindowOverride() : promise_ZalgoPromise.try((function() {\n                    var windowProp = props.window;\n                    if (windowProp) {\n                        var _proxyWin = setup_toProxyWindow(windowProp);\n                        clean.register((function() {\n                            return windowProp.close();\n                        }));\n                        return _proxyWin;\n                    }\n                    return new window_ProxyWindow({\n                        send: send_send\n                    });\n                }));\n            };\n            var setProxyWin = function(proxyWin) {\n                return setProxyWinOverride ? setProxyWinOverride(proxyWin) : promise_ZalgoPromise.try((function() {\n                    currentProxyWin = proxyWin;\n                }));\n            };\n            var show = function() {\n                return showOverride ? showOverride() : promise_ZalgoPromise.hash({\n                    setState: setInternalState({\n                        visible: !0\n                    }),\n                    showElement: currentProxyContainer ? currentProxyContainer.get().then(showElement) : null\n                }).then(src_util_noop);\n            };\n            var hide = function() {\n                return hideOverride ? hideOverride() : promise_ZalgoPromise.hash({\n                    setState: setInternalState({\n                        visible: !1\n                    }),\n                    showElement: currentProxyContainer ? currentProxyContainer.get().then(hideElement) : null\n                }).then(src_util_noop);\n            };\n            var getUrl = function() {\n                return \"function\" == typeof url ? url({\n                    props: props\n                }) : url;\n            };\n            var getAttributes = function() {\n                return \"function\" == typeof attributes ? attributes({\n                    props: props\n                }) : attributes;\n            };\n            var getInitialChildDomain = function() {\n                return getDomainFromUrl(getUrl());\n            };\n            var openFrame = function(context, _ref2) {\n                var windowName = _ref2.windowName;\n                return openFrameOverride ? openFrameOverride(context, {\n                    windowName: windowName\n                }) : promise_ZalgoPromise.try((function() {\n                    if (context === CONTEXT.IFRAME) return getProxyObject(dom_iframe({\n                        attributes: _extends({\n                            name: windowName,\n                            title: name\n                        }, getAttributes().iframe)\n                    }));\n                }));\n            };\n            var openPrerenderFrame = function(context) {\n                return openPrerenderFrameOverride ? openPrerenderFrameOverride(context) : promise_ZalgoPromise.try((function() {\n                    if (context === CONTEXT.IFRAME) return getProxyObject(dom_iframe({\n                        attributes: _extends({\n                            name: \"__zoid_prerender_frame__\" + name + \"_\" + uniqueID() + \"__\",\n                            title: \"prerender__\" + name\n                        }, getAttributes().iframe)\n                    }));\n                }));\n            };\n            var openPrerender = function(context, proxyWin, proxyPrerenderFrame) {\n                return openPrerenderOverride ? openPrerenderOverride(context, proxyWin, proxyPrerenderFrame) : promise_ZalgoPromise.try((function() {\n                    if (context === CONTEXT.IFRAME) {\n                        if (!proxyPrerenderFrame) throw new Error(\"Expected proxy frame to be passed\");\n                        return proxyPrerenderFrame.get().then((function(prerenderFrame) {\n                            clean.register((function() {\n                                return destroyElement(prerenderFrame);\n                            }));\n                            return awaitFrameWindow(prerenderFrame).then((function(prerenderFrameWindow) {\n                                return assertSameDomain(prerenderFrameWindow);\n                            })).then((function(win) {\n                                return setup_toProxyWindow(win);\n                            }));\n                        }));\n                    }\n                    if (context === CONTEXT.POPUP) return proxyWin;\n                    throw new Error(\"No render context available for \" + context);\n                }));\n            };\n            var focus = function() {\n                return promise_ZalgoPromise.try((function() {\n                    if (currentProxyWin) return promise_ZalgoPromise.all([ event.trigger(EVENT.FOCUS), currentProxyWin.focus() ]).then(src_util_noop);\n                }));\n            };\n            var getCurrentWindowReferenceUID = function() {\n                var global = lib_global_getGlobal(window);\n                global.windows = global.windows || {};\n                global.windows[uid] = window;\n                clean.register((function() {\n                    delete global.windows[uid];\n                }));\n                return uid;\n            };\n            var getWindowRef = function(target, initialChildDomain, context, proxyWin) {\n                if (initialChildDomain === getDomain(window)) return {\n                    type: \"global\",\n                    uid: getCurrentWindowReferenceUID()\n                };\n                if (target !== window) throw new Error(\"Can not construct cross-domain window reference for different target window\");\n                if (props.window) {\n                    var actualComponentWindow = proxyWin.getWindow();\n                    if (!actualComponentWindow) throw new Error(\"Can not construct cross-domain window reference for lazy window prop\");\n                    if (getAncestor(actualComponentWindow) !== window) throw new Error(\"Can not construct cross-domain window reference for window prop with different ancestor\");\n                }\n                if (context === CONTEXT.POPUP) return {\n                    type: \"opener\"\n                };\n                if (context === CONTEXT.IFRAME) return {\n                    type: \"parent\",\n                    distance: getDistanceFromTop(window)\n                };\n                throw new Error(\"Can not construct window reference for child\");\n            };\n            var initChild = function(childDomain, childExports) {\n                return promise_ZalgoPromise.try((function() {\n                    currentChildDomain = childDomain;\n                    childComponent = childExports;\n                    resolveInitPromise();\n                    clean.register((function() {\n                        return childExports.close.fireAndForget().catch(src_util_noop);\n                    }));\n                }));\n            };\n            var resize = function(_ref3) {\n                var width = _ref3.width, height = _ref3.height;\n                return promise_ZalgoPromise.try((function() {\n                    event.trigger(EVENT.RESIZE, {\n                        width: width,\n                        height: height\n                    });\n                }));\n            };\n            var destroy = function(err) {\n                return promise_ZalgoPromise.try((function() {\n                    return event.trigger(EVENT.DESTROY);\n                })).catch(src_util_noop).then((function() {\n                    return clean.all(err);\n                })).then((function() {\n                    initPromise.asyncReject(err || new Error(\"Component destroyed\"));\n                }));\n            };\n            var close = memoize((function(err) {\n                return promise_ZalgoPromise.try((function() {\n                    if (closeOverride) {\n                        if (isWindowClosed(closeOverride.__source__)) return;\n                        return closeOverride();\n                    }\n                    return promise_ZalgoPromise.try((function() {\n                        return event.trigger(EVENT.CLOSE);\n                    })).then((function() {\n                        return destroy(err || new Error(\"Component closed\"));\n                    }));\n                }));\n            }));\n            var open = function(context, _ref4) {\n                var proxyWin = _ref4.proxyWin, proxyFrame = _ref4.proxyFrame, windowName = _ref4.windowName;\n                return openOverride ? openOverride(context, {\n                    proxyWin: proxyWin,\n                    proxyFrame: proxyFrame,\n                    windowName: windowName\n                }) : promise_ZalgoPromise.try((function() {\n                    if (context === CONTEXT.IFRAME) {\n                        if (!proxyFrame) throw new Error(\"Expected proxy frame to be passed\");\n                        return proxyFrame.get().then((function(frame) {\n                            return awaitFrameWindow(frame).then((function(win) {\n                                clean.register((function() {\n                                    return destroyElement(frame);\n                                }));\n                                clean.register((function() {\n                                    return cleanUpWindow(win);\n                                }));\n                                return win;\n                            }));\n                        }));\n                    }\n                    if (context === CONTEXT.POPUP) {\n                        var _getDimensions = getDimensions(), _getDimensions$width = _getDimensions.width, width = void 0 === _getDimensions$width ? \"300px\" : _getDimensions$width, _getDimensions$height = _getDimensions.height, height = void 0 === _getDimensions$height ? \"150px\" : _getDimensions$height;\n                        width = normalizeDimension(width, window.outerWidth);\n                        height = normalizeDimension(height, window.outerWidth);\n                        var win = function(url, options) {\n                            var _options$closeOnUnloa = (options = options || {}).closeOnUnload, closeOnUnload = void 0 === _options$closeOnUnloa ? 1 : _options$closeOnUnloa, _options$name = options.name, name = void 0 === _options$name ? \"\" : _options$name, width = options.width, height = options.height;\n                            var top = 0;\n                            var left = 0;\n                            width && (window.outerWidth ? left = Math.round((window.outerWidth - width) / 2) + window.screenX : window.screen.width && (left = Math.round((window.screen.width - width) / 2)));\n                            height && (window.outerHeight ? top = Math.round((window.outerHeight - height) / 2) + window.screenY : window.screen.height && (top = Math.round((window.screen.height - height) / 2)));\n                            delete options.closeOnUnload;\n                            delete options.name;\n                            width && height && (options = _extends({\n                                top: top,\n                                left: left,\n                                width: width,\n                                height: height,\n                                status: 1,\n                                toolbar: 0,\n                                menubar: 0,\n                                resizable: 1,\n                                scrollbars: 1\n                            }, options));\n                            var params = Object.keys(options).map((function(key) {\n                                if (null != options[key]) return key + \"=\" + stringify(options[key]);\n                            })).filter(Boolean).join(\",\");\n                            var win;\n                            try {\n                                win = window.open(\"\", name, params);\n                            } catch (err) {\n                                throw new dom_PopupOpenError(\"Can not open popup window - \" + (err.stack || err.message));\n                            }\n                            if (isWindowClosed(win)) {\n                                var err;\n                                throw new dom_PopupOpenError(\"Can not open popup window - blocked\");\n                            }\n                            closeOnUnload && window.addEventListener(\"unload\", (function() {\n                                return win.close();\n                            }));\n                            return win;\n                        }(0, _extends({\n                            name: windowName,\n                            width: width,\n                            height: height\n                        }, getAttributes().popup));\n                        clean.register((function() {\n                            return closeWindow(win);\n                        }));\n                        clean.register((function() {\n                            return cleanUpWindow(win);\n                        }));\n                        return win;\n                    }\n                    throw new Error(\"No render context available for \" + context);\n                })).then((function(win) {\n                    proxyWin.setWindow(win, {\n                        send: send_send\n                    });\n                    return proxyWin.setName(windowName).then((function() {\n                        return proxyWin;\n                    }));\n                }));\n            };\n            var watchForUnload = function() {\n                return promise_ZalgoPromise.try((function() {\n                    var unloadWindowListener = addEventListener(window, \"unload\", once((function() {\n                        destroy(new Error(\"Window navigated away\"));\n                    })));\n                    var closeParentWindowListener = onCloseWindow(parentWin, destroy, 3e3);\n                    clean.register(closeParentWindowListener.cancel);\n                    clean.register(unloadWindowListener.cancel);\n                    if (watchForUnloadOverride) return watchForUnloadOverride();\n                }));\n            };\n            var checkWindowClose = function(proxyWin) {\n                var closed = !1;\n                return proxyWin.isClosed().then((function(isClosed) {\n                    if (isClosed) {\n                        closed = !0;\n                        return close(new Error(\"Detected component window close\"));\n                    }\n                    return promise_ZalgoPromise.delay(200).then((function() {\n                        return proxyWin.isClosed();\n                    })).then((function(secondIsClosed) {\n                        if (secondIsClosed) {\n                            closed = !0;\n                            return close(new Error(\"Detected component window close\"));\n                        }\n                    }));\n                })).then((function() {\n                    return closed;\n                }));\n            };\n            var onError = function(err) {\n                return onErrorOverride ? onErrorOverride(err) : promise_ZalgoPromise.try((function() {\n                    if (-1 === handledErrors.indexOf(err)) {\n                        handledErrors.push(err);\n                        initPromise.asyncReject(err);\n                        return event.trigger(EVENT.ERROR, err);\n                    }\n                }));\n            };\n            var exportsPromise = new promise_ZalgoPromise;\n            var xport = function(actualExports) {\n                return promise_ZalgoPromise.try((function() {\n                    exportsPromise.resolve(actualExports);\n                }));\n            };\n            initChild.onError = onError;\n            var renderTemplate = function(renderer, _ref8) {\n                return renderer({\n                    uid: uid,\n                    container: _ref8.container,\n                    context: _ref8.context,\n                    doc: _ref8.doc,\n                    frame: _ref8.frame,\n                    prerenderFrame: _ref8.prerenderFrame,\n                    focus: focus,\n                    close: close,\n                    state: state,\n                    props: props,\n                    tag: tag,\n                    dimensions: getDimensions(),\n                    event: event\n                });\n            };\n            var prerender = function(proxyPrerenderWin, _ref9) {\n                var context = _ref9.context;\n                return prerenderOverride ? prerenderOverride(proxyPrerenderWin, {\n                    context: context\n                }) : promise_ZalgoPromise.try((function() {\n                    if (prerenderTemplate) {\n                        var prerenderWindow = proxyPrerenderWin.getWindow();\n                        if (prerenderWindow && isSameDomain(prerenderWindow) && function(win) {\n                            try {\n                                if (!win.location.href) return !0;\n                                if (\"about:blank\" === win.location.href) return !0;\n                            } catch (err) {}\n                            return !1;\n                        }(prerenderWindow)) {\n                            var doc = (prerenderWindow = assertSameDomain(prerenderWindow)).document;\n                            var el = renderTemplate(prerenderTemplate, {\n                                context: context,\n                                doc: doc\n                            });\n                            if (el) {\n                                if (el.ownerDocument !== doc) throw new Error(\"Expected prerender template to have been created with document from child window\");\n                                !function(win, el) {\n                                    var tag = el.tagName.toLowerCase();\n                                    if (\"html\" !== tag) throw new Error(\"Expected element to be html, got \" + tag);\n                                    var documentElement = win.document.documentElement;\n                                    for (var _i6 = 0, _arrayFrom2 = arrayFrom(documentElement.children); _i6 < _arrayFrom2.length; _i6++) documentElement.removeChild(_arrayFrom2[_i6]);\n                                    for (var _i8 = 0, _arrayFrom4 = arrayFrom(el.children); _i8 < _arrayFrom4.length; _i8++) documentElement.appendChild(_arrayFrom4[_i8]);\n                                }(prerenderWindow, el);\n                                var _autoResize$width = autoResize.width, width = void 0 !== _autoResize$width && _autoResize$width, _autoResize$height = autoResize.height, height = void 0 !== _autoResize$height && _autoResize$height, _autoResize$element = autoResize.element, element = void 0 === _autoResize$element ? \"body\" : _autoResize$element;\n                                if ((element = getElementSafe(element, doc)) && (width || height)) {\n                                    var prerenderResizeListener = onResize(element, (function(_ref10) {\n                                        resize({\n                                            width: width ? _ref10.width : void 0,\n                                            height: height ? _ref10.height : void 0\n                                        });\n                                    }), {\n                                        width: width,\n                                        height: height,\n                                        win: prerenderWindow\n                                    });\n                                    event.on(EVENT.RENDERED, prerenderResizeListener.cancel);\n                                }\n                            }\n                        }\n                    }\n                }));\n            };\n            var renderContainer = function(proxyContainer, _ref11) {\n                var proxyFrame = _ref11.proxyFrame, proxyPrerenderFrame = _ref11.proxyPrerenderFrame, context = _ref11.context, rerender = _ref11.rerender;\n                return renderContainerOverride ? renderContainerOverride(proxyContainer, {\n                    proxyFrame: proxyFrame,\n                    proxyPrerenderFrame: proxyPrerenderFrame,\n                    context: context,\n                    rerender: rerender\n                }) : promise_ZalgoPromise.hash({\n                    container: proxyContainer.get(),\n                    frame: proxyFrame ? proxyFrame.get() : null,\n                    prerenderFrame: proxyPrerenderFrame ? proxyPrerenderFrame.get() : null,\n                    internalState: getInternalState()\n                }).then((function(_ref12) {\n                    var container = _ref12.container, visible = _ref12.internalState.visible;\n                    var innerContainer = renderTemplate(containerTemplate, {\n                        context: context,\n                        container: container,\n                        frame: _ref12.frame,\n                        prerenderFrame: _ref12.prerenderFrame,\n                        doc: document\n                    });\n                    if (innerContainer) {\n                        visible || hideElement(innerContainer);\n                        appendChild(container, innerContainer);\n                        var containerWatcher = function(element, handler) {\n                            handler = once(handler);\n                            var cancelled = !1;\n                            var mutationObservers = [];\n                            var interval;\n                            var sacrificialFrame;\n                            var sacrificialFrameWin;\n                            var cancel = function() {\n                                cancelled = !0;\n                                for (var _i18 = 0; _i18 < mutationObservers.length; _i18++) mutationObservers[_i18].disconnect();\n                                interval && interval.cancel();\n                                sacrificialFrameWin && sacrificialFrameWin.removeEventListener(\"unload\", elementClosed);\n                                sacrificialFrame && destroyElement(sacrificialFrame);\n                            };\n                            var elementClosed = function() {\n                                if (!cancelled) {\n                                    handler();\n                                    cancel();\n                                }\n                            };\n                            if (isElementClosed(element)) {\n                                elementClosed();\n                                return {\n                                    cancel: cancel\n                                };\n                            }\n                            if (window.MutationObserver) {\n                                var mutationElement = element.parentElement;\n                                for (;mutationElement; ) {\n                                    var mutationObserver = new window.MutationObserver((function() {\n                                        isElementClosed(element) && elementClosed();\n                                    }));\n                                    mutationObserver.observe(mutationElement, {\n                                        childList: !0\n                                    });\n                                    mutationObservers.push(mutationObserver);\n                                    mutationElement = mutationElement.parentElement;\n                                }\n                            }\n                            (sacrificialFrame = document.createElement(\"iframe\")).setAttribute(\"name\", \"__detect_close_\" + uniqueID() + \"__\");\n                            sacrificialFrame.style.display = \"none\";\n                            awaitFrameWindow(sacrificialFrame).then((function(frameWin) {\n                                (sacrificialFrameWin = assertSameDomain(frameWin)).addEventListener(\"unload\", elementClosed);\n                            }));\n                            element.appendChild(sacrificialFrame);\n                            interval = safeInterval((function() {\n                                isElementClosed(element) && elementClosed();\n                            }), 1e3);\n                            return {\n                                cancel: cancel\n                            };\n                        }(innerContainer, (function() {\n                            var removeError = new Error(\"Detected container element removed from DOM\");\n                            return promise_ZalgoPromise.delay(1).then((function() {\n                                if (!isElementClosed(innerContainer)) {\n                                    clean.all(removeError);\n                                    return rerender().then(resolveInitPromise, rejectInitPromise);\n                                }\n                                close(removeError);\n                            }));\n                        }));\n                        clean.register((function() {\n                            return containerWatcher.cancel();\n                        }));\n                        clean.register((function() {\n                            return destroyElement(innerContainer);\n                        }));\n                        return currentProxyContainer = getProxyObject(innerContainer);\n                    }\n                }));\n            };\n            var getHelpers = function() {\n                return {\n                    state: state,\n                    event: event,\n                    close: close,\n                    focus: focus,\n                    resize: resize,\n                    onError: onError,\n                    updateProps: updateProps,\n                    show: show,\n                    hide: hide\n                };\n            };\n            var setProps = function(newInputProps) {\n                void 0 === newInputProps && (newInputProps = {});\n                var container = currentContainer;\n                var helpers = getHelpers();\n                extend(inputProps, newInputProps);\n                !function(propsDef, existingProps, inputProps, helpers, container) {\n                    var state = helpers.state, close = helpers.close, focus = helpers.focus, event = helpers.event, onError = helpers.onError;\n                    eachProp(inputProps, propsDef, (function(key, propDef, val) {\n                        var valueDetermined = !1;\n                        var value = val;\n                        Object.defineProperty(existingProps, key, {\n                            configurable: !0,\n                            enumerable: !0,\n                            get: function() {\n                                if (valueDetermined) return value;\n                                valueDetermined = !0;\n                                return function() {\n                                    if (!propDef) return value;\n                                    var alias = propDef.alias;\n                                    alias && !isDefined(val) && isDefined(inputProps[alias]) && (value = inputProps[alias]);\n                                    propDef.value && (value = propDef.value({\n                                        props: existingProps,\n                                        state: state,\n                                        close: close,\n                                        focus: focus,\n                                        event: event,\n                                        onError: onError,\n                                        container: container\n                                    }));\n                                    !propDef.default || isDefined(value) || isDefined(inputProps[key]) || (value = propDef.default({\n                                        props: existingProps,\n                                        state: state,\n                                        close: close,\n                                        focus: focus,\n                                        event: event,\n                                        onError: onError,\n                                        container: container\n                                    }));\n                                    if (isDefined(value)) {\n                                        if (propDef.type === PROP_TYPE.ARRAY ? !Array.isArray(value) : typeof value !== propDef.type) throw new TypeError(\"Prop is not of type \" + propDef.type + \": \" + key);\n                                    } else if (!1 !== propDef.required && !isDefined(inputProps[key])) throw new Error('Expected prop \"' + key + '\" to be defined');\n                                    isDefined(value) && propDef.decorate && (value = propDef.decorate({\n                                        value: value,\n                                        props: existingProps,\n                                        state: state,\n                                        close: close,\n                                        focus: focus,\n                                        event: event,\n                                        onError: onError,\n                                        container: container\n                                    }));\n                                    return value;\n                                }();\n                            }\n                        });\n                    }));\n                    eachProp(existingProps, propsDef, src_util_noop);\n                }(propsDef, props, inputProps, helpers, container);\n            };\n            var updateProps = function(newProps) {\n                setProps(newProps);\n                return initPromise.then((function() {\n                    var child = childComponent;\n                    var proxyWin = currentProxyWin;\n                    if (child && proxyWin && currentChildDomain) return getPropsForChild(currentChildDomain).then((function(childProps) {\n                        return child.updateProps(childProps).catch((function(err) {\n                            return checkWindowClose(proxyWin).then((function(closed) {\n                                if (!closed) throw err;\n                            }));\n                        }));\n                    }));\n                }));\n            };\n            var getProxyContainer = function(container) {\n                return getProxyContainerOverride ? getProxyContainerOverride(container) : promise_ZalgoPromise.try((function() {\n                    return elementReady(container);\n                })).then((function(containerElement) {\n                    isShadowElement(containerElement) && (containerElement = function insertShadowSlot(element) {\n                        var shadowHost = function(element) {\n                            var shadowRoot = function(element) {\n                                for (;element.parentNode; ) element = element.parentNode;\n                                if (isShadowElement(element)) return element;\n                            }(element);\n                            if (shadowRoot && shadowRoot.host) return shadowRoot.host;\n                        }(element);\n                        if (!shadowHost) throw new Error(\"Element is not in shadow dom\");\n                        var slotName = \"shadow-slot-\" + uniqueID();\n                        var slot = document.createElement(\"slot\");\n                        slot.setAttribute(\"name\", slotName);\n                        element.appendChild(slot);\n                        var slotProvider = document.createElement(\"div\");\n                        slotProvider.setAttribute(\"slot\", slotName);\n                        shadowHost.appendChild(slotProvider);\n                        return isShadowElement(shadowHost) ? insertShadowSlot(slotProvider) : slotProvider;\n                    }(containerElement));\n                    currentContainer = containerElement;\n                    return getProxyObject(containerElement);\n                }));\n            };\n            return {\n                init: function() {\n                    !function() {\n                        event.on(EVENT.RENDER, (function() {\n                            return props.onRender();\n                        }));\n                        event.on(EVENT.DISPLAY, (function() {\n                            return props.onDisplay();\n                        }));\n                        event.on(EVENT.RENDERED, (function() {\n                            return props.onRendered();\n                        }));\n                        event.on(EVENT.CLOSE, (function() {\n                            return props.onClose();\n                        }));\n                        event.on(EVENT.DESTROY, (function() {\n                            return props.onDestroy();\n                        }));\n                        event.on(EVENT.RESIZE, (function() {\n                            return props.onResize();\n                        }));\n                        event.on(EVENT.FOCUS, (function() {\n                            return props.onFocus();\n                        }));\n                        event.on(EVENT.PROPS, (function(newProps) {\n                            return props.onProps(newProps);\n                        }));\n                        event.on(EVENT.ERROR, (function(err) {\n                            return props && props.onError ? props.onError(err) : rejectInitPromise(err).then((function() {\n                                setTimeout((function() {\n                                    throw err;\n                                }), 1);\n                            }));\n                        }));\n                        clean.register(event.reset);\n                    }();\n                },\n                render: function(_ref14) {\n                    var target = _ref14.target, container = _ref14.container, context = _ref14.context, rerender = _ref14.rerender;\n                    return promise_ZalgoPromise.try((function() {\n                        var initialChildDomain = getInitialChildDomain();\n                        var childDomainMatch = domainMatch || getInitialChildDomain();\n                        !function(target, childDomainMatch, container) {\n                            if (target !== window) {\n                                if (!isSameTopWindow(window, target)) throw new Error(\"Can only renderTo an adjacent frame\");\n                                var origin = getDomain();\n                                if (!matchDomain(childDomainMatch, origin) && !isSameDomain(target)) throw new Error(\"Can not render remotely to \" + childDomainMatch.toString() + \" - can only render to \" + origin);\n                                if (container && \"string\" != typeof container) throw new Error(\"Container passed to renderTo must be a string selector, got \" + typeof container + \" }\");\n                            }\n                        }(target, childDomainMatch, container);\n                        var delegatePromise = promise_ZalgoPromise.try((function() {\n                            if (target !== window) return function(context, target) {\n                                var delegateProps = {};\n                                for (var _i4 = 0, _Object$keys4 = Object.keys(props); _i4 < _Object$keys4.length; _i4++) {\n                                    var propName = _Object$keys4[_i4];\n                                    var propDef = propsDef[propName];\n                                    propDef && propDef.allowDelegate && (delegateProps[propName] = props[propName]);\n                                }\n                                var childOverridesPromise = send_send(target, \"zoid_delegate_\" + name, {\n                                    uid: uid,\n                                    overrides: {\n                                        props: delegateProps,\n                                        event: event,\n                                        close: close,\n                                        onError: onError,\n                                        getInternalState: getInternalState,\n                                        setInternalState: setInternalState,\n                                        resolveInitPromise: resolveInitPromise,\n                                        rejectInitPromise: rejectInitPromise\n                                    }\n                                }).then((function(_ref13) {\n                                    var parentComp = _ref13.data.parent;\n                                    clean.register((function(err) {\n                                        if (!isWindowClosed(target)) return parentComp.destroy(err);\n                                    }));\n                                    return parentComp.getDelegateOverrides();\n                                })).catch((function(err) {\n                                    throw new Error(\"Unable to delegate rendering. Possibly the component is not loaded in the target window.\\n\\n\" + stringifyError(err));\n                                }));\n                                getProxyContainerOverride = function() {\n                                    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) args[_key] = arguments[_key];\n                                    return childOverridesPromise.then((function(childOverrides) {\n                                        return childOverrides.getProxyContainer.apply(childOverrides, args);\n                                    }));\n                                };\n                                renderContainerOverride = function() {\n                                    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) args[_key2] = arguments[_key2];\n                                    return childOverridesPromise.then((function(childOverrides) {\n                                        return childOverrides.renderContainer.apply(childOverrides, args);\n                                    }));\n                                };\n                                showOverride = function() {\n                                    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) args[_key3] = arguments[_key3];\n                                    return childOverridesPromise.then((function(childOverrides) {\n                                        return childOverrides.show.apply(childOverrides, args);\n                                    }));\n                                };\n                                hideOverride = function() {\n                                    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) args[_key4] = arguments[_key4];\n                                    return childOverridesPromise.then((function(childOverrides) {\n                                        return childOverrides.hide.apply(childOverrides, args);\n                                    }));\n                                };\n                                watchForUnloadOverride = function() {\n                                    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) args[_key5] = arguments[_key5];\n                                    return childOverridesPromise.then((function(childOverrides) {\n                                        return childOverrides.watchForUnload.apply(childOverrides, args);\n                                    }));\n                                };\n                                if (context === CONTEXT.IFRAME) {\n                                    getProxyWindowOverride = function() {\n                                        for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) args[_key6] = arguments[_key6];\n                                        return childOverridesPromise.then((function(childOverrides) {\n                                            return childOverrides.getProxyWindow.apply(childOverrides, args);\n                                        }));\n                                    };\n                                    openFrameOverride = function() {\n                                        for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) args[_key7] = arguments[_key7];\n                                        return childOverridesPromise.then((function(childOverrides) {\n                                            return childOverrides.openFrame.apply(childOverrides, args);\n                                        }));\n                                    };\n                                    openPrerenderFrameOverride = function() {\n                                        for (var _len8 = arguments.length, args = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) args[_key8] = arguments[_key8];\n                                        return childOverridesPromise.then((function(childOverrides) {\n                                            return childOverrides.openPrerenderFrame.apply(childOverrides, args);\n                                        }));\n                                    };\n                                    prerenderOverride = function() {\n                                        for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) args[_key9] = arguments[_key9];\n                                        return childOverridesPromise.then((function(childOverrides) {\n                                            return childOverrides.prerender.apply(childOverrides, args);\n                                        }));\n                                    };\n                                    openOverride = function() {\n                                        for (var _len10 = arguments.length, args = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) args[_key10] = arguments[_key10];\n                                        return childOverridesPromise.then((function(childOverrides) {\n                                            return childOverrides.open.apply(childOverrides, args);\n                                        }));\n                                    };\n                                    openPrerenderOverride = function() {\n                                        for (var _len11 = arguments.length, args = new Array(_len11), _key11 = 0; _key11 < _len11; _key11++) args[_key11] = arguments[_key11];\n                                        return childOverridesPromise.then((function(childOverrides) {\n                                            return childOverrides.openPrerender.apply(childOverrides, args);\n                                        }));\n                                    };\n                                } else context === CONTEXT.POPUP && (setProxyWinOverride = function() {\n                                    for (var _len12 = arguments.length, args = new Array(_len12), _key12 = 0; _key12 < _len12; _key12++) args[_key12] = arguments[_key12];\n                                    return childOverridesPromise.then((function(childOverrides) {\n                                        return childOverrides.setProxyWin.apply(childOverrides, args);\n                                    }));\n                                });\n                                return childOverridesPromise;\n                            }(context, target);\n                        }));\n                        var windowProp = props.window;\n                        var watchForUnloadPromise = watchForUnload();\n                        var buildBodyPromise = serializeProps(propsDef, props, \"post\");\n                        var onRenderPromise = event.trigger(EVENT.RENDER);\n                        var getProxyContainerPromise = getProxyContainer(container);\n                        var getProxyWindowPromise = getProxyWindow();\n                        var finalSetPropsPromise = getProxyContainerPromise.then((function() {\n                            return setProps();\n                        }));\n                        var buildUrlPromise = finalSetPropsPromise.then((function() {\n                            return serializeProps(propsDef, props, \"get\").then((function(query) {\n                                return function(url, options) {\n                                    var query = options.query || {};\n                                    var hash = options.hash || {};\n                                    var originalUrl;\n                                    var originalHash;\n                                    var _url$split = url.split(\"#\");\n                                    originalHash = _url$split[1];\n                                    var _originalUrl$split = (originalUrl = _url$split[0]).split(\"?\");\n                                    originalUrl = _originalUrl$split[0];\n                                    var queryString = extendQuery(_originalUrl$split[1], query);\n                                    var hashString = extendQuery(originalHash, hash);\n                                    queryString && (originalUrl = originalUrl + \"?\" + queryString);\n                                    hashString && (originalUrl = originalUrl + \"#\" + hashString);\n                                    return originalUrl;\n                                }(normalizeMockUrl(getUrl()), {\n                                    query: query\n                                });\n                            }));\n                        }));\n                        var buildWindowNamePromise = getProxyWindowPromise.then((function(proxyWin) {\n                            return function(_temp2) {\n                                var _ref6 = void 0 === _temp2 ? {} : _temp2, proxyWin = _ref6.proxyWin, initialChildDomain = _ref6.initialChildDomain, childDomainMatch = _ref6.childDomainMatch, _ref6$target = _ref6.target, target = void 0 === _ref6$target ? window : _ref6$target, context = _ref6.context;\n                                return function(_temp) {\n                                    var _ref5 = void 0 === _temp ? {} : _temp, proxyWin = _ref5.proxyWin, childDomainMatch = _ref5.childDomainMatch, context = _ref5.context;\n                                    return getPropsForChild(_ref5.initialChildDomain).then((function(childProps) {\n                                        return {\n                                            uid: uid,\n                                            context: context,\n                                            tag: tag,\n                                            childDomainMatch: childDomainMatch,\n                                            version: \"9_0_86\",\n                                            props: childProps,\n                                            exports: (win = proxyWin, {\n                                                init: function(childExports) {\n                                                    return initChild(this.origin, childExports);\n                                                },\n                                                close: close,\n                                                checkClose: function() {\n                                                    return checkWindowClose(win);\n                                                },\n                                                resize: resize,\n                                                onError: onError,\n                                                show: show,\n                                                hide: hide,\n                                                export: xport\n                                            })\n                                        };\n                                        var win;\n                                    }));\n                                }({\n                                    proxyWin: proxyWin,\n                                    initialChildDomain: initialChildDomain,\n                                    childDomainMatch: childDomainMatch,\n                                    context: context\n                                }).then((function(childPayload) {\n                                    var _crossDomainSerialize = crossDomainSerialize({\n                                        data: childPayload,\n                                        metaData: {\n                                            windowRef: getWindowRef(target, initialChildDomain, context, proxyWin)\n                                        },\n                                        sender: {\n                                            domain: getDomain(window)\n                                        },\n                                        receiver: {\n                                            win: proxyWin,\n                                            domain: childDomainMatch\n                                        },\n                                        passByReference: initialChildDomain === getDomain()\n                                    }), serializedData = _crossDomainSerialize.serializedData;\n                                    clean.register(_crossDomainSerialize.cleanReference);\n                                    return serializedData;\n                                }));\n                            }({\n                                proxyWin: (_ref7 = {\n                                    proxyWin: proxyWin,\n                                    initialChildDomain: initialChildDomain,\n                                    childDomainMatch: childDomainMatch,\n                                    target: target,\n                                    context: context\n                                }).proxyWin,\n                                initialChildDomain: _ref7.initialChildDomain,\n                                childDomainMatch: _ref7.childDomainMatch,\n                                target: _ref7.target,\n                                context: _ref7.context\n                            }).then((function(serializedPayload) {\n                                return buildChildWindowName({\n                                    name: name,\n                                    serializedPayload: serializedPayload\n                                });\n                            }));\n                            var _ref7;\n                        }));\n                        var openFramePromise = buildWindowNamePromise.then((function(windowName) {\n                            return openFrame(context, {\n                                windowName: windowName\n                            });\n                        }));\n                        var openPrerenderFramePromise = openPrerenderFrame(context);\n                        var renderContainerPromise = promise_ZalgoPromise.hash({\n                            proxyContainer: getProxyContainerPromise,\n                            proxyFrame: openFramePromise,\n                            proxyPrerenderFrame: openPrerenderFramePromise\n                        }).then((function(_ref15) {\n                            return renderContainer(_ref15.proxyContainer, {\n                                context: context,\n                                proxyFrame: _ref15.proxyFrame,\n                                proxyPrerenderFrame: _ref15.proxyPrerenderFrame,\n                                rerender: rerender\n                            });\n                        })).then((function(proxyContainer) {\n                            return proxyContainer;\n                        }));\n                        var openPromise = promise_ZalgoPromise.hash({\n                            windowName: buildWindowNamePromise,\n                            proxyFrame: openFramePromise,\n                            proxyWin: getProxyWindowPromise\n                        }).then((function(_ref16) {\n                            var proxyWin = _ref16.proxyWin;\n                            return windowProp ? proxyWin : open(context, {\n                                windowName: _ref16.windowName,\n                                proxyWin: proxyWin,\n                                proxyFrame: _ref16.proxyFrame\n                            });\n                        }));\n                        var openPrerenderPromise = promise_ZalgoPromise.hash({\n                            proxyWin: openPromise,\n                            proxyPrerenderFrame: openPrerenderFramePromise\n                        }).then((function(_ref17) {\n                            return openPrerender(context, _ref17.proxyWin, _ref17.proxyPrerenderFrame);\n                        }));\n                        var setStatePromise = openPromise.then((function(proxyWin) {\n                            currentProxyWin = proxyWin;\n                            return setProxyWin(proxyWin);\n                        }));\n                        var prerenderPromise = promise_ZalgoPromise.hash({\n                            proxyPrerenderWin: openPrerenderPromise,\n                            state: setStatePromise\n                        }).then((function(_ref18) {\n                            return prerender(_ref18.proxyPrerenderWin, {\n                                context: context\n                            });\n                        }));\n                        var setWindowNamePromise = promise_ZalgoPromise.hash({\n                            proxyWin: openPromise,\n                            windowName: buildWindowNamePromise\n                        }).then((function(_ref19) {\n                            if (windowProp) return _ref19.proxyWin.setName(_ref19.windowName);\n                        }));\n                        var getMethodPromise = promise_ZalgoPromise.hash({\n                            body: buildBodyPromise\n                        }).then((function(_ref20) {\n                            return options.method ? options.method : Object.keys(_ref20.body).length ? \"post\" : \"get\";\n                        }));\n                        var loadUrlPromise = promise_ZalgoPromise.hash({\n                            proxyWin: openPromise,\n                            windowUrl: buildUrlPromise,\n                            body: buildBodyPromise,\n                            method: getMethodPromise,\n                            windowName: setWindowNamePromise,\n                            prerender: prerenderPromise\n                        }).then((function(_ref21) {\n                            return _ref21.proxyWin.setLocation(_ref21.windowUrl, {\n                                method: _ref21.method,\n                                body: _ref21.body\n                            });\n                        }));\n                        var watchForClosePromise = openPromise.then((function(proxyWin) {\n                            !function watchForClose(proxyWin, context) {\n                                var cancelled = !1;\n                                clean.register((function() {\n                                    cancelled = !0;\n                                }));\n                                return promise_ZalgoPromise.delay(2e3).then((function() {\n                                    return proxyWin.isClosed();\n                                })).then((function(isClosed) {\n                                    if (!cancelled) return isClosed ? close(new Error(\"Detected \" + context + \" close\")) : watchForClose(proxyWin, context);\n                                }));\n                            }(proxyWin, context);\n                        }));\n                        var onDisplayPromise = promise_ZalgoPromise.hash({\n                            container: renderContainerPromise,\n                            prerender: prerenderPromise\n                        }).then((function() {\n                            return event.trigger(EVENT.DISPLAY);\n                        }));\n                        var openBridgePromise = openPromise.then((function(proxyWin) {\n                            return function(proxyWin, initialChildDomain, context) {\n                                return promise_ZalgoPromise.try((function() {\n                                    return proxyWin.awaitWindow();\n                                })).then((function(win) {\n                                    if (src_bridge && src_bridge.needsBridge({\n                                        win: win,\n                                        domain: initialChildDomain\n                                    }) && !src_bridge.hasBridge(initialChildDomain, initialChildDomain)) {\n                                        var bridgeUrl = \"function\" == typeof options.bridgeUrl ? options.bridgeUrl({\n                                            props: props\n                                        }) : options.bridgeUrl;\n                                        if (!bridgeUrl) throw new Error(\"Bridge needed to render \" + context);\n                                        var bridgeDomain = getDomainFromUrl(bridgeUrl);\n                                        src_bridge.linkUrl(win, initialChildDomain);\n                                        return src_bridge.openBridge(normalizeMockUrl(bridgeUrl), bridgeDomain);\n                                    }\n                                }));\n                            }(proxyWin, initialChildDomain, context);\n                        }));\n                        var runTimeoutPromise = loadUrlPromise.then((function() {\n                            return promise_ZalgoPromise.try((function() {\n                                var timeout = props.timeout;\n                                if (timeout) return initPromise.timeout(timeout, new Error(\"Loading component timed out after \" + timeout + \" milliseconds\"));\n                            }));\n                        }));\n                        var onRenderedPromise = initPromise.then((function() {\n                            return event.trigger(EVENT.RENDERED);\n                        }));\n                        return promise_ZalgoPromise.hash({\n                            initPromise: initPromise,\n                            buildUrlPromise: buildUrlPromise,\n                            onRenderPromise: onRenderPromise,\n                            getProxyContainerPromise: getProxyContainerPromise,\n                            openFramePromise: openFramePromise,\n                            openPrerenderFramePromise: openPrerenderFramePromise,\n                            renderContainerPromise: renderContainerPromise,\n                            openPromise: openPromise,\n                            openPrerenderPromise: openPrerenderPromise,\n                            setStatePromise: setStatePromise,\n                            prerenderPromise: prerenderPromise,\n                            loadUrlPromise: loadUrlPromise,\n                            buildWindowNamePromise: buildWindowNamePromise,\n                            setWindowNamePromise: setWindowNamePromise,\n                            watchForClosePromise: watchForClosePromise,\n                            onDisplayPromise: onDisplayPromise,\n                            openBridgePromise: openBridgePromise,\n                            runTimeoutPromise: runTimeoutPromise,\n                            onRenderedPromise: onRenderedPromise,\n                            delegatePromise: delegatePromise,\n                            watchForUnloadPromise: watchForUnloadPromise,\n                            finalSetPropsPromise: finalSetPropsPromise\n                        });\n                    })).catch((function(err) {\n                        return promise_ZalgoPromise.all([ onError(err), destroy(err) ]).then((function() {\n                            throw err;\n                        }), (function() {\n                            throw err;\n                        }));\n                    })).then(src_util_noop);\n                },\n                destroy: destroy,\n                getProps: function() {\n                    return props;\n                },\n                setProps: setProps,\n                export: xport,\n                getHelpers: getHelpers,\n                getDelegateOverrides: function() {\n                    return promise_ZalgoPromise.try((function() {\n                        return {\n                            getProxyContainer: getProxyContainer,\n                            show: show,\n                            hide: hide,\n                            renderContainer: renderContainer,\n                            getProxyWindow: getProxyWindow,\n                            watchForUnload: watchForUnload,\n                            openFrame: openFrame,\n                            openPrerenderFrame: openPrerenderFrame,\n                            prerender: prerender,\n                            open: open,\n                            openPrerender: openPrerender,\n                            setProxyWin: setProxyWin\n                        };\n                    }));\n                },\n                getExports: function() {\n                    return xports({\n                        getExports: function() {\n                            return exportsPromise;\n                        }\n                    });\n                }\n            };\n        }\n        function defaultContainerTemplate(_ref) {\n            var uid = _ref.uid, frame = _ref.frame, prerenderFrame = _ref.prerenderFrame, doc = _ref.doc, props = _ref.props, event = _ref.event, dimensions = _ref.dimensions;\n            var width = dimensions.width, height = dimensions.height;\n            if (frame && prerenderFrame) {\n                var div = doc.createElement(\"div\");\n                div.setAttribute(\"id\", uid);\n                var style = doc.createElement(\"style\");\n                props.cspNonce && style.setAttribute(\"nonce\", props.cspNonce);\n                style.appendChild(doc.createTextNode(\"\\n            #\" + uid + \" {\\n                display: inline-block;\\n                position: relative;\\n                width: \" + width + \";\\n                height: \" + height + \";\\n            }\\n\\n            #\" + uid + \" > iframe {\\n                display: inline-block;\\n                position: absolute;\\n                width: 100%;\\n                height: 100%;\\n                top: 0;\\n                left: 0;\\n                transition: opacity .2s ease-in-out;\\n            }\\n\\n            #\" + uid + \" > iframe.zoid-invisible {\\n                opacity: 0;\\n            }\\n\\n            #\" + uid + \" > iframe.zoid-visible {\\n                opacity: 1;\\n        }\\n        \"));\n                div.appendChild(frame);\n                div.appendChild(prerenderFrame);\n                div.appendChild(style);\n                prerenderFrame.classList.add(\"zoid-visible\");\n                frame.classList.add(\"zoid-invisible\");\n                event.on(EVENT.RENDERED, (function() {\n                    prerenderFrame.classList.remove(\"zoid-visible\");\n                    prerenderFrame.classList.add(\"zoid-invisible\");\n                    frame.classList.remove(\"zoid-invisible\");\n                    frame.classList.add(\"zoid-visible\");\n                    setTimeout((function() {\n                        destroyElement(prerenderFrame);\n                    }), 1);\n                }));\n                event.on(EVENT.RESIZE, (function(_ref2) {\n                    var newWidth = _ref2.width, newHeight = _ref2.height;\n                    \"number\" == typeof newWidth && (div.style.width = toCSS(newWidth));\n                    \"number\" == typeof newHeight && (div.style.height = toCSS(newHeight));\n                }));\n                return div;\n            }\n        }\n        function defaultPrerenderTemplate(_ref) {\n            var doc = _ref.doc, props = _ref.props;\n            var html = doc.createElement(\"html\");\n            var body = doc.createElement(\"body\");\n            var style = doc.createElement(\"style\");\n            var spinner = doc.createElement(\"div\");\n            spinner.classList.add(\"spinner\");\n            props.cspNonce && style.setAttribute(\"nonce\", props.cspNonce);\n            html.appendChild(body);\n            body.appendChild(spinner);\n            body.appendChild(style);\n            style.appendChild(doc.createTextNode(\"\\n            html, body {\\n                width: 100%;\\n                height: 100%;\\n            }\\n\\n            .spinner {\\n                position: fixed;\\n                max-height: 60vmin;\\n                max-width: 60vmin;\\n                height: 40px;\\n                width: 40px;\\n                top: 50%;\\n                left: 50%;\\n                box-sizing: border-box;\\n                border: 3px solid rgba(0, 0, 0, .2);\\n                border-top-color: rgba(33, 128, 192, 0.8);\\n                border-radius: 100%;\\n                animation: rotation .7s infinite linear;\\n            }\\n\\n            @keyframes rotation {\\n                from {\\n                    transform: translateX(-50%) translateY(-50%) rotate(0deg);\\n                }\\n                to {\\n                    transform: translateX(-50%) translateY(-50%) rotate(359deg);\\n                }\\n            }\\n        \"));\n            return html;\n        }\n        var cleanInstances = cleanup();\n        var cleanZoid = cleanup();\n        function component(opts) {\n            var options = function(options) {\n                var tag = options.tag, url = options.url, domain = options.domain, bridgeUrl = options.bridgeUrl, _options$props = options.props, props = void 0 === _options$props ? {} : _options$props, _options$dimensions = options.dimensions, dimensions = void 0 === _options$dimensions ? {} : _options$dimensions, _options$autoResize = options.autoResize, autoResize = void 0 === _options$autoResize ? {} : _options$autoResize, _options$allowedParen = options.allowedParentDomains, allowedParentDomains = void 0 === _options$allowedParen ? \"*\" : _options$allowedParen, _options$attributes = options.attributes, attributes = void 0 === _options$attributes ? {} : _options$attributes, _options$defaultConte = options.defaultContext, defaultContext = void 0 === _options$defaultConte ? CONTEXT.IFRAME : _options$defaultConte, _options$containerTem = options.containerTemplate, containerTemplate = void 0 === _options$containerTem ? defaultContainerTemplate : _options$containerTem, _options$prerenderTem = options.prerenderTemplate, prerenderTemplate = void 0 === _options$prerenderTem ? defaultPrerenderTemplate : _options$prerenderTem, validate = options.validate, _options$eligible = options.eligible, eligible = void 0 === _options$eligible ? function() {\n                    return {\n                        eligible: !0\n                    };\n                } : _options$eligible, _options$logger = options.logger, logger = void 0 === _options$logger ? {\n                    info: src_util_noop\n                } : _options$logger, _options$exports = options.exports, xportsDefinition = void 0 === _options$exports ? src_util_noop : _options$exports, method = options.method, _options$children = options.children, children = void 0 === _options$children ? function() {\n                    return {};\n                } : _options$children;\n                var name = tag.replace(/-/g, \"_\");\n                var propsDef = _extends({}, {\n                    window: {\n                        type: PROP_TYPE.OBJECT,\n                        sendToChild: !1,\n                        required: !1,\n                        allowDelegate: !0,\n                        validate: function(_ref2) {\n                            var value = _ref2.value;\n                            if (!isWindow(value) && !window_ProxyWindow.isProxyWindow(value)) throw new Error(\"Expected Window or ProxyWindow\");\n                            if (isWindow(value)) {\n                                if (isWindowClosed(value)) throw new Error(\"Window is closed\");\n                                if (!isSameDomain(value)) throw new Error(\"Window is not same domain\");\n                            }\n                        },\n                        decorate: function(_ref3) {\n                            return setup_toProxyWindow(_ref3.value);\n                        }\n                    },\n                    timeout: {\n                        type: PROP_TYPE.NUMBER,\n                        required: !1,\n                        sendToChild: !1\n                    },\n                    cspNonce: {\n                        type: PROP_TYPE.STRING,\n                        required: !1\n                    },\n                    onDisplay: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        allowDelegate: !0,\n                        default: props_defaultNoop,\n                        decorate: props_decorateOnce\n                    },\n                    onRendered: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        default: props_defaultNoop,\n                        decorate: props_decorateOnce\n                    },\n                    onRender: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        default: props_defaultNoop,\n                        decorate: props_decorateOnce\n                    },\n                    onClose: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        allowDelegate: !0,\n                        default: props_defaultNoop,\n                        decorate: props_decorateOnce\n                    },\n                    onDestroy: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        allowDelegate: !0,\n                        default: props_defaultNoop,\n                        decorate: props_decorateOnce\n                    },\n                    onResize: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        allowDelegate: !0,\n                        default: props_defaultNoop\n                    },\n                    onFocus: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        allowDelegate: !0,\n                        default: props_defaultNoop\n                    },\n                    close: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        childDecorate: function(_ref4) {\n                            return _ref4.close;\n                        }\n                    },\n                    focus: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        childDecorate: function(_ref5) {\n                            return _ref5.focus;\n                        }\n                    },\n                    resize: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        childDecorate: function(_ref6) {\n                            return _ref6.resize;\n                        }\n                    },\n                    uid: {\n                        type: PROP_TYPE.STRING,\n                        required: !1,\n                        sendToChild: !1,\n                        childDecorate: function(_ref7) {\n                            return _ref7.uid;\n                        }\n                    },\n                    tag: {\n                        type: PROP_TYPE.STRING,\n                        required: !1,\n                        sendToChild: !1,\n                        childDecorate: function(_ref8) {\n                            return _ref8.tag;\n                        }\n                    },\n                    getParent: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        childDecorate: function(_ref9) {\n                            return _ref9.getParent;\n                        }\n                    },\n                    getParentDomain: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        childDecorate: function(_ref10) {\n                            return _ref10.getParentDomain;\n                        }\n                    },\n                    show: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        childDecorate: function(_ref11) {\n                            return _ref11.show;\n                        }\n                    },\n                    hide: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        childDecorate: function(_ref12) {\n                            return _ref12.hide;\n                        }\n                    },\n                    export: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        childDecorate: function(_ref13) {\n                            return _ref13.export;\n                        }\n                    },\n                    onError: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        childDecorate: function(_ref14) {\n                            return _ref14.onError;\n                        }\n                    },\n                    onProps: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        childDecorate: function(_ref15) {\n                            return _ref15.onProps;\n                        }\n                    },\n                    getSiblings: {\n                        type: PROP_TYPE.FUNCTION,\n                        required: !1,\n                        sendToChild: !1,\n                        childDecorate: function(_ref16) {\n                            return _ref16.getSiblings;\n                        }\n                    }\n                }, props);\n                if (!containerTemplate) throw new Error(\"Container template required\");\n                return {\n                    name: name,\n                    tag: tag,\n                    url: url,\n                    domain: domain,\n                    bridgeUrl: bridgeUrl,\n                    method: method,\n                    propsDef: propsDef,\n                    dimensions: dimensions,\n                    autoResize: autoResize,\n                    allowedParentDomains: allowedParentDomains,\n                    attributes: attributes,\n                    defaultContext: defaultContext,\n                    containerTemplate: containerTemplate,\n                    prerenderTemplate: prerenderTemplate,\n                    validate: validate,\n                    logger: logger,\n                    eligible: eligible,\n                    children: children,\n                    exports: \"function\" == typeof xportsDefinition ? xportsDefinition : function(_ref) {\n                        var getExports = _ref.getExports;\n                        var result = {};\n                        var _loop = function(_i2, _Object$keys2) {\n                            var key = _Object$keys2[_i2];\n                            var type = xportsDefinition[key].type;\n                            var valuePromise = getExports().then((function(res) {\n                                return res[key];\n                            }));\n                            result[key] = type === PROP_TYPE.FUNCTION ? function() {\n                                for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) args[_key] = arguments[_key];\n                                return valuePromise.then((function(value) {\n                                    return value.apply(void 0, args);\n                                }));\n                            } : valuePromise;\n                        };\n                        for (var _i2 = 0, _Object$keys2 = Object.keys(xportsDefinition); _i2 < _Object$keys2.length; _i2++) _loop(_i2, _Object$keys2);\n                        return result;\n                    }\n                };\n            }(opts);\n            var name = options.name, tag = options.tag, defaultContext = options.defaultContext, eligible = options.eligible, children = options.children;\n            var global = lib_global_getGlobal(window);\n            var instances = [];\n            var isChild = function() {\n                if (function(name) {\n                    try {\n                        return parseWindowName(window.name).name === name;\n                    } catch (err) {}\n                    return !1;\n                }(name)) {\n                    var _payload = getInitialParentPayload().payload;\n                    if (_payload.tag === tag && matchDomain(_payload.childDomainMatch, getDomain())) return !0;\n                }\n                return !1;\n            };\n            var registerChild = memoize((function() {\n                if (isChild()) {\n                    if (window.xprops) {\n                        delete global.components[tag];\n                        throw new Error(\"Can not register \" + name + \" as child - child already registered\");\n                    }\n                    var child = function(options) {\n                        var tag = options.tag, propsDef = options.propsDef, autoResize = options.autoResize, allowedParentDomains = options.allowedParentDomains;\n                        var onPropHandlers = [];\n                        var _getInitialParentPayl = getInitialParentPayload(), parent = _getInitialParentPayl.parent, payload = _getInitialParentPayl.payload;\n                        var parentComponentWindow = parent.win, parentDomain = parent.domain;\n                        var props;\n                        var exportsPromise = new promise_ZalgoPromise;\n                        var version = payload.version, uid = payload.uid, parentExports = payload.exports, context = payload.context, initialProps = payload.props;\n                        if (\"9_0_86\" !== version) throw new Error(\"Parent window has zoid version \" + version + \", child window has version 9_0_86\");\n                        var show = parentExports.show, hide = parentExports.hide, close = parentExports.close, onError = parentExports.onError, checkClose = parentExports.checkClose, parentExport = parentExports.export, parentResize = parentExports.resize, parentInit = parentExports.init;\n                        var getParent = function() {\n                            return parentComponentWindow;\n                        };\n                        var getParentDomain = function() {\n                            return parentDomain;\n                        };\n                        var onProps = function(handler) {\n                            onPropHandlers.push(handler);\n                            return {\n                                cancel: function() {\n                                    onPropHandlers.splice(onPropHandlers.indexOf(handler), 1);\n                                }\n                            };\n                        };\n                        var resize = function(_ref) {\n                            return parentResize.fireAndForget({\n                                width: _ref.width,\n                                height: _ref.height\n                            });\n                        };\n                        var xport = function(xports) {\n                            exportsPromise.resolve(xports);\n                            return parentExport(xports);\n                        };\n                        var getSiblings = function(_temp) {\n                            var anyParent = (void 0 === _temp ? {} : _temp).anyParent;\n                            var result = [];\n                            var currentParent = props.parent;\n                            void 0 === anyParent && (anyParent = !currentParent);\n                            if (!anyParent && !currentParent) throw new Error(\"No parent found for \" + tag + \" child\");\n                            for (var _i2 = 0, _getAllFramesInWindow2 = getAllFramesInWindow(window); _i2 < _getAllFramesInWindow2.length; _i2++) {\n                                var win = _getAllFramesInWindow2[_i2];\n                                if (isSameDomain(win)) {\n                                    var xprops = assertSameDomain(win).xprops;\n                                    if (xprops && getParent() === xprops.getParent()) {\n                                        var winParent = xprops.parent;\n                                        if (anyParent || !currentParent || winParent && winParent.uid === currentParent.uid) {\n                                            var xports = tryGlobal(win, (function(global) {\n                                                return global.exports;\n                                            }));\n                                            result.push({\n                                                props: xprops,\n                                                exports: xports\n                                            });\n                                        }\n                                    }\n                                }\n                            }\n                            return result;\n                        };\n                        var setProps = function(newProps, origin, isUpdate) {\n                            void 0 === isUpdate && (isUpdate = !1);\n                            var normalizedProps = function(parentComponentWindow, propsDef, props, origin, helpers, isUpdate) {\n                                void 0 === isUpdate && (isUpdate = !1);\n                                var result = {};\n                                for (var _i2 = 0, _Object$keys2 = Object.keys(props); _i2 < _Object$keys2.length; _i2++) {\n                                    var key = _Object$keys2[_i2];\n                                    var prop = propsDef[key];\n                                    if (!prop || !prop.sameDomain || origin === getDomain(window) && isSameDomain(parentComponentWindow)) {\n                                        var value = normalizeChildProp(propsDef, 0, key, props[key], helpers);\n                                        result[key] = value;\n                                        prop && prop.alias && !result[prop.alias] && (result[prop.alias] = value);\n                                    }\n                                }\n                                if (!isUpdate) for (var _i4 = 0, _Object$keys4 = Object.keys(propsDef); _i4 < _Object$keys4.length; _i4++) {\n                                    var _key = _Object$keys4[_i4];\n                                    props.hasOwnProperty(_key) || (result[_key] = normalizeChildProp(propsDef, 0, _key, void 0, helpers));\n                                }\n                                return result;\n                            }(parentComponentWindow, propsDef, newProps, origin, {\n                                tag: tag,\n                                show: show,\n                                hide: hide,\n                                close: close,\n                                focus: child_focus,\n                                onError: onError,\n                                resize: resize,\n                                getSiblings: getSiblings,\n                                onProps: onProps,\n                                getParent: getParent,\n                                getParentDomain: getParentDomain,\n                                uid: uid,\n                                export: xport\n                            }, isUpdate);\n                            props ? extend(props, normalizedProps) : props = normalizedProps;\n                            for (var _i4 = 0; _i4 < onPropHandlers.length; _i4++) (0, onPropHandlers[_i4])(props);\n                        };\n                        var updateProps = function(newProps) {\n                            return promise_ZalgoPromise.try((function() {\n                                return setProps(newProps, parentDomain, !0);\n                            }));\n                        };\n                        return {\n                            init: function() {\n                                return promise_ZalgoPromise.try((function() {\n                                    isSameDomain(parentComponentWindow) && function(_ref3) {\n                                        var componentName = _ref3.componentName, parentComponentWindow = _ref3.parentComponentWindow;\n                                        var _crossDomainDeseriali2 = crossDomainDeserialize({\n                                            data: parseWindowName(window.name).serializedInitialPayload,\n                                            sender: {\n                                                win: parentComponentWindow\n                                            },\n                                            basic: !0\n                                        }), sender = _crossDomainDeseriali2.sender;\n                                        if (\"uid\" === _crossDomainDeseriali2.reference.type || \"global\" === _crossDomainDeseriali2.metaData.windowRef.type) {\n                                            var _crossDomainSerialize = crossDomainSerialize({\n                                                data: _crossDomainDeseriali2.data,\n                                                metaData: {\n                                                    windowRef: window_getWindowRef(parentComponentWindow)\n                                                },\n                                                sender: {\n                                                    domain: sender.domain\n                                                },\n                                                receiver: {\n                                                    win: window,\n                                                    domain: getDomain()\n                                                },\n                                                basic: !0\n                                            });\n                                            window.name = buildChildWindowName({\n                                                name: componentName,\n                                                serializedPayload: _crossDomainSerialize.serializedData\n                                            });\n                                        }\n                                    }({\n                                        componentName: options.name,\n                                        parentComponentWindow: parentComponentWindow\n                                    });\n                                    lib_global_getGlobal(window).exports = options.exports({\n                                        getExports: function() {\n                                            return exportsPromise;\n                                        }\n                                    });\n                                    !function(allowedParentDomains, domain) {\n                                        if (!matchDomain(allowedParentDomains, domain)) throw new Error(\"Can not be rendered by domain: \" + domain);\n                                    }(allowedParentDomains, parentDomain);\n                                    markWindowKnown(parentComponentWindow);\n                                    !function() {\n                                        window.addEventListener(\"beforeunload\", (function() {\n                                            checkClose.fireAndForget();\n                                        }));\n                                        window.addEventListener(\"unload\", (function() {\n                                            checkClose.fireAndForget();\n                                        }));\n                                        onCloseWindow(parentComponentWindow, (function() {\n                                            child_destroy();\n                                        }));\n                                    }();\n                                    return parentInit({\n                                        updateProps: updateProps,\n                                        close: child_destroy\n                                    });\n                                })).then((function() {\n                                    return (_autoResize$width = autoResize.width, width = void 0 !== _autoResize$width && _autoResize$width, \n                                    _autoResize$height = autoResize.height, height = void 0 !== _autoResize$height && _autoResize$height, \n                                    _autoResize$element = autoResize.element, elementReady(void 0 === _autoResize$element ? \"body\" : _autoResize$element).catch(src_util_noop).then((function(element) {\n                                        return {\n                                            width: width,\n                                            height: height,\n                                            element: element\n                                        };\n                                    }))).then((function(_ref3) {\n                                        var width = _ref3.width, height = _ref3.height, element = _ref3.element;\n                                        element && (width || height) && context !== CONTEXT.POPUP && onResize(element, (function(_ref4) {\n                                            resize({\n                                                width: width ? _ref4.width : void 0,\n                                                height: height ? _ref4.height : void 0\n                                            });\n                                        }), {\n                                            width: width,\n                                            height: height\n                                        });\n                                    }));\n                                    var _autoResize$width, width, _autoResize$height, height, _autoResize$element;\n                                })).catch((function(err) {\n                                    onError(err);\n                                }));\n                            },\n                            getProps: function() {\n                                if (props) return props;\n                                setProps(initialProps, parentDomain);\n                                return props;\n                            }\n                        };\n                    }(options);\n                    child.init();\n                    return child;\n                }\n            }));\n            registerChild();\n            !function() {\n                var allowDelegateListener = on_on(\"zoid_allow_delegate_\" + name, (function() {\n                    return !0;\n                }));\n                var delegateListener = on_on(\"zoid_delegate_\" + name, (function(_ref2) {\n                    var _ref2$data = _ref2.data;\n                    return {\n                        parent: parentComponent({\n                            uid: _ref2$data.uid,\n                            options: options,\n                            overrides: _ref2$data.overrides,\n                            parentWin: _ref2.source\n                        })\n                    };\n                }));\n                cleanZoid.register(allowDelegateListener.cancel);\n                cleanZoid.register(delegateListener.cancel);\n            }();\n            global.components = global.components || {};\n            if (global.components[tag]) throw new Error(\"Can not register multiple components with the same tag: \" + tag);\n            global.components[tag] = !0;\n            return {\n                init: function init(inputProps) {\n                    var instance;\n                    var uid = \"zoid-\" + tag + \"-\" + uniqueID();\n                    var props = inputProps || {};\n                    var _eligible = eligible({\n                        props: props\n                    }), eligibility = _eligible.eligible, reason = _eligible.reason;\n                    var onDestroy = props.onDestroy;\n                    props.onDestroy = function() {\n                        instance && eligibility && instances.splice(instances.indexOf(instance), 1);\n                        if (onDestroy) return onDestroy.apply(void 0, arguments);\n                    };\n                    var parent = parentComponent({\n                        uid: uid,\n                        options: options\n                    });\n                    parent.init();\n                    eligibility ? parent.setProps(props) : props.onDestroy && props.onDestroy();\n                    cleanInstances.register((function(err) {\n                        return parent.destroy(err || new Error(\"zoid destroyed all components\"));\n                    }));\n                    var clone = function(_temp) {\n                        var _ref4$decorate = (void 0 === _temp ? {} : _temp).decorate;\n                        return init((void 0 === _ref4$decorate ? identity : _ref4$decorate)(props));\n                    };\n                    var _render = function(target, container, context) {\n                        return promise_ZalgoPromise.try((function() {\n                            if (!eligibility) {\n                                var err = new Error(reason || name + \" component is not eligible\");\n                                return parent.destroy(err).then((function() {\n                                    throw err;\n                                }));\n                            }\n                            if (!isWindow(target)) throw new Error(\"Must pass window to renderTo\");\n                            return function(props, context) {\n                                return promise_ZalgoPromise.try((function() {\n                                    if (props.window) return setup_toProxyWindow(props.window).getType();\n                                    if (context) {\n                                        if (context !== CONTEXT.IFRAME && context !== CONTEXT.POPUP) throw new Error(\"Unrecognized context: \" + context);\n                                        return context;\n                                    }\n                                    return defaultContext;\n                                }));\n                            }(props, context);\n                        })).then((function(finalContext) {\n                            container = function(context, container) {\n                                if (container) {\n                                    if (\"string\" != typeof container && !isElement(container)) throw new TypeError(\"Expected string or element selector to be passed\");\n                                    return container;\n                                }\n                                if (context === CONTEXT.POPUP) return \"body\";\n                                throw new Error(\"Expected element to be passed to render iframe\");\n                            }(finalContext, container);\n                            if (target !== window && \"string\" != typeof container) throw new Error(\"Must pass string element when rendering to another window\");\n                            return parent.render({\n                                target: target,\n                                container: container,\n                                context: finalContext,\n                                rerender: function() {\n                                    var newInstance = clone();\n                                    extend(instance, newInstance);\n                                    return newInstance.renderTo(target, container, context);\n                                }\n                            });\n                        })).catch((function(err) {\n                            return parent.destroy(err).then((function() {\n                                throw err;\n                            }));\n                        }));\n                    };\n                    instance = _extends({}, parent.getExports(), parent.getHelpers(), function() {\n                        var childComponents = children();\n                        var result = {};\n                        var _loop2 = function(_i4, _Object$keys4) {\n                            var childName = _Object$keys4[_i4];\n                            var Child = childComponents[childName];\n                            result[childName] = function(childInputProps) {\n                                var parentProps = parent.getProps();\n                                var childProps = _extends({}, childInputProps, {\n                                    parent: {\n                                        uid: uid,\n                                        props: parentProps,\n                                        export: parent.export\n                                    }\n                                });\n                                return Child(childProps);\n                            };\n                        };\n                        for (var _i4 = 0, _Object$keys4 = Object.keys(childComponents); _i4 < _Object$keys4.length; _i4++) _loop2(_i4, _Object$keys4);\n                        return result;\n                    }(), {\n                        isEligible: function() {\n                            return eligibility;\n                        },\n                        clone: clone,\n                        render: function(container, context) {\n                            return _render(window, container, context);\n                        },\n                        renderTo: function(target, container, context) {\n                            return _render(target, container, context);\n                        }\n                    });\n                    eligibility && instances.push(instance);\n                    return instance;\n                },\n                instances: instances,\n                driver: function(driverName, dep) {\n                    throw new Error(\"Driver support not enabled\");\n                },\n                isChild: isChild,\n                canRenderTo: function(win) {\n                    return send_send(win, \"zoid_allow_delegate_\" + name).then((function(_ref3) {\n                        return _ref3.data;\n                    })).catch((function() {\n                        return !1;\n                    }));\n                },\n                registerChild: registerChild\n            };\n        }\n        var component_create = function(options) {\n            !function() {\n                if (!global_getGlobal().initialized) {\n                    global_getGlobal().initialized = !0;\n                    on = (_ref3 = {\n                        on: on_on,\n                        send: send_send\n                    }).on, send = _ref3.send, (global = global_getGlobal()).receiveMessage = global.receiveMessage || function(message) {\n                        return receive_receiveMessage(message, {\n                            on: on,\n                            send: send\n                        });\n                    };\n                    !function(_ref5) {\n                        var on = _ref5.on, send = _ref5.send;\n                        globalStore().getOrSet(\"postMessageListener\", (function() {\n                            return addEventListener(window, \"message\", (function(event) {\n                                !function(event, _ref4) {\n                                    var on = _ref4.on, send = _ref4.send;\n                                    promise_ZalgoPromise.try((function() {\n                                        var source = event.source || event.sourceElement;\n                                        var origin = event.origin || event.originalEvent && event.originalEvent.origin;\n                                        var data = event.data;\n                                        \"null\" === origin && (origin = \"file://\");\n                                        if (source) {\n                                            if (!origin) throw new Error(\"Post message did not have origin domain\");\n                                            receive_receiveMessage({\n                                                source: source,\n                                                origin: origin,\n                                                data: data\n                                            }, {\n                                                on: on,\n                                                send: send\n                                            });\n                                        }\n                                    }));\n                                }(event, {\n                                    on: on,\n                                    send: send\n                                });\n                            }));\n                        }));\n                    }({\n                        on: on_on,\n                        send: send_send\n                    });\n                    setupBridge({\n                        on: on_on,\n                        send: send_send,\n                        receiveMessage: receive_receiveMessage\n                    });\n                    !function(_ref8) {\n                        var on = _ref8.on, send = _ref8.send;\n                        globalStore(\"builtinListeners\").getOrSet(\"helloListener\", (function() {\n                            var listener = on(\"postrobot_hello\", {\n                                domain: \"*\"\n                            }, (function(_ref3) {\n                                resolveHelloPromise(_ref3.source, {\n                                    domain: _ref3.origin\n                                });\n                                return {\n                                    instanceID: getInstanceID()\n                                };\n                            }));\n                            var parent = getAncestor();\n                            parent && sayHello(parent, {\n                                send: send\n                            }).catch((function(err) {}));\n                            return listener;\n                        }));\n                    }({\n                        on: on_on,\n                        send: send_send\n                    });\n                }\n                var _ref3, on, send, global;\n            }();\n            var comp = component(options);\n            var init = function(props) {\n                return comp.init(props);\n            };\n            init.driver = function(name, dep) {\n                return comp.driver(name, dep);\n            };\n            init.isChild = function() {\n                return comp.isChild();\n            };\n            init.canRenderTo = function(win) {\n                return comp.canRenderTo(win);\n            };\n            init.instances = comp.instances;\n            var child = comp.registerChild();\n            child && (window.xprops = init.xprops = child.getProps());\n            return init;\n        };\n        function destroyComponents(err) {\n            src_bridge && src_bridge.destroyBridges();\n            var destroyPromise = cleanInstances.all(err);\n            cleanInstances = cleanup();\n            return destroyPromise;\n        }\n        var destroyAll = destroyComponents;\n        function component_destroy(err) {\n            destroyAll();\n            delete window.__zoid_9_0_86__;\n            !function() {\n                !function() {\n                    var responseListeners = globalStore(\"responseListeners\");\n                    for (var _i2 = 0, _responseListeners$ke2 = responseListeners.keys(); _i2 < _responseListeners$ke2.length; _i2++) {\n                        var hash = _responseListeners$ke2[_i2];\n                        var listener = responseListeners.get(hash);\n                        listener && (listener.cancelled = !0);\n                        responseListeners.del(hash);\n                    }\n                }();\n                (listener = globalStore().get(\"postMessageListener\")) && listener.cancel();\n                var listener;\n                delete window.__post_robot_10_0_44__;\n            }();\n            return cleanZoid.all(err);\n        }\n    } ]);\n}));","/* @flow */\n/* eslint import/no-commonjs: 0 */\n\n// eslint-disable-next-line no-process-env\nif (process && process.env && process.env.ZOID_FRAME_ONLY) {\n    // $FlowFixMe\n    module.exports = require('./dist/zoid.frame');\n    // $FlowFixMe\n    module.exports.default = module.exports;\n} else {\n    // $FlowFixMe\n    module.exports = require('./dist/zoid');\n    // $FlowFixMe\n    module.exports.default = module.exports;\n}\n","export let createNanoEvents = () => ({\n  emit(event, ...args) {\n    let callbacks = this.events[event] || []\n    for (let i = 0, length = callbacks.length; i < length; i++) {\n      callbacks[i](...args)\n    }\n  },\n  events: {},\n  on(event, cb) {\n    this.events[event]?.push(cb) || (this.events[event] = [cb])\n    return () => {\n      this.events[event] = this.events[event]?.filter(i => cb !== i)\n    }\n  }\n})\n",null,null,null,null,null],"names":["__classPrivateFieldGet","receiver","state","kind","f","TypeError","has","call","value","get","SuppressedError","global$1","global","self","window","defaultSetTimout","Error","defaultClearTimeout","cachedSetTimeout","cachedClearTimeout","runTimeout","fun","setTimeout","e","this","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","prototype","apply","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","performance","performanceNow","now","mozNow","msNow","oNow","webkitNow","Date","getTime","startTime","process","nextTick","args","Array","arguments","i","push","title","browser","env","argv","version","versions","binding","name","cwd","chdir","dir","umask","hrtime","previousTimestamp","clocktime","seconds","Math","floor","nanoseconds","platform","release","config","uptime","assert","condition","msg","trim","err","isObject","isArray","BROWSER_ALIASES_MAP","Bada","BlackBerry","Chrome","Chromium","Electron","Epiphany","Firefox","Focus","Generic","Googlebot","Maxthon","Opera","PhantomJS","Puffin","QupZilla","QQ","QQLite","Safari","Sailfish","SeaMonkey","Sleipnir","Swing","Tizen","Vivaldi","WeChat","Roku","BROWSER_MAP","amazon_silk","android","bada","blackberry","chrome","chromium","electron","epiphany","firefox","focus","generic","googlebot","google_search","ie","k_meleon","maxthon","edge","mz","naver","opera","opera_coast","phantomjs","puffin","qupzilla","qq","qqlite","safari","sailfish","samsung_internet","seamonkey","sleipnir","swing","tizen","uc","vivaldi","webos","wechat","yandex","PLATFORMS_MAP","tablet","mobile","desktop","tv","OS_MAP","WindowsPhone","Windows","MacOS","iOS","Android","WebOS","Linux","ChromeOS","PlayStation4","ENGINE_MAP","EdgeHTML","Blink","Trident","Presto","Gecko","WebKit","Utils","getFirstMatch","regexp","ua","match","getSecondMatch","matchAndReturnConst","_const","test","getWindowsVersionName","getMacOSVersionName","v","split","splice","map","s","parseInt","getAndroidVersionName","getVersionPrecision","compareVersions","versionA","versionB","isLoose","versionAPrecision","versionBPrecision","precision","max","lastPrecision","chunks","delta","_version","join","chunk","reverse","min","arr","iterator","result","find","predicate","l","assign","obj","assigners","Object","assigner","keys","forEach","key","getBrowserAlias","browserName","getBrowserTypeByAlias","browserAlias","commonVersionIdentifier","browsersList","describe","parser","notLikeAndroid","butAndroid","search","osParsersList","versionName","replace","os","platformParsersList","type","vendor","model","iDevice","likeIDevice","getBrowserName","osMajorVersion","Number","String","getOSVersion","getOSName","enginesParsersList","engine","isGecko","likeGecko","Parser","constructor","UA","skipParsing","_ua","parsedResult","parse","getUA","regex","parseBrowser","browserDescriptor","browserParsersList","_browser","some","getBrowser","toLowerCase","getBrowserVersion","getOS","parseOS","_os","getPlatform","parsePlatform","getPlatformType","_platform","getEngine","parseEngine","getEngineName","_engine","getResult","satisfies","checkTree","platformsAndOSes","platformsAndOSCounter","browsers","browsersCounter","currentDefinition","platformsAndOSNames","OSMatchingDefinition","isOS","osResult","platformMatchingDefinition","isPlatform","platformResult","browserNames","matchingDefinition","isBrowser","compareVersion","includingAlias","defaultBrowserName","browserNameLower","alias","expectedResults","comparableVersion","currentBrowserVersion","substr","indexOf","osName","platformType","isEngine","engineName","is","anything","anythings","Bowser","getParser","isEnvBrowser","document","isMobile","navigator","userAgent","createElement","h","attrs","children","el","attr","g","setAttribute","removeAttribute","setAttributes","child","flat","append","nextFrame","async","Promise","resolve","requestAnimationFrame","transitionEnd","getComputedStyle","transition","done","removeEventListener","addEventListener","window$1","body","lookup","revLookup","Arr","Uint8Array","inited","init","code","charCodeAt","encodeChunk","uint8","start","end","tmp","num","output","fromByteArray","extraBytes","parts","maxChunkLength","len2","read","buffer","offset","isLE","mLen","nBytes","m","eLen","eMax","eBias","nBits","d","NaN","Infinity","pow","write","c","rt","abs","isNaN","log","LN2","toString","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","__proto__","arg","encodingOrOffset","allocUnsafe","from","ArrayBuffer","byteOffset","byteLength","undefined","fromArrayLike","fromArrayBuffer","string","encoding","isEncoding","actual","slice","fromString","internalIsBuffer","checked","copy","val","data","fromObject","assertSize","size","b","_isBuffer","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","n","bidirectionalIndexOf","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","buf","readUInt16BE","foundIndex","found","j","hexWrite","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","str","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","base64.fromByteArray","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","decodeCodePointsArray","poolSize","_augment","Symbol","species","alloc","fill","allocUnsafeSlow","isBuffer","isFastBuffer","readFloatLE","isSlowBuffer","compare","a","x","y","list","pos","swap16","swap32","swap64","equals","inspect","target","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","ret","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","ieee754.write","writeDouble","newBuf","subarray","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","ieee754.read","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","set","INVALID_BASE64_RE","leadSurrogate","b64","placeHolders","L","base64.toByteArray","stringtrim","base64clean","src","dst","exports","modules","installedModules","__webpack_require__","moduleId","module","getter","o","defineProperty","enumerable","r","toStringTag","t","mode","__esModule","ns","create","bind","default","object","property","hasOwnProperty","p","__webpack_exports__","_setPrototypeOf","setPrototypeOf","_inheritsLoose","subClass","superClass","_extends","source","utils_isPromise","item","Window","_toString","then","dom_PopupOpenError","component_create","component_destroy","destroyComponents","destroyAll","PROP_TYPE","PROP_SERIALIZATION","CONTEXT","EVENT","flushPromise","dispatchedErrors","possiblyUnhandledPromiseHandlers","activeCount","flushActive","promise","startActive","endActive","promise_ZalgoPromise","ZalgoPromise","handler","_this","resolved","rejected","errorHandled","error","handlers","dispatching","stack","_result","_error","isAsync","reject","_proto","dispatch","_this2","_err","asyncReject","chain","firstPromise","secondPromise","_handlers$i","onSuccess","onError","_result2","promiseResult","catch","finally","onFinally","try","time","_this3","toPromise","lazy","all","promises","count","results","prom","hash","awaitPromises","_loop","items","method","onPossiblyUnhandledException","cancel","context","delay","_delay","isPromise","flush","Zalgo","isRegex","WINDOW_TYPE","IFRAME","POPUP","IE_WIN_ACCESS_ERROR","getActualProtocol","win","location","protocol","getProtocol","mockDomain","isAboutProtocol","utils_getParent","parent","getOpener","opener","canReadFromWindow","getActualDomain","host","getDomain","domain","isSameDomain","desc","getOwnPropertyDescriptor","assertSameDomain","isAncestorParent","childParent","getFrames","frames","frame","_i","_frame","getAllChildFrames","_i3","_getFrames2","_i5","_getAllChildFrames2","getTop","top","_i7","_getAllChildFrames4","getAllFramesInWindow","iframeWindows","iframeFrames","isWindowClosed","allowMock","closed","message","mockclosed","iframeIndex","collection","contentWindow","parentNode","doc","ownerDocument","documentElement","contains","getFrameByName","winFrames","_i9","childFrame","getAncestor","anyMatch","collection1","collection2","_i17","item1","_i19","getDistanceFromTop","distance","isSameTopWindow","win1","win2","top1","top2","allFrames1","allFrames2","opener1","opener2","matchDomain","pattern","origin","Boolean","JSON","stringify","subpattern","getDomainFromUrl","url","onCloseWindow","callback","maxtime","check","isWindow","__cross_domain_utils_window_check__","getFrameForWindow","frameElement","_i21","_document$querySelect2","querySelectorAll","closeWindow","parentElement","removeChild","close","util_safeIndexOf","objectIDs","weakmap_CrossDomainSafeWeakMap","CrossDomainSafeWeakMap","weakmap","values","random","WeakMap","freeze","testWeakMap","testKey","_cleanupClosedWindows","delete","isSafeToReadWrite","entry","writable","index","getOrSet","_getPrototypeOf","getPrototypeOf","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","construct_construct","Parent","Class","instance","Function","wrapNativeSuper_wrapNativeSuper","_cache","Map","fn","Wrapper","configurable","getFunctionName","__name__","displayName","setFunctionName","base64encode","btoa","encodeURIComponent","p1","uniqueID","chars","charAt","toISOString","serializeArgs","subkey","uid","getEmptyObject","memoizeGlobalIndex","memoizeGlobalIndexValidFrom","memoize","options","simpleCache","thisCache","_options$thisNamespac","thisNamespace","cacheTime","memoizeIndex","memoizedFunction","_len","_key","cache","cacheKey","cacheResult","reset","memoizePromise","memoizedPromiseFunction","_arguments","_len2","_key2","src_util_noop","called","stringifyError","level","newErr","extend","identity","safeInterval","loop","arrayFrom","isDefined","util_isRegex","util_getOrSet","cleanup","cleanErr","tasks","cleaned","cleaner","register","task","shift","assertExists","thing","clear","util_ExtendableError","_Error","ExtendableError","_this6","captureStackTrace","ReferenceError","getBody","isDocumentReady","readyState","isDocumentInteractive","urlEncode","parseQuery","queryString","logic","__inline_memoize_cache__","params","_i2","_queryString$split2","pair","decodeURIComponent","extendQuery","originalQuery","props","filter","appendChild","container","isElement","element","Element","nodeType","style","getElementSafe","id","querySelector","elementReady","interval","setInterval","clearInterval","awaitFrameLoadPromises","_ExtendableError","PopupOpenError","awaitFrameLoad","_promise","awaitFrameWindow","loadedFrame","dom_iframe","tag","styleText","class","className","attributes","_i10","_Object$keys2","styleSheet","cssText","createTextNode","html","innerHTML","allowTransparency","backgroundColor","border","isIE","hasAttribute","event","showElement","setProperty","hideElement","destroyElement","isElementClosed","onResize","_temp","_ref2","_ref2$width","width","_ref2$height","height","_ref2$interval","_ref2$win","currentWidth","offsetWidth","currentHeight","offsetHeight","canceled","observer","getClientRects","newWidth","newHeight","ResizeObserver","observe","MutationObserver","childList","subtree","characterData","disconnect","isShadowElement","currentScript","getCurrentScript","stackDetails","exec","scriptLocation","_i22","_Array$prototype$slic2","getElementsByTagName","script","currentUID","toPx","toCSS","global_getGlobal","globalKey","getAttribute","hashedString","total","dataset","getObj","globalStore","defStore","store","storeKey","defVal","del","_SERIALIZER","WildCard","getWildcard","WINDOW_WILDCARD","windowStore","winStore","getStore","getInstanceID","resolveHelloPromise","_ref","helloPromises","existingPromise","newPromise","sayHello","_ref4","send","instanceID","_ref5","getWindowInstanceID","_ref6","_ref7","markWindowKnown","isSerializedType","__type__","determineType","serializeType","__val__","_DESERIALIZER","SERIALIZER","function","date","number","boolean","null","defaultSerializers","DESERIALIZER","RegExp","defaultDeserializers","cleanupProxyWindows","idToProxyWindow","_idToProxyWindow$keys2","shouldClean","getSerializedWindow","winPromise","_ref$id","windowNamePromise","windowTypePromise","getName","getType","isClosed","setLocation","href","opts","_opts$method","_ref3","_ref3$method","form","display","_i24","_Object$keys4","_body$key","input","submit","setName","sameDomain","window_ProxyWindow","ProxyWindow","serializedWindow","isProxyWindow","actualWindow","actualWindowPromise","getID","setWindow","isPopup","_this4","isPopupPromise","getNamePromise","reopenPromise","open","focusPromise","getWindow","awaitWindow","matchWindow","_this5","proxyInstanceID","knownWindowInstanceID","unwrap","serialize","toProxyWindow","deserialize","_ref8","_ref9","addMethod","methodStore","proxyWindowMethods","lookupMethod","function_serializeFunction","destination","meth","methodSource","__id__","serializeMessage","_serialize","serializers","serializer","deserializeMessage","_deserialize","deserializers","deserializer","cross_domain_zalgo_promise","serializedPromise","cross_domain_function","serializedFunction","getDeserializedFunction","crossDomainFunctionWrapper","_args","fireAndForget","__origin__","__source__","cross_domain_window","SEND_MESSAGE_STRATEGIES","send_sendMessage","domainBuffer","serializedMessage","__post_robot_10_0_44__","strategies","errors","strategyName","getResponseListener","deleteResponseListener","isResponseListenerErrored","getRequestListener","requestListeners","_i4","winQualifier","nameListeners","domainListeners","__domain_regex__","_i6","_domainListeners$__DO2","_domainListeners$__DO3","listener","handleRequest","logName","sendResponse","ack","pathname","handleError","handleAck","handleResponse","receive_receiveMessage","receivedMessages","messages","parsedMessage","parseMessages","on_on","requestListener","addRequestListener","listenersCollection","_i8","_win2","_listenersCollection","_i12","_domain2","_i14","existingListener","regexListeners","regexListener","strDomain","errorHandler","postrobot_post_message","postMessage","postrobot_global","mockUserAgent","foreignGlobal","receiveMessage","send_send","domainMatcher","responseTimeout","childTimeout","actualParent","_i15","_getFrames8","targetDomain","actualDomain","normalizedDomain","responseListener","reqPromises","totalAckTimeout","totalResTimeout","ackTimeout","resTimeout","cancelled","setup_toProxyWindow","lib_global_getGlobal","__zoid_9_0_86__","tryGlobal","getProxyObject","basicSerialize","getUIDRefStore","references","crossDomainSerialize","metaData","sender","_ref$passByReference","passByReference","_ref$basic","basic","proxyWin","reference","serializedData","cleanReference","ref","crossDomainDeserialize","_ref2$basic","atob","STRING","OBJECT","FUNCTION","BOOLEAN","NUMBER","ARRAY","DOTIFY","BASE64","RENDER","RENDERED","DISPLAY","ERROR","CLOSE","DESTROY","PROPS","RESIZE","FOCUS","buildChildWindowName","serializedPayload","parseWindowName","windowName","_windowName$split","zoidcomp","serializedInitialPayload","parseInitialParentPayload","_crossDomainDeseriali","windowRef","_ret","ancestor","_getAllFramesInWindow2","windows","findChildFrameByName","_i11","_getFrames4","namedFrame","payload","getInitialParentPayload","window_getWindowRef","targetWindow","currentWindow","normalizeChildProp","propsDef","helpers","prop","childDecorate","onProps","resize","getParent","getParentDomain","show","hide","export","getSiblings","child_focus","child_destroy","props_defaultNoop","props_decorateOnce","eachProp","serializeProps","propDef","_METHOD$GET$METHOD$PO","_METHOD$GET$METHOD$PO2","getParam","queryParam","post","bodyParam","getValue","queryValue","bodyValue","finalParam","finalValue","serialization","dotify","prefix","newobj","every","dotkey","parentComponent","triggered","emitter","currentProxyWin","currentProxyContainer","childComponent","currentChildDomain","currentContainer","_ref$overrides","overrides","_ref$parentWin","parentWin","containerTemplate","prerenderTemplate","dimensions","autoResize","domainMatch","xports","initPromise","handledErrors","clean","inputProps","internalState","visible","eventName","handlerList","trigger","_len3","_key3","triggerOnce","_len4","_key4","onErrorOverride","getProxyContainerOverride","getProxyContainer","showOverride","hideOverride","closeOverride","renderContainerOverride","renderContainer","getProxyWindowOverride","getProxyWindow","setProxyWinOverride","setProxyWin","openFrameOverride","openFrame","openPrerenderFrameOverride","openPrerenderFrame","prerenderOverride","prerender","openOverride","openPrerenderOverride","openPrerender","watchForUnloadOverride","watchForUnload","getInternalStateOverride","getInternalState","setInternalStateOverride","setInternalState","resolveInitPromise","rejectInitPromise","getPropsForChild","initialChildDomain","sendToChild","newInternalState","windowProp","_proxyWin","setState","getUrl","getAttributes","getInitialChildDomain","iframe","proxyPrerenderFrame","prerenderFrame","prerenderFrameWindow","getCurrentWindowReferenceUID","getWindowRef","actualComponentWindow","initChild","childDomain","childExports","destroy","proxyFrame","_requestPromises$get2","unloadWindowListener","closeParentWindowListener","checkWindowClose","secondIsClosed","exportsPromise","xport","actualExports","renderTemplate","renderer","proxyPrerenderWin","prerenderWindow","tagName","_arrayFrom2","_arrayFrom4","_autoResize$width","_autoResize$height","_autoResize$element","prerenderResizeListener","_ref10","proxyContainer","_ref11","rerender","_ref12","innerContainer","containerWatcher","sacrificialFrame","sacrificialFrameWin","mutationObservers","_i18","elementClosed","mutationElement","mutationObserver","frameWin","removeError","getHelpers","updateProps","setProps","newInputProps","existingProps","valueDetermined","required","decorate","newProps","childProps","containerElement","insertShadowSlot","shadowHost","shadowRoot","slotName","slot","slotProvider","onRender","onDisplay","onRendered","onClose","onDestroy","onFocus","render","_ref14","childDomainMatch","delegatePromise","delegateProps","propName","allowDelegate","childOverridesPromise","_ref13","parentComp","getDelegateOverrides","childOverrides","_len5","_key5","_len6","_key6","_len7","_key7","_len8","_key8","_len9","_key9","_len10","_key10","_len11","_key11","watchForUnloadPromise","buildBodyPromise","onRenderPromise","getProxyContainerPromise","getProxyWindowPromise","finalSetPropsPromise","buildUrlPromise","query","originalUrl","originalHash","_url$split","_originalUrl$split","hashString","buildWindowNamePromise","_temp2","_ref6$target","checkClose","childPayload","_crossDomainSerialize","openFramePromise","openPrerenderFramePromise","renderContainerPromise","_ref15","openPromise","_ref16","openPrerenderPromise","_ref17","setStatePromise","prerenderPromise","_ref18","setWindowNamePromise","_ref19","getMethodPromise","_ref20","loadUrlPromise","windowUrl","_ref21","watchForClosePromise","watchForClose","onDisplayPromise","openBridgePromise","runTimeoutPromise","onRenderedPromise","getProps","getExports","defaultContainerTemplate","div","cspNonce","classList","add","remove","cleanInstances","cleanZoid","component","allowDelegateListener","delegateListener","bridgeUrl","_options$props","_options$dimensions","_options$autoResize","_options$allowedParen","allowedParentDomains","_options$attributes","_options$defaultConte","defaultContext","_options$containerTem","_options$prerenderTem","validate","_options$eligible","eligible","_options$logger","logger","info","_options$exports","xportsDefinition","_options$children","valuePromise","instances","isChild","_payload","registerChild","xprops","components","onPropHandlers","_getInitialParentPayl","parentComponentWindow","parentDomain","parentExports","initialProps","parentExport","parentResize","parentInit","anyParent","currentParent","winParent","isUpdate","normalizedProps","componentName","_crossDomainDeseriali2","_ref2$data","_eligible","eligibility","reason","clone","_ref4$decorate","_render","finalContext","newInstance","renderTo","childComponents","_loop2","childName","Child","childInputProps","parentProps","isEligible","driver","driverName","dep","canRenderTo","initialized","sourceElement","originalEvent","comp","destroyPromise","responseListeners","_responseListeners$ke2","utils_getUserAgent","isOpener","normalizeMockUrl","isPerc","toNum","normalizeDimension","dim","awaitWindowHello","needsBridgeForBrowser","needsBridgeForWin","needsBridgeForDomain","needsBridge","getBridgeName","isBridge","documentBodyReady","registerRemoteWindow","findRemoteWindow","remoteWinPromise","registerRemoteSendMessage","sendMessage","remoteWin","remoteDomain","rejectRemoteSendMessage","linkWindow","popupWindowsByName","popupWindowsByWin","_popupWindowsByName$k2","winName","_details","details","setupBridge","windowOpen","last","bridgePromise","bridge","getWindowDetails","openTunnelToParent","canary","tunnelWindows","parentWindow","_tunnelWindows$keys2","tunnelWindow","postrobot_bridge","messagingChild","messagingParent","src_bridge","cleanUpWindow","openBridge","bridges","bridgeFrames","linkUrl","hasBridge","destroyBridges","_bridgeFrames$keys2","getDimensions","_getDimensions","_getDimensions$width","_getDimensions$height","outerWidth","_options$closeOnUnloa","closeOnUnload","_options$name","left","round","screenX","screen","outerHeight","screenY","status","toolbar","menubar","resizable","scrollbars","popup","_len12","_key12","bridgeDomain","defaultPrerenderTemplate","spinner","ZOID_FRAME_ONLY","require$$0","require$$1","createNanoEvents","callbacks","events","cb","Lightbox","stylesheet","root","holder","role","spinnerRender","nonce","adoptNode","lightbox","_Checkout_instances","_Checkout_renderComponent","zoid","endpoint","ident","allow","URL","_Checkout_buildComponent","colors","theme","onOpenWindow","onClosePopup","onPaymentComplete","onPaymentError","isApplePayAvailable","ApplePaySession","canMakePayments","isEmbedded","referrer","hostname","path","OPEN","PAYMENT_COMPLETE","PAYMENT_ERROR","checkout","color","launch","_Checkout_showLightbox","popupOnMobile","legacy"],"mappings":"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","x_google_ignoreList":[0,1,2,5,6,7,8,9,10,11,12,17,18,19,20,21,22,23,24]}